---
{
    "title": "UUID_TO_INT",
    "language": "zh-CN"
}
---

## 描述

UUID_TO_INT 函数用于将 UUID 字符串转换为 INT128 整数表示。这对于需要在数据库中以整数形式存储 UUID 的场景非常有用。

## 语法

```sql
UUID_TO_INT(<uuid>)
```

## 参数

| 参数 | 说明 |
| -------- | ----------------------------------------- |
| `<uuid>` | 需要转换的 UUID 字符串。类型：VARCHAR |

## 返回值

返回 INT128 类型，为 UUID 的整数表示。

特殊情况：
- 如果参数为 NULL，返回 NULL
- 如果 UUID 格式无效，返回 NULL

## 示例

1. 基本用法：UUID 转整数
```sql
SELECT uuid_to_int('6ce4766f-6783-4b30-b357-bba1c7600348');
```
```text
+-----------------------------------------------------+
| uuid_to_int('6ce4766f-6783-4b30-b357-bba1c7600348') |
+-----------------------------------------------------+
| 95721955514869408091759290071393952876              |
+-----------------------------------------------------+
```

2. NULL 值处理
```sql
SELECT uuid_to_int(NULL);
```
```text
+-------------------+
| uuid_to_int(NULL) |
+-------------------+
| NULL              |
+-------------------+
```

3. 配合 UUID() 使用
```sql
SELECT uuid_to_int(UUID());
```
```text
+----------------------------------------+
| uuid_to_int(UUID())                    |
+----------------------------------------+
| 65543688548341017423158579845706592446 |
+----------------------------------------+
```

4. 批量转换
```sql
SELECT uuid, uuid_to_int(uuid) AS uuid_int
FROM (SELECT '6ce4766f-6783-4b30-b357-bba1c7600348' AS uuid) t;
```
```text
+--------------------------------------+--------------------------------------+
| uuid                                 | uuid_int                             |
+--------------------------------------+--------------------------------------+
| 6ce4766f-6783-4b30-b357-bba1c7600348 | 95721955514869408091759290071393952876|
+--------------------------------------+--------------------------------------+
```

4. 大写 UUID 转换

```sql
SELECT uuid_to_int('6CE4766F-6783-4B30-B357-BBA1C7600348');
```

```text
+-----------------------------------------------------+
| uuid_to_int('6CE4766F-6783-4B30-B357-BBA1C7600348') |
+-----------------------------------------------------+
| 95721955514869408091759290071393952876              |
+-----------------------------------------------------+
```

5. 错误格式的 UUID

```sql
SELECT uuid_to_int('invalid-uuid-format');
```

```text
+------------------------------------+
| uuid_to_int('invalid-uuid-format') |
+------------------------------------+
| NULL                               |
+------------------------------------+
```