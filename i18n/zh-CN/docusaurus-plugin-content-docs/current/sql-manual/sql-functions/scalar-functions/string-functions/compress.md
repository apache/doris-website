---
{
    "title": "COMPRESS",
    "language": "zh-CN"
}
---

## 描述

COMPRESS 函数用于将字符串压缩成二进制数据。使用 zlib 压缩算法，压缩后的数据可通过 UNCOMPRESS 函数解压还原。

## 语法

```sql
COMPRESS(<str>)
```

## 参数

| 参数 | 说明 |
| -------- | ----------------------------------------- |
| `<str>` | 需要压缩的字符串。类型：VARCHAR |

## 返回值

返回 VARCHAR 类型，为压缩后的二进制数据（不可读）。

特殊情况：
- 如果参数为 NULL，返回 NULL
- 如果输入为空字符串 `''`，返回空字符串 `''`

## 示例

1. 基本用法：压缩和解压
```sql
SELECT uncompress(compress('hello'));
```
```text 
+-------------------------------+
| uncompress(compress('hello')) |
+-------------------------------+
| hello                         |
+-------------------------------+
```

2. 空字符串处理
```sql
SELECT compress('');
```
```text 
+--------------+
| compress('') |
+--------------+
|              |
+--------------+
```

3. NULL 值处理
```sql
SELECT compress(NULL);
```
```text 
+----------------+
| compress(NULL) |
+----------------+
| NULL           |
+----------------+
```

4. utf-8 字符测试
```sql
SELECT uncompress(compress('ṭṛì'));
```
```text
+----------------------------------+
| uncompress(compress('ṭṛì'))      |
+----------------------------------+
| ṭṛì                              |
+----------------------------------+
```