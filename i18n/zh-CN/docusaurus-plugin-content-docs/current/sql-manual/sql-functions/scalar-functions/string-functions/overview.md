---
{
    "title": "å­—ç¬¦ä¸²å‡½æ•°æ¦‚è¿°",
    "language": "zh-CN",
    "description": "å­—ç¬¦ä¸²å‡½æ•°æ˜¯ç”¨äºŽå¤„ç†å’Œæ“ä½œå­—ç¬¦ä¸²æ•°æ®çš„å†…ç½®å‡½æ•°ã€‚å®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œå„ç§å­—ç¬¦ä¸²æ“ä½œï¼Œå¦‚è¿žæŽ¥ã€åˆ†å‰²ã€æ›¿æ¢ã€æŸ¥æ‰¾ç­‰ã€‚"
}
---

# å­—ç¬¦ä¸²å‡½æ•°æ¦‚è¿°

å­—ç¬¦ä¸²å‡½æ•°æ˜¯ç”¨äºŽå¤„ç†å’Œæ“ä½œå­—ç¬¦ä¸²æ•°æ®çš„å†…ç½®å‡½æ•°ã€‚å®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œå„ç§å­—ç¬¦ä¸²æ“ä½œï¼Œå¦‚è¿žæŽ¥ã€åˆ†å‰²ã€æ›¿æ¢ã€æŸ¥æ‰¾ç­‰ã€‚

## UTF-8 ç¼–ç æ”¯æŒ

UTF-8ç¼–ç æ˜¯ä¸€ç§å˜é•¿çš„å­—ç¬¦ç¼–ç æ–¹å¼ï¼Œå¯ä»¥è¡¨ç¤ºä¸–ç•Œä¸Šå‡ ä¹Žæ‰€æœ‰çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬è¥¿é‡Œå°”å­—æ¯ã€å¸Œè…Šå­—æ¯ã€æ±‰å­—ã€è¡¨æƒ…ç­‰ã€‚

åœ¨Dorisçš„å­—ç¬¦ä¸²å‡½æ•°ä¸­ï¼Œå¦‚æžœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜Žï¼Œå­—ç¬¦ä¸²éƒ½æ˜¯æ”¯æŒUTF-8ç¼–ç çš„ã€‚

ä¾‹å¦‚ `substring` å‡½æ•°å¯ä»¥æ­£ç¡®å¤„ç†UTF-8ç¼–ç çš„å­—ç¬¦ä¸²ï¼š

### ASCII å­—ç¬¦

```sql
mysql> SELECT substring('abc1', 2);
+----------------------+
| substring('abc1', 2) |
+----------------------+
| bc1                  |
+----------------------+
```

### å¸Œè…Šå­—æ¯

```sql
mysql> SELECT substring('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½', 2, 4);
+---------------------------------------+
| substring('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½', 2, 4)          |
+---------------------------------------+
| Î»Ï†Î±Î²                                  |
+---------------------------------------+
1 row in set (0.01 sec)
```

### æ±‰å­—

```sql
mysql> SELECT substring('ä½ å¥½ï¼Œä¸–ç•Œ', 2, 2);
+------------------------------------+
| substring('ä½ å¥½ï¼Œä¸–ç•Œ', 2, 2)      |
+------------------------------------+
| å¥½ï¼Œ                               |
+------------------------------------+
```

### è¡¨æƒ…

```sql
mysql> SELECT substring('ðŸ˜ŠðŸ˜ŠaðŸ˜Š World!', 2, 3);
+-----------------------------------------+
| substring('ðŸ˜ŠðŸ˜ŠaðŸ˜Š World!', 2, 3)     |
+-----------------------------------------+
| ðŸ˜ŠaðŸ˜Š                                  |
+-----------------------------------------+
```

## æ€§èƒ½è€ƒè™‘

å› ä¸ºUTF-8ç¼–ç çš„å­—ç¬¦é•¿åº¦ä¸å›ºå®šï¼Œæ‰€ä»¥åœ¨æ€§èƒ½ä¸Šä¼šæœ‰ä¸€å®šçš„å½±å“ã€‚ä¸€äº›å‡½æ•°æä¾›äº†ASCIIç‰ˆæœ¬å’ŒUTF-8ç‰ˆæœ¬ä»¥ä¾›é€‰æ‹©ã€‚

ä¾‹å¦‚ï¼š
- `length` å‡½æ•°è¿”å›žå­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦
- `char_length` å‡½æ•°è¿”å›žå­—ç¬¦ä¸²çš„å­—ç¬¦é•¿åº¦

```sql
mysql> select length('ä½ å¥½');
+------------------+
| length('ä½ å¥½')   |
+------------------+
|                6 |
+------------------+

mysql> select length('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½');
+------------------------------+
| length('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½')          |
+------------------------------+
|                           18 |
+------------------------------+

mysql> select char_length('ä½ å¥½');
+-----------------------+
| char_length('ä½ å¥½')   |
+-----------------------+
|                     2 |
+-----------------------+

mysql> select char_length('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½');
+-----------------------------------+
| char_length('Î±Î»Ï†Î±Î²Î·Ï„Î¿Î½')          |
+-----------------------------------+
|                                 9 |
+-----------------------------------+
```

## ç‰¹æ®Šè¯´æ˜Ž

ä¸€äº›ä¸æ”¯æŒUTF-8ç¼–ç çš„å­—ç¬¦ä¸²å‡½æ•°ï¼Œä¼šåœ¨æ–‡æ¡£ä¸­è¿›è¡Œç‰¹åˆ«è¯´æ˜Žï¼Œä¾‹å¦‚`NGRAM_SEARCH`å‡½æ•°åªæ”¯æŒASCIIç¼–ç çš„å­—ç¬¦ä¸²ã€‚

```sql
mysql> select ngram_search('abcab' , 'ab' , 2);
+----------------------------------+
| ngram_search('abcab' , 'ab' , 2) |
+----------------------------------+
|                              0.5 |
+----------------------------------+
```

å¯¹äºŽéžASCIIå­—ç¬¦ï¼Œ`NGRAM_SEARCH`ä¹Ÿä¼šæ‰§è¡Œï¼Œä½†æ˜¯ç»“æžœä¼šä¸ç¬¦åˆé¢„æœŸã€‚

```sql
mysql> select ngram_search('Î±Î²Î³Î±Î²' , 'Î±Î²' , 2);
+-----------------------------------------+
| ngram_search('Î±Î²Î³Î±Î²' , 'Î±Î²' , 2)        |
+-----------------------------------------+
|                      0.6666666666666666 |
+-----------------------------------------+
```
