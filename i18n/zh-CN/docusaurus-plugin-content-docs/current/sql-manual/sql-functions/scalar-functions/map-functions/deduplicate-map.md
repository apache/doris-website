---
{
    "title": "DEDUPLICATE_MAP",
    "language": "zh-CN",
    "description": "去掉 Map 中的重复 key。 默认情况下 Doris 会对生成的 Map （比如在导入数据的时候）去重。 但是某些特殊场景得到的 Map 可能是未去重的，比如从外表读取的数据，比如从字符串转换为 Map 类型。 可以使用该函数对 Map 类型去重。"
}
---

## 描述

去掉 Map 中的重复 key。
默认情况下 Doris 会对生成的 Map （比如在导入数据的时候）去重。
但是某些特殊场景得到的 Map 可能是未去重的，比如从外表读取的数据，比如从字符串转换为 Map 类型。
可以使用该函数对 Map 类型去重。

## 语法

```sql
DEDUPLICATE_MAP(<map>)
```

## 参数

- `<map>` 输入的 map 内容

## 返回值

`Map`: 返回去重之后的 Map（类型和输入参数类型一致）。

## 举例
    ```sql
    select m, deduplicate_map(m) from (select cast('{"a": 123, "a": 345}' as map<string, int>) m ) t;
    ```

    ```text
    +--------------------+--------------------+
    | m                  | deduplicate_map(m) |
    +--------------------+--------------------+
    | {"a":123, "a":345} | {"a":345}          |
    +--------------------+--------------------+
    ```
> 从字符串转换而来的 Map 是未去重的。