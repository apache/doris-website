---
{
    "title": "QUOTE",
    "language": "zh-CN",
    "description": "QUOTE 函数用于将字符串用单引号包裹，并对内部的特殊字符进行转义，使其能够安全地用于 SQL 语句中。"
}
---

## 描述

QUOTE 函数用于将字符串用单引号包裹，并对内部的特殊字符进行转义，使其能够安全地用于 SQL 语句中。

## 语法

```sql
QUOTE(<str>)
```

## 参数

| 参数 | 说明 |
| ------- | ----------------------------------------- |
| `<str>` | 需要被引用的输入字符串。类型：VARCHAR |

## 返回值

返回 VARCHAR 类型，为用单引号包裹并转义特殊字符后的字符串。

特殊情况：
- 如果输入为 NULL，返回字符串 'NULL'（不带引号）
- 单引号 `''` 会被转义为 `'`
- 反斜杠 `\` 会被转义为 ``
- `\\` 被转义为 `\`
- 空字符串返回 `''`

## 示例

1. 基本字符串引用
```sql
SELECT quote('hello');
```
```text
+----------------+
| quote('hello') |
+----------------+
| 'hello'        |
+----------------+
```

2. 包含单引号的字符串（会被转义）
```sql
SELECT quote("It's a test");
```
```text
+----------------------+
| quote("It's a test") |
+----------------------+
| 'It's a test'        |
+----------------------+
```

3. NULL 值处理
```sql
SELECT quote(NULL);
```
```text
+-------------+
| quote(NULL) |
+-------------+
| NULL        |
+-------------+
```

4. 空字符串处理
```sql
SELECT quote('');
```
```text
+-----------+
| quote('') |
+-----------+
| ''        |
+-----------+
```

5. 反斜杠字符
```sql
SELECT quote('aaa\\');
```
```text
+----------------+
| quote('aaa\\') |
+----------------+
| 'aaa\'         |
+----------------+
```

```sql
SELECT quote('aaa\cccb');
```
```text
+-------------------+
| quote('aaa\cccb') |
+-------------------+
| 'aaacccb'         |
+-------------------+
```