---
{
    "title": "Release 3.0.8",
    "language": "en"
}
---

## Behavior Changes

- When using ranger / LDAP, creating users in Doris is no longer prohibited [#50139](https://github.com/apache/doris/pull/50139)
- The `nested` attribute of `variant` is disabled by default. To enable it when creating a table, you need to first execute the following command in the session variable: `set enable_variant_flatten_nested = true` [#54413](https://github.com/apache/doris/pull/54413)

## New Features

### Query Optimizer

- Support MySQL's `GROUP BY WITH ORDER` syntax [#53037](https://github.com/apache/doris/pull/53037)

## Improvements

### Data Ingestion

- Optimize the flushing strategy when memory is insufficient ([#52906](https://github.com/apache/doris/pull/52906), [#53909](https://github.com/apache/doris/pull/53909), [#42649](https://github.com/apache/doris/pull/42649), [#54517](https://github.com/apache/doris/pull/54517))
- S3 Load and TVF support accessing publicly readable objects without AK/SK ([#53592](https://github.com/apache/doris/pull/53592), [#54040](https://github.com/apache/doris/pull/54040))


### Storage-Compute Decoupled

- When the cache space is sufficient, the rowset generated by base compaction can be written to the file cache ([#53801](https://github.com/apache/doris/pull/53801), [#54693](https://github.com/apache/doris/pull/54693))
- Optimize the `ALTER STORAGE VAULT` command, the `type` attribute can be automatically inferred without explicit specification ([#54394](https://github.com/apache/doris/pull/54394), [#54475](https://github.com/apache/doris/pull/54475))


### Query Optimizer

- Point queries will be planned to have only one fragment to improve the execution speed of point queries [#53541](https://github.com/apache/doris/pull/53541)

### Query Execution

- Improve the performance of unique key tables in point queries [#53948](https://github.com/apache/doris/pull/53948)

### Inverted Index

- Optimize the additional resource consumption of common default tokenizers when writing non-tokenized indexes [#54666](https://github.com/apache/doris/pull/54666)


## Bug Fixes

### Data Ingestion

- Fix the `enclose` parsing error when using multi-character column separators ([#54581](https://github.com/apache/doris/pull/54581), [#55052](https://github.com/apache/doris/pull/55052))
- Fix the issue where S3 Load progress is not updated in a timely manner ([#54606](https://github.com/apache/doris/pull/54606), [#54790](https://github.com/apache/doris/pull/54790))
- Fix the error when loading JSON boolean types into INT columns ([#54397](https://github.com/apache/doris/pull/54397), [#54640](https://github.com/apache/doris/pull/54640))
- Fix the issue of missing error URL return in Stream Load ([#54115](https://github.com/apache/doris/pull/54115), [#54266](https://github.com/apache/doris/pull/54266))
- Fix the issue where group commit is blocked after an exception is thrown in schema change [#54312](https://github.com/apache/doris/pull/54312)


### Lakehouse

- Fix the issue of JDBC SQL pass-through parsing failure in some cases [#54077](https://github.com/apache/doris/pull/54077)
- Fix the failure issue when writing to iceberg tables with decimal partitions [#54557](https://github.com/apache/doris/pull/54557)
- Fix the query failure issue of Hudi table Timestamp type partition columns in some cases [#53791](https://github.com/apache/doris/pull/53791)


### Query Optimizer

- Fix the issue of incorrectly using colocate join in some self-join scenarios [#54323](https://github.com/apache/doris/pull/54323)
- Fix the potential result error when `select distinct` is used with window functions [#54133](https://github.com/apache/doris/pull/54133)
- Provide more user-friendly error messages when lambda expressions appear in unexpected positions [#53657](https://github.com/apache/doris/pull/53657)

### Permissions

- Fix the issue of incorrectly checking the permissions of base tables in views when querying external views [#53786](https://github.com/apache/doris/pull/53786)

### Query Execution

- Fix the issue that IPV6 type cannot parse IPV4 type data [#54391](https://github.com/apache/doris/pull/54391)
- Fix the stack overflow error when parsing IPV6 type [#53713](https://github.com/apache/doris/pull/53713)


### Complex Data Types

- BE supports selecting the simdjson parser that matches the instruction set at startup [#52732](https://github.com/apache/doris/pull/52732)
- Fix the incorrect type inference caused by data type conflicts in variant nested data types [#53083](https://github.com/apache/doris/pull/53083)
- Fix the default value filling issue for variant nested top-level nested array data [#54396](https://github.com/apache/doris/pull/54396)
- Prohibit building indexes on variant types in the cloud [#54777](https://github.com/apache/doris/pull/54777)
- Fix the issue of generating empty index files when writing data that does not meet the index conditions after creating an inverted index for variant [#53814](https://github.com/apache/doris/pull/53814)

### Others

**schema-change**

- Fix the issue where new tablets are empty when cleaning up failed SC tasks ([#53952](https://github.com/apache/doris/pull/53952), [#54064](https://github.com/apache/doris/pull/54064))
- Rebuild bucket columns in the original order ([#54024](https://github.com/apache/doris/pull/54024), [#54072](https://github.com/apache/doris/pull/54072), [#54109](https://github.com/apache/doris/pull/54109))
- Prohibit deleting bucket columns [#54037](https://github.com/apache/doris/pull/54037)
- Support automatic retry in case of network errors ([#54419](https://github.com/apache/doris/pull/54419), [#54488](https://github.com/apache/doris/pull/54488))
- Avoid deadlocks on `tabletInvertedIndex` ([#54197](https://github.com/apache/doris/pull/54197), [#54996](https://github.com/apache/doris/pull/54996))