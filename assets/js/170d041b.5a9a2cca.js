"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["942967"],{224678:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>r,assets:()=>d,toc:()=>c,contentTitle:()=>a});var r=JSON.parse('{"id":"sql-manual/basic-element/sql-data-types/conversion/array-conversion","title":"Cast to ARRAY Types","description":"ARRAY type is used to store and process array data, which can contain various basic element types such as integers, strings, etc.,","source":"@site/versioned_docs/version-4.x/sql-manual/basic-element/sql-data-types/conversion/array-conversion.md","sourceDirName":"sql-manual/basic-element/sql-data-types/conversion","slug":"/sql-manual/basic-element/sql-data-types/conversion/array-conversion","permalink":"/docs/4.x/sql-manual/basic-element/sql-data-types/conversion/array-conversion","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Cast to ARRAY Types","language":"en","description":"ARRAY type is used to store and process array data, which can contain various basic element types such as integers, strings, etc.,"},"sidebar":"docs","previous":{"title":"Cast to String (Output)","permalink":"/docs/4.x/sql-manual/basic-element/sql-data-types/conversion/cast-to-string"},"next":{"title":"Cast to BOOLEAN Type","permalink":"/docs/4.x/sql-manual/basic-element/sql-data-types/conversion/boolean-conversion"}}'),s=t("785893"),i=t("250065");let l={title:"Cast to ARRAY Types",language:"en",description:"ARRAY type is used to store and process array data, which can contain various basic element types such as integers, strings, etc.,"},a=void 0,d={},c=[{value:"Cast to ARRAY",id:"cast-to-array",level:2},{value:"FROM String",id:"from-string",level:3},{value:"Strict Mode",id:"strict-mode",level:4},{value:"BNF Definition",id:"bnf-definition",level:5},{value:"Rule Description",id:"rule-description",level:5},{value:"Examples",id:"examples",level:5},{value:"Non-Strict Mode",id:"non-strict-mode",level:4},{value:"BNF Definition",id:"bnf-definition-1",level:5},{value:"Rule Description",id:"rule-description-1",level:5},{value:"Examples",id:"examples-1",level:5},{value:"FROM Array&lt;Other Type&gt;",id:"from-arrayother-type",level:3},{value:"Strict Mode",id:"strict-mode-1",level:4},{value:"Rule Description",id:"rule-description-2",level:5},{value:"Examples",id:"examples-2",level:5},{value:"Non-Strict Mode",id:"non-strict-mode-1",level:4},{value:"Rule Description",id:"rule-description-3",level:5},{value:"Examples",id:"examples-3",level:5}];function o(e){let n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"ARRAY type is used to store and process array data, which can contain various basic element types such as integers, strings, etc., and can also nest other complex types."}),"\n",(0,s.jsx)(n.h2,{id:"cast-to-array",children:"Cast to ARRAY"}),"\n",(0,s.jsx)(n.h3,{id:"from-string",children:"FROM String"}),"\n",(0,s.jsx)(n.admonition,{title:"Behavior Change",type:"caution",children:(0,s.jsx)(n.p,{children:'Before version 4.0, parsing would fail for empty strings between delimiters, for example "[,,]" would return NULL.\nStarting from version 4.0, "[,,]" will return [null, null, null] in non-strict mode and report an error in strict mode.'})}),"\n",(0,s.jsx)(n.h4,{id:"strict-mode",children:"Strict Mode"}),"\n",(0,s.jsx)(n.h5,{id:"bnf-definition",children:"BNF Definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<array>          ::= "[" <array-content>? "]" | <empty-array> \n\n<empty-array> ::= "[]"\n\n<array-content>  ::=  <data-token>(<collection-delim> <data-token>)*\n\n<data-token>    ::= <whitespace>* "\\"" <inner-sequence> "\\"" <whitespace>*\n                   | <whitespace>* "\'" <inner-sequence> "\'" <whitespace>*\n                   | <whitespace>* <inner-sequence> <whitespace>*\n\n<inner-sequence>    ::= .*\n\n<collection-delim>  ::= "," \n'})}),"\n",(0,s.jsx)(n.h5,{id:"rule-description",children:"Rule Description"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The textual representation of an array must begin with a left bracket ",(0,s.jsx)(n.code,{children:"["})," and end with a right bracket ",(0,s.jsx)(n.code,{children:"]"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Empty arrays are directly represented as ",(0,s.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Elements within the array are separated by commas."}),"\n",(0,s.jsx)(n.li,{children:"Whitespace is allowed before and after elements within the array."}),"\n",(0,s.jsxs)(n.li,{children:["Array elements can be enclosed in matching single quotes (",(0,s.jsx)(n.code,{children:"'"}),") or double quotes (",(0,s.jsx)(n.code,{children:'"'}),")."]}),"\n",(0,s.jsx)(n.li,{children:'Elements can use "null" to represent a null value.'}),"\n",(0,s.jsxs)(n.li,{children:["During parsing, parts that match ",(0,s.jsx)(n.code,{children:"<data-token>"})," continue to apply the parsing rules of the target type T."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If the above rules are not met, or if the elements do not meet the requirements of the corresponding type, an error is reported."}),"\n",(0,s.jsx)(n.h5,{id:"examples",children:"Examples"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Input String"}),(0,s.jsx)(n.th,{children:"Conversion Result"}),(0,s.jsx)(n.th,{children:"Comment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[]'"}),(0,s.jsx)(n.td,{children:"[]"}),(0,s.jsx)(n.td,{children:"Valid empty array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'  []'"}),(0,s.jsx)(n.td,{children:"Error"}),(0,s.jsx)(n.td,{children:"Array does not start with a bracket, parsing fails"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ ]'"}),(0,s.jsx)(n.td,{children:"Error"}),(0,s.jsx)(n.td,{children:"Array has one element, a string of spaces; space string fails to parse as int"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"[     123,       123]"'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 123]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'\'[  "  123  "   ,    "456   "]\''}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[    123     ,    \"456\"   ]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ [] ]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<Array<int>>: [[]]"}),(0,s.jsx)(n.td,{children:"The first array's internal element is ' [] ', which becomes a valid array after trimming"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ null ,123]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:"Valid array containing null"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ \"null\" ,123]'"}),(0,s.jsx)(n.td,{children:"Error"}),(0,s.jsx)(n.td,{children:'String "null" cannot be converted to int type'})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Note: Ensure that elements between commas contain valid content, otherwise parsing will fail."}),"\n",(0,s.jsx)(n.h4,{id:"non-strict-mode",children:"Non-Strict Mode"}),"\n",(0,s.jsx)(n.h5,{id:"bnf-definition-1",children:"BNF Definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<array>          ::= "[" <array-content>? "]" | <empty-array> \n\n<empty-array> ::= "[]"\n\n<array-content>  ::=  <data-token>(<collection-delim> <data-token>)*\n\n<data-token>    ::= <whitespace>* "\\"" <inner-sequence> "\\"" <whitespace>*\n                   | <whitespace>* "\'" <inner-sequence> "\'" <whitespace>*\n                   | <whitespace>* <inner-sequence> <whitespace>*\n\n<inner-sequence>    ::= .*\n\n<collection-delim>  ::= "," \n'})}),"\n",(0,s.jsx)(n.h5,{id:"rule-description-1",children:"Rule Description"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The textual representation of an array must begin with a left bracket ",(0,s.jsx)(n.code,{children:"["})," and end with a right bracket ",(0,s.jsx)(n.code,{children:"]"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Empty arrays are directly represented as ",(0,s.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Elements within the array are separated by commas."}),"\n",(0,s.jsx)(n.li,{children:"Whitespace is allowed before and after elements within the array."}),"\n",(0,s.jsxs)(n.li,{children:["Array elements can be enclosed in matching single quotes (",(0,s.jsx)(n.code,{children:"'"}),") or double quotes (",(0,s.jsx)(n.code,{children:'"'}),")."]}),"\n",(0,s.jsx)(n.li,{children:'Elements can use "null" to represent a null value.'}),"\n",(0,s.jsxs)(n.li,{children:["During parsing, parts that match ",(0,s.jsx)(n.code,{children:"<data-token>"})," continue to apply the parsing rules of the target type T."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If the array format does not meet the BNF format above, NULL is returned.\nIf elements do not meet the requirements of the corresponding type, the corresponding element position is set to null."}),"\n",(0,s.jsx)(n.h5,{id:"examples-1",children:"Examples"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Input String"}),(0,s.jsx)(n.th,{children:"Conversion Result"}),(0,s.jsx)(n.th,{children:"Comment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[]'"}),(0,s.jsx)(n.td,{children:"[]"}),(0,s.jsx)(n.td,{children:"Valid empty array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'  []'"}),(0,s.jsx)(n.td,{children:"NULL"}),(0,s.jsx)(n.td,{children:"Array does not start with a bracket, parsing fails"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ ]'"}),(0,s.jsx)(n.td,{children:"[null]"}),(0,s.jsx)(n.td,{children:"Array has one element, a string of spaces; space string fails to parse as int"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"[     123,       123]"'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 123]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'\'[  "  123  "   ,    "456   "]\''}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[    123     ,    \"456\"   ]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:"Valid array"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ [] ]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<Array<int>>: [[]]"}),(0,s.jsx)(n.td,{children:"The first array's internal element is ' [] ', which becomes a valid array after trimming"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ null ,123]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:"Valid array containing null"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"'[ \"null\" ,123]'"}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:'String "null" cannot be converted to int type, converted to null'})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"from-arrayother-type",children:"FROM Array<Other Type>"}),"\n",(0,s.jsx)(n.h4,{id:"strict-mode-1",children:"Strict Mode"}),"\n",(0,s.jsx)(n.h5,{id:"rule-description-2",children:"Rule Description"}),"\n",(0,s.jsx)(n.p,{children:"For each element in the Array, a Cast from Other Type To Type is performed. The Cast is also in strict mode."}),"\n",(0,s.jsx)(n.h5,{id:"examples-2",children:"Examples"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Input Array"}),(0,s.jsx)(n.th,{children:"Conversion Result"}),(0,s.jsx)(n.th,{children:"Comment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'["123", "456"]'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:'"123" and "456" can be converted to Int'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'["abc", "123"]'}),(0,s.jsx)(n.td,{children:"Error"}),(0,s.jsx)(n.td,{children:'"abc" cannot be converted to Int'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'[null, "123"]'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:"The Cast result of null is still null"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"non-strict-mode-1",children:"Non-Strict Mode"}),"\n",(0,s.jsx)(n.h5,{id:"rule-description-3",children:"Rule Description"}),"\n",(0,s.jsx)(n.p,{children:"For each element in the Array, a Cast from Other Type To Type is performed. The Cast is also in non-strict mode."}),"\n",(0,s.jsx)(n.h5,{id:"examples-3",children:"Examples"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Input Array"}),(0,s.jsx)(n.th,{children:"Conversion Result"}),(0,s.jsx)(n.th,{children:"Comment"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'["123", "456"]'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [123, 456]"}),(0,s.jsx)(n.td,{children:'"123" and "456" can be converted to Int'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'["abc", "123"]'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:'"abc" cannot be converted to Int, converted to null'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'[null, "123"]'}),(0,s.jsx)(n.td,{children:"Cast to Array<int>: [null, 123]"}),(0,s.jsx)(n.td,{children:"The Cast result of null is still null"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return l}});var r=t(667294);let s={},i=r.createContext(s);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);