"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["604303"],{208361:function(e,n,s){s.r(n),s.d(n,{default:()=>o,frontMatter:()=>c,metadata:()=>l,assets:()=>a,toc:()=>h,contentTitle:()=>d});var l=JSON.parse('{"id":"releasenotes/v3.1/release-3.1.2","title":"Release 3.1.2","description":"#56276","source":"@site/docs/releasenotes/v3.1/release-3.1.2.md","sourceDirName":"releasenotes/v3.1","slug":"/releasenotes/v3.1/release-3.1.2","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.2","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 3.1.2","language":"en","description":"#56276"},"sidebar":"docs","previous":{"title":"Release 3.1.3","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.3"},"next":{"title":"Release 3.1.1","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.1"}}'),i=s("785893"),r=s("250065");let c={title:"Release 3.1.2",language:"en",description:"#56276"},d=void 0,a={},h=[{value:"New Features",id:"new-features",level:2},{value:"Storage and Compression",id:"storage-and-compression",level:3},{value:"Cloud and Object Storage",id:"cloud-and-object-storage",level:3},{value:"Datalake",id:"datalake",level:3},{value:"Functional Enhancements",id:"functional-enhancements",level:3},{value:"Optimizations",id:"optimizations",level:2},{value:"Query Execution and Planner",id:"query-execution-and-planner",level:3},{value:"Storage Layer",id:"storage-layer",level:3},{value:"Datalake",id:"datalake-1",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Datalake",id:"datalake-2",level:3},{value:"Query Execution and SQL Engine",id:"query-execution-and-sql-engine",level:3},{value:"Storage and Load",id:"storage-and-load",level:3},{value:"Cloud and Recycler Mechanism",id:"cloud-and-recycler-mechanism",level:3},{value:"System and Miscellaneous",id:"system-and-miscellaneous",level:3}];function t(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"new-features",children:"New Features"}),"\n",(0,i.jsx)(n.h3,{id:"storage-and-compression",children:"Storage and Compression"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configurable table compression type"})," \u2014 allows selecting specific compression algorithms per table."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56276",children:"#56276"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Adaptive compaction write caching"})," \u2014 dynamically tunes write caching during base compaction rowset flush."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56278",children:"#56278"})}),"\n",(0,i.jsx)(n.h3,{id:"cloud-and-object-storage",children:"Cloud and Object Storage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cloud mode query freshness control"})," \u2014 adds user-defined tolerance between data latency and consistency."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56390",children:"#56390"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Object storage endpoint validation relaxed"})," \u2014 enables private or custom storage endpoints."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56641",children:"#56641"})}),"\n",(0,i.jsx)(n.h3,{id:"datalake",children:"Datalake"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OSS support for Datalake"})," ",(0,i.jsx)(n.strong,{children:"VPC"})," ",(0,i.jsx)(n.strong,{children:"Endpoints ("}),(0,i.jsx)(n.code,{children:"dlf/datalake-vpc"}),")**."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56476",children:"#56476"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"AWS Glue Catalog"})," now supports accessing S3 via IAM AssumeRole."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57036",children:"#57036"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"S3 Client"})," updated to use ",(0,i.jsx)(n.code,{children:"CustomAwsCredentialsProviderChain"})," for improved credential management."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56943",children:"#56943"})}),"\n",(0,i.jsx)(n.h3,{id:"functional-enhancements",children:"Functional Enhancements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Java UDF"})," now supports IP type."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56346",children:"#56346"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"BE REST"})," ",(0,i.jsx)(n.strong,{children:"API"})," adds ",(0,i.jsx)(n.code,{children:"RunningTasks"})," output for monitoring."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56781",children:"#56781"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Transaction monitoring"})," adds BRPC write-amplification metrics."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56832",children:"#56832"})}),"\n",(0,i.jsx)(n.h2,{id:"optimizations",children:"Optimizations"}),"\n",(0,i.jsx)(n.h3,{id:"query-execution-and-planner",children:"Query Execution and Planner"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"COUNT(\\*)"})})," optimization** \u2014 automatically selects the smallest column to reduce scan load."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56483",children:"#56483"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Compaction"})," skips empty rowsets to improve throughput."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56768",children:"#56768"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Warmup statistics"})," add \u201Cskipped rowset\u201D metric for better visibility."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56373",children:"#56373"})}),"\n",(0,i.jsx)(n.h3,{id:"storage-layer",children:"Storage Layer"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Variant column cache added"})," for sparse columns to speed up reads."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56730",children:"#56730"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Segment footer"})," is now cached in Index Page Cache to reduce latency."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56459",children:"#56459"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Recycler"})," supports parallel cleanup tasks to increase throughput."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56573",children:"#56573"})}),"\n",(0,i.jsx)(n.h3,{id:"datalake-1",children:"Datalake"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Paimon Time Travel"})," improved and schema mismatch fixed."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56338",children:"#56338"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Iceberg scan error messages refined"})," and nested namespaces supported."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56370",children:"#56370"}),", ",(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57035",children:"#57035"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Legacy DLF catalog properties removed."})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56196",children:"#56196"}),", ",(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56505",children:"#56505"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JSON"})," ",(0,i.jsx)(n.strong,{children:"Load"})," now defaults to row-by-row parsing mode for line-based data."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56736",children:"#56736"})}),"\n",(0,i.jsx)(n.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,i.jsx)(n.h3,{id:"datalake-2",children:"Datalake"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.strong,{children:"Iceberg system table classloader"})," error."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56220",children:"#56220"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.strong,{children:"Iceberg partition table"})," failure when no partition values exist."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57043",children:"#57043"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.strong,{children:"S3A catalog"})," not using IAM AssumeRole profile properly."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56250",children:"#56250"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Disabled Hadoop FileSystem cache for multi-config object storage catalogs."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57153",children:"#57153"})}),"\n",(0,i.jsx)(n.h3,{id:"query-execution-and-sql-engine",children:"Query Execution and SQL Engine"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.code,{children:"COUNT"})," pushdown logic error."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56482",children:"#56482"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.code,{children:"UNION"})," local shuffle behavior bug."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56556",children:"#56556"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed crash in ",(0,i.jsx)(n.code,{children:"IN"})," predicate for OLAP storage types."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56834",children:"#56834"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.code,{children:"timestampdiff"})," computation error for ",(0,i.jsx)(n.code,{children:"datetimev1"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56893",children:"#56893"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed crash caused by ",(0,i.jsx)(n.code,{children:"explode()"})," function."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57002",children:"#57002"})}),"\n",(0,i.jsx)(n.h3,{id:"storage-and-load",children:"Storage and Load"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed S3 Load check failure when no source file exists."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56376",children:"#56376"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed FileCache cleanup crash."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56584",children:"#56584"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed delete bitmap not cleared in MOW compression."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56785",children:"#56785"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed Outfile bz2 compression failure for small files."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57041",children:"#57041"})}),"\n",(0,i.jsx)(n.h3,{id:"cloud-and-recycler-mechanism",children:"Cloud and Recycler Mechanism"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed Warmup skipping multi-segment rowsets."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56680",children:"#56680"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed CloudTablet Warmup coredump on reference capture."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56627",children:"#56627"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed Recycler null pointer crash in cleanup task."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56773",children:"#56773"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed uncaught partition boundary error in Cloud mode."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56968",children:"#56968"})}),"\n",(0,i.jsx)(n.h3,{id:"system-and-miscellaneous",children:"System and Miscellaneous"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed incorrect Prometheus metric format in FE."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57082",children:"#57082"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed auto-increment value incorrect after FE restart."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57118",children:"#57118"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fixed ",(0,i.jsx)(n.code,{children:"SHOW CREATE VIEW"})," missing column definitions."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/57045",children:"#57045"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fixed HDFS Reader crash when sampling Profile data."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/apache/doris/pull/56950",children:"#56950"})})]})}function o(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return c}});var l=s(667294);let i={},r=l.createContext(i);function c(e){let n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);