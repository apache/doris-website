"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["434173"],{394834:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>s,metadata:()=>a,assets:()=>l,toc:()=>c,contentTitle:()=>i});var a=JSON.parse('{"id":"admin-manual/data-admin/ccr/quickstart","title":"Quick Start","description":"1. Open the binlog configuration for the source and target clusters","source":"@site/docs/admin-manual/data-admin/ccr/quickstart.md","sourceDirName":"admin-manual/data-admin/ccr","slug":"/admin-manual/data-admin/ccr/quickstart","permalink":"/docs/dev/admin-manual/data-admin/ccr/quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Quick Start","language":"en"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/docs/dev/admin-manual/data-admin/ccr/overview"},"next":{"title":"Operation Manual","permalink":"/docs/dev/admin-manual/data-admin/ccr/manual"}}'),r=t("785893"),o=t("250065");let s={title:"Quick Start",language:"en"},i=void 0,l={},c=[{value:"1. Open the binlog configuration for the source and target clusters",id:"1-open-the-binlog-configuration-for-the-source-and-target-clusters",level:2},{value:"2. Deploy Syncer",id:"2-deploy-syncer",level:2},{value:"Step 3. Open the Binlog for the synchronized database/table in the source cluster",id:"step-3-open-the-binlog-for-the-synchronized-databasetable-in-the-source-cluster",level:2},{value:"Step 4. Initiate a synchronization job in Syncer",id:"step-4-initiate-a-synchronization-job-in-syncer",level:2}];function d(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"1-open-the-binlog-configuration-for-the-source-and-target-clusters",children:"1. Open the binlog configuration for the source and target clusters"}),"\n",(0,r.jsx)(n.p,{children:"Configure the following information in the fe.conf and be.conf of both the source and target clusters:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"enable_feature_binlog=true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2-deploy-syncer",children:"2. Deploy Syncer"}),"\n",(0,r.jsx)(n.p,{children:"2.1. Download the latest package from the following link:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"https://apache-doris-releases.oss-accelerate.aliyuncs.com/ccr-release/ccr-syncer-3.0.4-rc02-x64.tar.xz"})}),"\n",(0,r.jsx)(n.p,{children:"2.2. Start and stop Syncer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Start\ncd bin && sh start_syncer.sh --daemon\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Stop\nsh stop_syncer.sh\n"})}),"\n",(0,r.jsx)(n.h2,{id:"step-3-open-the-binlog-for-the-synchronized-databasetable-in-the-source-cluster",children:"Step 3. Open the Binlog for the synchronized database/table in the source cluster"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'-- If synchronizing the entire database, execute the following script to enable binlog for all tables in that database\n./enable_db_binlog.sh --host $host --port $port --user $user --password $password --db $db\n\n-- If synchronizing a single table, only enable the binlog for that table by executing:\nALTER TABLE your_table_name ENABLE BINLOG SET ("binlog.enable" = "true");\n'})}),"\n",(0,r.jsx)(n.h2,{id:"step-4-initiate-a-synchronization-job-in-syncer",children:"Step 4. Initiate a synchronization job in Syncer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'curl -X POST -H "Content-Type: application/json" -d \'{\n    "name": "ccr_test",\n    "src": {\n      "host": "localhost",\n      "port": "9030",\n      "thrift_port": "9020",\n      "user": "root",\n      "password": "",\n      "database": "your_db_name",\n      "table": "your_table_name"\n    },\n    "dest": {\n      "host": "localhost",\n      "port": "9030",\n      "thrift_port": "9020",\n      "user": "root",\n      "password": "",\n      "database": "your_db_name",\n      "table": "your_table_name"\n    }\n}\' http://127.0.0.1:9190/create_ccr\n'})}),"\n",(0,r.jsx)(n.p,{children:"Explanation of the parameters for the synchronization job:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"name: The name of the CCR synchronization job, must be unique\nhost, port: Correspond to the host and MySQL (JDBC) port of the cluster Master FE\nuser, password: The identity used by Syncer to start transactions and pull data\ndatabase, table:\nIf synchronizing at the database level, fill in your_db_name, and leave your_table_name empty\nIf synchronizing at the table level, fill in both your_db_name and your_table_name\nThe name used to initiate the synchronization job can only be used once\n"})})]})}function h(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return i},a:function(){return s}});var a=t(667294);let r={},o=a.createContext(r);function s(e){let n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);