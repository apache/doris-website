"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["916261"],{571964:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>t,assets:()=>o,toc:()=>l,contentTitle:()=>c});var t=JSON.parse('{"id":"lakehouse/catalogs/maxcompute-catalog","title":"MaxCompute Catalog","description":"MaxCompute is an enterprise-level SaaS (Software as a Service) cloud data warehouse on Alibaba Cloud.","source":"@site/versioned_docs/version-2.1/lakehouse/catalogs/maxcompute-catalog.md","sourceDirName":"lakehouse/catalogs","slug":"/lakehouse/catalogs/maxcompute-catalog","permalink":"/docs/2.1/lakehouse/catalogs/maxcompute-catalog","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"MaxCompute Catalog","language":"en","description":"MaxCompute is an enterprise-level SaaS (Software as a Service) cloud data warehouse on Alibaba Cloud."},"sidebar":"docs","previous":{"title":"Paimon Catalog","permalink":"/docs/2.1/lakehouse/catalogs/paimon-catalog"},"next":{"title":"Delta Lake Catalog","permalink":"/docs/2.1/lakehouse/catalogs/delta-lake-catalog"}}'),i=s("785893"),r=s("250065");let d={title:"MaxCompute Catalog",language:"en",description:"MaxCompute is an enterprise-level SaaS (Software as a Service) cloud data warehouse on Alibaba Cloud."},c=void 0,o={},l=[{value:"Applicable Scenarios",id:"applicable-scenarios",level:2},{value:"Notes",id:"notes",level:2},{value:"Configuring Catalog",id:"configuring-catalog",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Supported MaxCompute Versions",id:"supported-maxcompute-versions",level:3},{value:"Supported MaxCompute Formats",id:"supported-maxcompute-formats",level:3},{value:"Hierarchical Mapping",id:"hierarchical-mapping",level:2},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Examples",id:"examples",level:2},{value:"Query Operations",id:"query-operations",level:2},{value:"Basic Query",id:"basic-query",level:3},{value:"Appendix",id:"appendix",level:2},{value:"How to Obtain Endpoint and Quota (For Doris 2.1.7 and Later)",id:"how-to-obtain-endpoint-and-quota-for-doris-217-and-later",level:3},{value:"Custom Service Address (For Doris Versions before 2.1.7)",id:"custom-service-address-for-doris-versions-before-217",level:3},{value:"Resource Usage Control",id:"resource-usage-control",level:3}];function a(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/",children:"MaxCompute"})," is an enterprise-level SaaS (Software as a Service) cloud data warehouse on Alibaba Cloud. Through the open storage SDK provided by MaxCompute, Doris can access MaxCompute table information and perform queries."]}),"\n",(0,i.jsx)(n.h2,{id:"applicable-scenarios",children:"Applicable Scenarios"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Data Integration"}),(0,i.jsx)(n.td,{children:"Read MaxCompute data and write it to Doris internal tables."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Data Write-back"}),(0,i.jsx)(n.td,{children:"Not supported."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Starting from version 2.1.7, the MaxCompute Catalog is developed based on the ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/overview-1",children:"open storage SDK"}),". Before this, it was developed based on the Tunnel API."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["There are certain restrictions on the use of the open storage SDK. Please refer to the ",(0,i.jsx)(n.code,{children:"Usage Restrictions"})," section in this ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/overview-1",children:"document"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Before Doris version 3.1.3, a ",(0,i.jsx)(n.code,{children:"Project"})," in MaxCompute is equivalent to a ",(0,i.jsx)(n.code,{children:"Database"})," in Doris. After 3.1.3, You can use the ",(0,i.jsx)(n.code,{children:"mc.enable.namespace.schema"})," parameter to introduce the MaxCompute schema level."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuring-catalog",children:"Configuring Catalog"}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG [IF NOT EXISTS] catalog_name PROPERTIES (\n    'type' = 'max_compute',\n    {McRequiredProperties},\n    {McOptionalProperties},\n    {CommonProperties}\n);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{McRequiredProperties}"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property Name"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Supported Doris Version"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.default.project"})}),(0,i.jsxs)(n.td,{children:["The name of the MaxCompute project you want to access. You can create and manage it in the ",(0,i.jsx)(n.a,{href:"https://maxcompute.console.aliyun.com/cn-beijing/project-list",children:"MaxCompute Project List"}),"."]}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.access_key"})}),(0,i.jsxs)(n.td,{children:["AccessKey. You can create and manage it in the ",(0,i.jsx)(n.a,{href:"https://ram.console.aliyun.com/manage/ak",children:"Alibaba Cloud Console"}),"."]}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.secret_key"})}),(0,i.jsxs)(n.td,{children:["SecretKey. You can create and manage it in the ",(0,i.jsx)(n.a,{href:"https://ram.console.aliyun.com/manage/ak",children:"Alibaba Cloud Console"}),"."]}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.region"})}),(0,i.jsx)(n.td,{children:"The region where MaxCompute is enabled. You can find the corresponding region from the Endpoint."}),(0,i.jsx)(n.td,{children:"Before 2.1.7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.endpoint"})}),(0,i.jsx)(n.td,{children:"The region where MaxCompute is enabled. Please refer to the section below on how to obtain Endpoint and Quota for configuration."}),(0,i.jsx)(n.td,{children:"2.1.7 and later"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{McOptionalProperties}"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property Name"}),(0,i.jsx)(n.th,{children:"Default Value"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Supported Doris Version"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.tunnel_endpoint"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsxs)(n.td,{children:["Refer to the appendix on ",(0,i.jsx)(n.code,{children:"Custom Service Address"}),"."]}),(0,i.jsx)(n.td,{children:"Before 2.1.7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.odps_endpoint"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsxs)(n.td,{children:["Refer to the appendix on ",(0,i.jsx)(n.code,{children:"Custom Service Address"}),"."]}),(0,i.jsx)(n.td,{children:"Before 2.1.7"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.quota"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pay-as-you-go"})}),(0,i.jsx)(n.td,{children:"Quota name. Please refer to the section on how to obtain Endpoint and Quota for configuration."}),(0,i.jsx)(n.td,{children:"2.1.7 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.split_strategy"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"byte_size"})}),(0,i.jsxs)(n.td,{children:["Sets the split strategy. Can be set to ",(0,i.jsx)(n.code,{children:"byte_size"})," (split by byte size) or ",(0,i.jsx)(n.code,{children:"row_count"})," (split by number of rows)."]}),(0,i.jsx)(n.td,{children:"2.1.7 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.split_byte_size"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"268435456"})}),(0,i.jsxs)(n.td,{children:["The file size (in bytes) read by each split. Default is 256 MB. Effective only when ",(0,i.jsx)(n.code,{children:'"mc.split_strategy" = "byte_size"'}),"."]}),(0,i.jsx)(n.td,{children:"2.1.7 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.split_row_count"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1048576"})}),(0,i.jsxs)(n.td,{children:["The number of rows read by each split. Effective only when ",(0,i.jsx)(n.code,{children:'"mc.split_strategy" = "row_count"'}),"."]}),(0,i.jsx)(n.td,{children:"2.1.7 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.split_cross_partition"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Whether the generated split crosses partitions."}),(0,i.jsx)(n.td,{children:"2.1.8 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.connect_timeout"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10s"})}),(0,i.jsx)(n.td,{children:"Timeout for connecting to MaxCompute."}),(0,i.jsx)(n.td,{children:"2.1.8 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.read_timeout"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"120s"})}),(0,i.jsx)(n.td,{children:"Timeout for reading from MaxCompute."}),(0,i.jsx)(n.td,{children:"2.1.8 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.retry_count"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"4"})}),(0,i.jsx)(n.td,{children:"Number of retries after a timeout."}),(0,i.jsx)(n.td,{children:"2.1.8 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.datetime_predicate_push_down"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsxs)(n.td,{children:["Whether to allow pushdown of predicate conditions of ",(0,i.jsx)(n.code,{children:"timestamp/timestamp_ntz"})," types. Doris will lose precision (9 -> 6) when synchronizing these two types. Therefore, if the original data has a precision higher than 6 digits, condition pushdown may lead to inaccurate results."]}),(0,i.jsx)(n.td,{children:"2.1.9/3.0.5 and later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.account_format"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsxs)(n.td,{children:["The account systems of Alibaba Cloud International and China are different. For users of the International site, if an error such as ",(0,i.jsx)(n.code,{children:"user 'RAM$xxxxxx:xxxxx' is not a valid aliyun account"})," occurs, you can specify this parameter as ",(0,i.jsx)(n.code,{children:"id"}),"."]}),(0,i.jsx)(n.td,{children:"3.0.9/3.1.1 later"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mc.enable.namespace.schema"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsxs)(n.td,{children:["Whether MaxCompute's schema level is supported. For details, see: ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/schema-related-operations",children:"https://help.aliyun.com/zh/maxcompute/user-guide/schema-related-operations"})]}),(0,i.jsx)(n.td,{children:"3.1.3 and later"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"[CommonProperties]"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The CommonProperties section is used to fill in common properties. Please refer to the Catalog Overview section on ",(0,i.jsx)(n.a,{href:"/docs/2.1/lakehouse/catalog-overview",children:"Common Properties"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"supported-maxcompute-versions",children:"Supported MaxCompute Versions"}),"\n",(0,i.jsx)(n.p,{children:"Only the public cloud version of MaxCompute is supported. For support with the private cloud version, please contact the Doris community."}),"\n",(0,i.jsx)(n.h3,{id:"supported-maxcompute-formats",children:"Supported MaxCompute Formats"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Supports reading partitioned tables, clustered tables, and materialized views."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Does not support reading MaxCompute external tables, logical views, or Delta Tables."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"hierarchical-mapping",children:"Hierarchical Mapping"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"mc.enable.namespace.schema"})," is false"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Doris"}),(0,i.jsx)(n.th,{children:"MaxCompute"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Catalog"}),(0,i.jsx)(n.td,{children:"N/A"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Database"}),(0,i.jsx)(n.td,{children:"Project"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Table"}),(0,i.jsx)(n.td,{children:"Table"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"mc.enable.namespace.schema"})," is true"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Doris"}),(0,i.jsx)(n.th,{children:"MaxCompute"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Catalog"}),(0,i.jsx)(n.td,{children:"Project"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Database"}),(0,i.jsx)(n.td,{children:"Schema"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Table"}),(0,i.jsx)(n.td,{children:"Table"})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"column-type-mapping",children:"Column Type Mapping"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"MaxCompute Type"}),(0,i.jsx)(n.th,{children:"Doris Type"}),(0,i.jsx)(n.th,{children:"Comment"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"bolean"}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"tiny"}),(0,i.jsx)(n.td,{children:"tinyint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"tinyint"}),(0,i.jsx)(n.td,{children:"tinyint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"smallint"}),(0,i.jsx)(n.td,{children:"smallint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"bigint"}),(0,i.jsx)(n.td,{children:"bigint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"double"}),(0,i.jsx)(n.td,{children:"double"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"decimal(P, S)"}),(0,i.jsx)(n.td,{children:"decimal(P, S)"}),(0,i.jsx)(n.td,{children:"1 <= P <= 38 ,0 <= scale <= 18"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"char(N)"}),(0,i.jsx)(n.td,{children:"char(N)"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"varchar(N)"}),(0,i.jsx)(n.td,{children:"varchar(N)"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"datetime"}),(0,i.jsx)(n.td,{children:"datetime(3)"}),(0,i.jsxs)(n.td,{children:["Fixed mapping to precision 3. You can specify the time zone using ",(0,i.jsx)(n.code,{children:"SET [GLOBAL] time_zone = 'Asia/Shanghai'"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"timestamp_ntz"}),(0,i.jsx)(n.td,{children:"datetime(6)"}),(0,i.jsxs)(n.td,{children:["The precision of MaxCompute's ",(0,i.jsx)(n.code,{children:"timestamp_ntz"})," is 9, but Doris' DATETIME supports a maximum precision of 6. Therefore, the extra part will be directly truncated when reading data."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"timestamp"}),(0,i.jsx)(n.td,{children:"datetime(6)"}),(0,i.jsxs)(n.td,{children:["Since 2.1.9 & 3.0.5. The precision of MaxCompute's ",(0,i.jsx)(n.code,{children:"timestamp"})," is 9, but Doris' DATETIME supports a maximum precision of 6. Therefore, the extra part will be directly truncated when reading data."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"map"}),(0,i.jsx)(n.td,{children:"map"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"struct"}),(0,i.jsx)(n.td,{children:"struct"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"other"}),(0,i.jsx)(n.td,{children:"UNSUPPORTED"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG mc_catalog PROPERTIES (\n    'type' = 'max_compute',\n    'mc.default.project' = 'project',\n    'mc.access_key' = 'sk',\n    'mc.secret_key' = 'ak',\n    'mc.endpoint' = 'http://service.cn-beijing-vpc.MaxCompute.aliyun-inc.com/api'\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you are using a version earlier than 2.1.7 (exclusive), please use the following statements. (It is recommended to upgrade to 2.1.8 or later for usage)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG mc_catalog PROPERTIES (\n    'type' = 'max_compute',\n    'mc.region' = 'cn-beijing',\n    'mc.default.project' = 'project',\n    'mc.access_key' = 'ak',\n    'mc.secret_key' = 'sk'\n    'mc.odps_endpoint' = 'http://service.cn-beijing.maxcompute.aliyun-inc.com/api',\n    'mc.tunnel_endpoint' = 'http://dt.cn-beijing.maxcompute.aliyun-inc.com'\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Support Schema:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG mc_catalog PROPERTIES (\n    'type' = 'max_compute',\n    'mc.region' = 'cn-beijing',\n    'mc.default.project' = 'project',\n    'mc.access_key' = 'ak',\n    'mc.secret_key' = 'sk'\n    'mc.odps_endpoint' = 'http://service.cn-beijing.maxcompute.aliyun-inc.com/api',\n    'mc.tunnel_endpoint' = 'http://dt.cn-beijing.maxcompute.aliyun-inc.com',\n    'mc.enable.namespace.schema' = 'true'\n);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,i.jsx)(n.h3,{id:"basic-query",children:"Basic Query"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- 1. Switch to catalog, use database, and query\nSWITCH mc_ctl;\nUSE mc_ctl;\nSELECT * FROM mc_tbl LIMIT 10;\n\n-- 2. Use mc database directly\nUSE mc_ctl.mc_db;\nSELECT * FROM mc_tbl LIMIT 10;\n\n-- 3. Use fully qualified name to query\nSELECT * FROM mc_ctl.mc_db.mc_tbl LIMIT 10;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"appendix",children:"Appendix"}),"\n",(0,i.jsx)(n.h3,{id:"how-to-obtain-endpoint-and-quota-for-doris-217-and-later",children:"How to Obtain Endpoint and Quota (For Doris 2.1.7 and Later)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If using a dedicated resource group for Data Transmission Service (DTS)"}),"\n",(0,i.jsxs)(n.p,{children:["Refer to the ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/purchase-and-use-exclusive-resource-groups-for-dts",children:"documentation"})," under the section ",(0,i.jsx)(n.strong,{children:'"Use Dedicated Data Service Resource Groups"'}),", specifically ",(0,i.jsx)(n.strong,{children:'"2. Authorization"'}),", to enable the required permissions. Then, navigate to the ",(0,i.jsx)(n.strong,{children:'"Quota Management"'})," list to view and copy the corresponding ",(0,i.jsx)(n.code,{children:"QuotaName"}),", and specify it using ",(0,i.jsx)(n.code,{children:'"mc.quota" = "QuotaName"'}),". At this point, you can choose to access MaxCompute via VPC or public network. However, VPC provides guaranteed bandwidth, while public network bandwidth is limited."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If using ",(0,i.jsx)(n.code,{children:"pay-as-you-go"})]}),"\n",(0,i.jsxs)(n.p,{children:["Refer to the ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/overview-1",children:"documentation"})," under the section ",(0,i.jsx)(n.strong,{children:'"Using Open Storage (Pay-As-You-Go)"'})," to enable the Open Storage (Storage API) switch and grant permissions to the user corresponding to the Ak and SK. In this case, ",(0,i.jsx)(n.code,{children:"mc.quota"})," defaults to ",(0,i.jsx)(n.code,{children:"pay-as-you-go"}),", and no additional value needs to be specified. When using the pay-as-you-go model, MaxCompute can only be accessed via VPC, and public network access is not available. Only prepaid users can access MaxCompute via the public network."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Configure ",(0,i.jsx)(n.code,{children:"mc.endpoint"})," based on the ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/endpoints",children:"Alibaba Cloud Endpoints Documentation"})]}),"\n",(0,i.jsxs)(n.p,{children:["For users accessing via VPC, refer to the ",(0,i.jsx)(n.strong,{children:'"VPC Network Endpoint"'})," column in the ",(0,i.jsx)(n.strong,{children:'"Regional Endpoint Table (Alibaba Cloud VPC Network Connection Method)"'})," to configure ",(0,i.jsx)(n.code,{children:"mc.endpoint"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For users accessing via the public network, you can choose from the ",(0,i.jsx)(n.strong,{children:'"Classic Network Endpoint"'})," column in the ",(0,i.jsx)(n.strong,{children:'"Regional Endpoint Table (Alibaba Cloud Classic Network Connection Method)"'}),", or the ",(0,i.jsx)(n.strong,{children:'"External Network Endpoint"'})," column in the ",(0,i.jsx)(n.strong,{children:'"Regional Endpoint Table (External Network Connection Method)"'})," to configure ",(0,i.jsx)(n.code,{children:"mc.endpoint"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"custom-service-address-for-doris-versions-before-217",children:"Custom Service Address (For Doris Versions before 2.1.7)"}),"\n",(0,i.jsxs)(n.p,{children:["In Doris versions before 2.1.7, the ",(0,i.jsx)(n.strong,{children:"Tunnel SDK"})," is used to interact with MaxCompute. Therefore, the following two endpoint properties need to be configured:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mc.odps_endpoint"}),": MaxCompute Endpoint, used to retrieve MaxCompute metadata (e.g., database and table information)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mc.tunnel_endpoint"}),": Tunnel Endpoint, used to read MaxCompute data."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the MaxCompute Catalog generates endpoints based on the values of ",(0,i.jsx)(n.code,{children:"mc.region"})," and ",(0,i.jsx)(n.code,{children:"mc.public_access"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The generated endpoint formats are as follows:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"mc.public_access"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"mc.odps_endpoint"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"mc.tunnel_endpoint"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://service.{mc.region}.maxcompute.aliyun-inc.com/api"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://dt.{mc.region}.maxcompute.aliyun-inc.com"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://service.{mc.region}.maxcompute.aliyun.com/api"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://dt.{mc.region}.maxcompute.aliyun.com"})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Users can also manually specify ",(0,i.jsx)(n.code,{children:"mc.odps_endpoint"})," and ",(0,i.jsx)(n.code,{children:"mc.tunnel_endpoint"})," to customize the service addresses. This is particularly useful for private deployments of MaxCompute environments."]}),"\n",(0,i.jsxs)(n.p,{children:["For details on configuring MaxCompute Endpoint and Tunnel Endpoint, refer to the documentation on ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/endpoints",children:"Endpoints for Different Regions and Network Connection Methods"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"resource-usage-control",children:"Resource Usage Control"}),"\n",(0,i.jsxs)(n.p,{children:["Users can adjust the ",(0,i.jsx)(n.code,{children:"parallel_pipeline_task_num"})," and ",(0,i.jsx)(n.code,{children:"num_scanner_threads"})," session variables to control the ",(0,i.jsx)(n.a,{href:"https://help.aliyun.com/zh/maxcompute/user-guide/data-transfer-service-quota-manage?spm=a2c4g.11186623.help-menu-search-27797.d_2",children:"table-level request concurrency"})," and manage resource consumption in the data transmission service. The corresponding concurrency equals ",(0,i.jsx)(n.code,{children:"max(parallel_pipeline_task_num * be num * num_scanner_threads)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Note:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"This method can only control the concurrent request count for a single table in a single query, and cannot control resource usage across multiple SQL statements."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Reducing the concurrency will increase the query time."}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return d}});var t=s(667294);let i={},r=t.createContext(i);function d(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);