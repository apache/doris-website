"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["592618"],{329708:function(e,t,n){n.r(t),n.d(t,{default:()=>p,frontMatter:()=>o,metadata:()=>s,assets:()=>l,toc:()=>d,contentTitle:()=>i});var s=JSON.parse('{"id":"admin-manual/data-admin/backup-restore/overview","title":"Backup and Restore Overview","description":"Doris provides support for backup and restore operations. These features allow users to back up data from databases, tables,","source":"@site/versioned_docs/version-4.x/admin-manual/data-admin/backup-restore/overview.md","sourceDirName":"admin-manual/data-admin/backup-restore","slug":"/admin-manual/data-admin/backup-restore/overview","permalink":"/docs/4.x/admin-manual/data-admin/backup-restore/overview","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Backup and Restore Overview","language":"en","description":"Doris provides support for backup and restore operations. These features allow users to back up data from databases, tables,"},"sidebar":"docs","previous":{"title":"Disaster Recovery Management Overview","permalink":"/docs/4.x/admin-manual/data-admin/overview"},"next":{"title":"Backup","permalink":"/docs/4.x/admin-manual/data-admin/backup-restore/backup"}}'),r=n("785893"),a=n("250065");let o={title:"Backup and Restore Overview",language:"en",description:"Doris provides support for backup and restore operations. These features allow users to back up data from databases, tables,"},i=void 0,l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Limitations",id:"limitations",level:2}];function c(e){let t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(t.p,{children:"Doris provides support for backup and restore operations. These features allow users to back up data from databases, tables, or partitions to remote storage systems and restore it when needed."}),"\n",(0,r.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Administrator Privileges"}),": Only users with ",(0,r.jsx)(t.strong,{children:"ADMIN"})," privileges can perform backup and restore operations."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Snapshot"}),":\nA snapshot is a time-point capture of data in a database, table, or partition. When creating a snapshot, a snapshot label must be specified, and a timestamp is generated upon completion, which can identify a snapshot through the Repository, snapshot label, and timestamp."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Repository"}),":\nThe remote storage location where backup files are stored. Supported remote storage includes S3, Azure, GCP, OSS, COS, MinIO, HDFS, and other S3-compatible object storage."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Backup Operation"}),":\nThe backup operation involves creating a snapshot of a database, table, or partition, uploading the snapshot file to a remote Repository, and storing metadata related to the backup."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Restore Operation"}),":\nThe restore operation involves retrieving a backup from the remote Repository and restoring it to the Doris cluster."]}),"\n",(0,r.jsx)(t.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Backup Data"}),":\nDoris allows you to back up data from tables, partitions, or entire databases by creating snapshots. Data is backed up in file format and stored in HDFS, S3, or other S3-compatible remote storage systems."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Restore Data"}),":\nYou can restore backup data from the remote Repository to any Doris cluster. This includes full database restoration, full table restoration, and partition-level restoration, allowing for flexible data recovery."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Snapshot Management"}),":\nData is backed up in the form of snapshots. These snapshots are uploaded to remote storage systems and can be restored when needed. The restoration process involves downloading the snapshot file and mapping it to local metadata to make it effective."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Data Migration"}),":\nIn addition to backup and restore, this feature also supports data migration between different Doris clusters. You can back up data to a remote storage system and restore it to another Doris cluster, facilitating cluster migration scenarios."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Replication Control"}),":\nWhen restoring data, you can specify the number of replicas for the restored data to ensure redundancy and fault tolerance."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Decoupling of Storage and Computing"}),":\nThe storage-computing separation model does not support backup and restore."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Asynchronous Materialized Views (MTMV) Not Supported"}),":\nBackup or restore of ",(0,r.jsx)(t.strong,{children:"asynchronous materialized views (MTMV)"})," is not supported. These views are not considered in backup and restore operations."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Tables with Storage Policies Not Supported"}),":\nTables that use ",(0,r.jsx)(t.a,{href:"../../../table-design/tiered-storage/remote-storage",children:(0,r.jsx)(t.strong,{children:"storage policies"})})," ",(0,r.jsx)(t.strong,{children:"do not support"})," backup and restore operations."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Incremental Backup"}),":\nCurrently, Doris only supports full backups. Incremental backups (only storing data changed since the last backup) are not supported; you can back up specific partitions to achieve incremental backup."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"colocate_with Attribute"}),":\nDuring backup or restore operations, Doris does not retain the ",(0,r.jsx)(t.code,{children:"colocate_with"})," attribute of the table. This may need to be reconfigured for colocated tables after restoration."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Dynamic Partition Support"}),":\nAfter restoring a table, you need to manually enable this attribute using the ",(0,r.jsx)(t.code,{children:"ALTER TABLE"})," command."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Single Concurrency"}),":\nOnly one backup or restore task can run simultaneously under a single database."]}),"\n"]}),"\n"]})]})}function p(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return i},a:function(){return o}});var s=n(667294);let r={},a=s.createContext(r);function o(e){let t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);