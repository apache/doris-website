"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["109378"],{441004:function(e,s,n){n.r(s),n.d(s,{default:()=>u,frontMatter:()=>r,metadata:()=>l,assets:()=>o,toc:()=>c,contentTitle:()=>a});var l=JSON.parse('{"id":"sql-manual/sql-functions/table-valued-functions/file","title":"FILE","description":"The File table-valued-function (tvf) is a wrapper around table functions like S3, HDFS, and LOCAL,","source":"@site/versioned_docs/version-4.x/sql-manual/sql-functions/table-valued-functions/file.md","sourceDirName":"sql-manual/sql-functions/table-valued-functions","slug":"/sql-manual/sql-functions/table-valued-functions/file","permalink":"/docs/4.x/sql-manual/sql-functions/table-valued-functions/file","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"FILE","language":"en","description":"The File table-valued-function (tvf) is a wrapper around table functions like S3, HDFS, and LOCAL,"},"sidebar":"docs","previous":{"title":"CATALOGS","permalink":"/docs/4.x/sql-manual/sql-functions/table-valued-functions/catalogs"},"next":{"title":"FRONTENDS","permalink":"/docs/4.x/sql-manual/sql-functions/table-valued-functions/frontends"}}'),i=n("785893"),t=n("250065");let r={title:"FILE",language:"en",description:"The File table-valued-function (tvf) is a wrapper around table functions like S3, HDFS, and LOCAL,"},a=void 0,o={},c=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Supported Storage Systems",id:"supported-storage-systems",level:2},{value:"Supported File Formats",id:"supported-file-formats",level:2},{value:"Examples",id:"examples",level:2},{value:"Accessing S3 Storage",id:"accessing-s3-storage",level:3},{value:"Accessing HDFS Storage",id:"accessing-hdfs-storage",level:3},{value:"Accessing Local Storage",id:"accessing-local-storage",level:3},{value:"Using desc function to View Table Structure",id:"using-desc-function-to-view-table-structure",level:3}];function d(e){let s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(s.p,{children:["The File table-valued-function (tvf) is a wrapper around table functions like ",(0,i.jsx)(s.a,{href:"/docs/4.x/sql-manual/sql-functions/table-valued-functions/s3",children:"S3"}),", ",(0,i.jsx)(s.a,{href:"/docs/4.x/sql-manual/sql-functions/table-valued-functions/hdfs",children:"HDFS"}),", and ",(0,i.jsx)(s.a,{href:"/docs/4.x/sql-manual/sql-functions/table-valued-functions/local",children:"LOCAL"}),", providing a unified interface to access file contents on different storage systems."]}),"\n",(0,i.jsx)(s.p,{children:"This function is supported since version 3.1.0."}),"\n",(0,i.jsx)(s.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:"FILE(\n    {StorageProperties},\n    {FileFormatProperties}\n)\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"{StorageProperties}"})}),"\n",(0,i.jsx)(s.p,{children:"The StorageProperties section is used to fill in connection and authentication information related to the storage system. For details, please refer to the [Supported Storage Systems] section."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"{FileFormatProperties}"})}),"\n",(0,i.jsx)(s.p,{children:"The FileFormatProperties section is used to fill in properties related to file formats, such as CSV delimiters. For details, please refer to the [Supported File Formats] section."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"supported-storage-systems",children:"Supported Storage Systems"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/hdfs",children:" hdfs"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/s3",children:" aws s3"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/gcs",children:" google cloud storage"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/aliyun-oss",children:" Alibaba Cloud OSS"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/tencent-cos",children:" Tencent Cloud COS"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/huawei-obs",children:" Huawei Cloud OBS"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/storages/minio",children:" MINIO"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"supported-file-formats",children:"Supported File Formats"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/file-formats/parquet",children:"Parquet"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/file-formats/orc",children:"ORC"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/4.x/lakehouse/file-formats/text",children:"Text/CSV/JSON"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(s.h3,{id:"accessing-s3-storage",children:"Accessing S3 Storage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:'select * from file(\n    "fs.s3.support" = "true",\n    "uri" = "s3://bucket/file.csv",\n    "s3.access_key" = "ak",\n    "s3.secret_key" = "sk",\n    "s3.endpoint" = "endpoint",\n    "s3.region" = "region",\n    "format" = "csv"\n);\n'})}),"\n",(0,i.jsx)(s.h3,{id:"accessing-hdfs-storage",children:"Accessing HDFS Storage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:'select * from file(\n    "fs.hdfs.support" = "true",\n    "uri" = "hdfs://path/to/file.csv",\n    "fs.defaultFS" = "hdfs://localhost:9000",\n    "hadoop.username" = "doris",\n    "format" = "csv"\n);\n'})}),"\n",(0,i.jsx)(s.h3,{id:"accessing-local-storage",children:"Accessing Local Storage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:'select * from file(\n    "fs.local.support" = "true",\n    "file_path" = "student.csv",\n    "backend_id" = "10003",\n    "format" = "csv"\n);\n'})}),"\n",(0,i.jsx)(s.h3,{id:"using-desc-function-to-view-table-structure",children:"Using desc function to View Table Structure"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:'desc function file(\n    "fs.s3.support" = "true",\n    "uri" = "s3://bucket/file.csv",\n    "s3.access_key" = "ak",\n    "s3.secret_key" = "sk",\n    "s3.endpoint" = "endpoint",\n    "s3.region" = "region",\n    "format" = "csv"\n);\n'})})]})}function u(e={}){let{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},250065:function(e,s,n){n.d(s,{Z:function(){return a},a:function(){return r}});var l=n(667294);let i={},t=l.createContext(i);function r(e){let s=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(t.Provider,{value:s},e.children)}}}]);