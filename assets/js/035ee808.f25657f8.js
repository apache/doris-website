"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["391244"],{852312:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>t,assets:()=>d,toc:()=>l,contentTitle:()=>i});var t=JSON.parse('{"id":"lakehouse/catalogs/jdbc-oracle-catalog","title":"Oracle JDBC Catalog","description":"Apache Doris JDBC Catalog supports connecting to Oracle databases via the standard JDBC interface.","source":"@site/docs/lakehouse/catalogs/jdbc-oracle-catalog.md","sourceDirName":"lakehouse/catalogs","slug":"/lakehouse/catalogs/jdbc-oracle-catalog","permalink":"/docs/dev/lakehouse/catalogs/jdbc-oracle-catalog","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Oracle JDBC Catalog","language":"en","description":"Apache Doris JDBC Catalog supports connecting to Oracle databases via the standard JDBC interface."},"sidebar":"docs","previous":{"title":"PostgreSQL JDBC Catalog","permalink":"/docs/dev/lakehouse/catalogs/jdbc-pg-catalog"},"next":{"title":"SQL Server JDBC Catalog","permalink":"/docs/dev/lakehouse/catalogs/jdbc-sqlserver-catalog"}}'),a=r("785893"),s=r("250065");let c={title:"Oracle JDBC Catalog",language:"en",description:"Apache Doris JDBC Catalog supports connecting to Oracle databases via the standard JDBC interface."},i=void 0,d={},l=[{value:"Usage Notes",id:"usage-notes",level:2},{value:"Connecting to Oracle",id:"connecting-to-oracle",level:2},{value:"Hierarchical Mapping",id:"hierarchical-mapping",level:2},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Common Issues",id:"common-issues",level:2}];function o(e){let n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Apache Doris JDBC Catalog supports connecting to Oracle databases via the standard JDBC interface. This document describes how to configure Oracle database connections."}),"\n",(0,a.jsxs)(n.p,{children:["For an overview of JDBC Catalog, please refer to: ",(0,a.jsx)(n.a,{href:"/docs/dev/lakehouse/catalogs/jdbc-catalog-overview",children:"JDBC Catalog Overview"})]}),"\n",(0,a.jsx)(n.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,a.jsx)(n.p,{children:"To connect to an Oracle database, you need"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Oracle 19c, 18c, 12c, 11g, or 10g."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["The JDBC driver for Oracle databases, which you can download from the ",(0,a.jsx)(n.a,{href:"https://mvnrepository.com/artifact/com.oracle.database.jdbc",children:"Maven Repository"})," for Ojdbc8 and above versions of the Oracle JDBC driver."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Network connection between each FE and BE node of Apache Doris and the Oracle server, with the default port being 1521; if Oracle RAC is ONS-enabled, port 6200 is also required."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"connecting-to-oracle",children:"Connecting to Oracle"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG oracle_catalog PROPERTIES (\n    'type' = 'jdbc',\n    'user' = 'username',\n    'password'='pwd',\n    'jdbc_url' = 'jdbc:oracle:thin:@example.net:1521:orcl',\n    'driver_url' = 'ojdbc8.jar',\n    'driver_class' = 'oracle.jdbc.driver.OracleDriver'\n)\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"jdbc_url"})," defines the connection information and parameters to be passed to the JDBC driver. When using the Oracle JDBC Thin driver, the syntax of the URL may vary depending on your Oracle configuration. For example, if you are connecting to an Oracle SID or Oracle service name, the connection URL will differ. For more information, please refer to the ",(0,a.jsx)(n.a,{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/data-sources-and-URLs.html",children:"Oracle Database JDBC Driver Documentation"}),". The above example URL connects to an Oracle SID named ",(0,a.jsx)(n.code,{children:"orcl"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"hierarchical-mapping",children:"Hierarchical Mapping"}),"\n",(0,a.jsx)(n.p,{children:"When mapping Oracle, a Database in Apache Doris corresponds to a User in Oracle. And a Table under a Database in Apache Doris corresponds to a Table accessible by that User in Oracle. The mapping relationship is as follows:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Doris"}),(0,a.jsx)(n.th,{children:"Oracle"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Catalog"}),(0,a.jsx)(n.td,{children:"Database"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Database"}),(0,a.jsx)(n.td,{children:"User"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Table"}),(0,a.jsx)(n.td,{children:"Table"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"column-type-mapping",children:"Column Type Mapping"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Oracle Type"}),(0,a.jsx)(n.th,{children:"Doris Type"}),(0,a.jsx)(n.th,{children:"Comment"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"number(P) / number(P, 0)"}),(0,a.jsx)(n.td,{children:"tinyint/smallint/int/bigint/largeint"}),(0,a.jsx)(n.td,{children:"Doris will choose the corresponding type based on the size of P: P < 3: TINYINT; P < 5: SMALLINT; P < 10: INT; P < 19: BIGINT; P > 19: LARGEINT"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"number(P, S), if (S > 0 && P > S)"}),(0,a.jsx)(n.td,{children:"decimal(P, S)"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"number(P, S), if (S > 0 && P < S)"}),(0,a.jsx)(n.td,{children:"decimal(S, S)"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"number(P, S), if (S < 0)"}),(0,a.jsx)(n.td,{children:"tinyint/smallint/int/bigint/largeint"}),(0,a.jsx)(n.td,{children:"In the case of S < 0, Doris will set P to `P +"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"number"}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{children:"Doris currently does not support the number type without specified P and S"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"decimal(P, S)"}),(0,a.jsx)(n.td,{children:"decimal(P, S)"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"float/real"}),(0,a.jsx)(n.td,{children:"double"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"date"}),(0,a.jsx)(n.td,{children:"date"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"timestamp"}),(0,a.jsx)(n.td,{children:"datetime(S)"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"timestamp(s) with local time zone"}),(0,a.jsx)(n.td,{children:"datetime / timestamptz"}),(0,a.jsxs)(n.td,{children:["Controlled by the ",(0,a.jsx)(n.code,{children:"enable.mapping.timestamp_tz"})," property (supported since version 4.0.3). By default, it is ",(0,a.jsx)(n.code,{children:"false"}),", in which case it is mapped to ",(0,a.jsx)(n.code,{children:"datetime"}),"; when set to ",(0,a.jsx)(n.code,{children:"true"}),", it is mapped to the ",(0,a.jsx)(n.code,{children:"timestamptz"})," type."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"char/nchar"}),(0,a.jsx)(n.td,{children:"string"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"varchar2/nvarchar2"}),(0,a.jsx)(n.td,{children:"string"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"long/raw/long raw/internal"}),(0,a.jsx)(n.td,{children:"string"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"BLOB"}),(0,a.jsx)(n.td,{children:"varbinary"}),(0,a.jsxs)(n.td,{children:["Controlled by the ",(0,a.jsx)(n.code,{children:"enable.mapping.varbinary"})," property of Catalog (supported since 4.0.2). The default is ",(0,a.jsx)(n.code,{children:"false"}),", which maps to ",(0,a.jsx)(n.code,{children:"string"}),"; when ",(0,a.jsx)(n.code,{children:"true"}),", it maps to ",(0,a.jsx)(n.code,{children:"varbinary"})," type."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"other"}),(0,a.jsx)(n.td,{children:"UNSUPPORTED"}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"ONS configuration failed"})," occurs when creating or querying Oracle Catalog"]}),"\n",(0,a.jsxs)(n.p,{children:["Add -Doracle.jdbc.fanEnabled=false to JAVA_OPTS in be.conf and upgrade the driver to ",(0,a.jsx)(n.a,{href:"https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/19.23.0.0/ojdbc8-19.23.0.0.jar",children:"https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/19.23.0.0/ojdbc8-19.23.0.0.jar"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"Non supported character set (add orai18n.jar in your classpath): ZHS16GBK"})," exception occurs when creating or querying Oracle Catalog"]}),"\n",(0,a.jsxs)(n.p,{children:["Download ",(0,a.jsx)(n.a,{href:"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html",children:"orai18n.jar"})," and place it in the ",(0,a.jsx)(n.code,{children:"custom_lib/"})," directory under each FE and BE (create manually if it does not exist) and restart each FE and BE."]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return i},a:function(){return c}});var t=r(667294);let a={},s=t.createContext(a);function c(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);