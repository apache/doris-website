"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["966418"],{860727:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>i,assets:()=>a,toc:()=>d,contentTitle:()=>c});var i=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/variant-functions/element-at","title":"ELEMENT_AT","description":"The ELEMENTAT function is used to extract the element value from an array or map based on the specified index or key.","source":"@site/versioned_docs/version-4.x/sql-manual/sql-functions/scalar-functions/variant-functions/element-at.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/variant-functions","slug":"/sql-manual/sql-functions/scalar-functions/variant-functions/element-at","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/variant-functions/element-at","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"ELEMENT_AT","language":"en","description":"The ELEMENTAT function is used to extract the element value from an array or map based on the specified index or key."},"sidebar":"docs","previous":{"title":"TO_JSON","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/json-functions/to-json"},"next":{"title":"VARIANT_TYPE","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/variant-functions/variant-type"}}'),r=s("785893"),t=s("250065");let l={title:"ELEMENT_AT",language:"en",description:"The ELEMENTAT function is used to extract the element value from an array or map based on the specified index or key."},c=void 0,a={},d=[{value:"Function",id:"function",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Notes",id:"notes",level:2},{value:"Examples",id:"examples",level:2}];function o(e){let n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"function",children:"Function"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ELEMENT_AT"})," function is used to extract the element value from an array or map based on the specified index or key."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When applied to an ",(0,r.jsx)(n.strong,{children:"ARRAY"}),", it returns the element at the specified position."]}),"\n",(0,r.jsxs)(n.li,{children:["When applied to a ",(0,r.jsx)(n.strong,{children:"MAP"}),", it returns the value corresponding to the specified key."]}),"\n",(0,r.jsxs)(n.li,{children:["When applied to a ",(0,r.jsx)(n.strong,{children:"VARIANT"}),", it returns the value of the specified subfield."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"ELEMENT_AT(container, key_or_index)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"container"}),": Can be ",(0,r.jsx)(n.code,{children:"ARRAY"}),", ",(0,r.jsx)(n.code,{children:"MAP"}),", or ",(0,r.jsx)(n.code,{children:"VARIANT"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key_or_index"}),":\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"ARRAY"}),": An integer, with indexing starting from ",(0,r.jsx)(n.strong,{children:"1"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"MAP"}),": The key type (",(0,r.jsx)(n.code,{children:"K"}),") of the ",(0,r.jsx)(n.code,{children:"MAP"}),", which can be any supported primitive type."]}),"\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"VARIANT"}),": A string type."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"ARRAY"}),": Returns the element at the specified index (",(0,r.jsx)(n.code,{children:"T"})," type)."]}),"\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"MAP"}),": Returns the value corresponding to the specified key (",(0,r.jsx)(n.code,{children:"V"})," type)."]}),"\n",(0,r.jsxs)(n.li,{children:["For ",(0,r.jsx)(n.code,{children:"VARIANT"}),": Returns a ",(0,r.jsx)(n.code,{children:"VARIANT"})," type value."]}),"\n",(0,r.jsxs)(n.li,{children:["If the index or key does not exist, returns ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["If the parameter is ",(0,r.jsx)(n.code,{children:"NULL"}),", returns ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Array indexes start from 1"}),", not 0."]}),"\n",(0,r.jsxs)(n.li,{children:["Negative indexes are supported: ",(0,r.jsx)(n.code,{children:"-1"})," represents the last element, ",(0,r.jsx)(n.code,{children:"-2"})," the second-to-last, and so on."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"ELEMENT_AT(container, key_or_index)"})," function behaves the same as ",(0,r.jsx)(n.code,{children:"container[key_or_index]"})," (see examples for details)."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ELEMENT_AT"})," function works the same as ",(0,r.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"SELECT ELEMENT_AT([1, 2, 3], 2);\n+--------------------------+\n| ELEMENT_AT([1, 2, 3], 2) |\n+--------------------------+\n|                        2 |\n+--------------------------+\n\nSELECT [1, 2, 3][2];\n+--------------+\n| [1, 2, 3][2] |\n+--------------+\n|            2 |\n+--------------+\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Array indexing starts from 1; out-of-bounds access returns ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"SELECT ELEMENT_AT([1, 2, 3], 0);\n+--------------------------+\n| ELEMENT_AT([1, 2, 3], 0) |\n+--------------------------+\n|                     NULL |\n+--------------------------+\n\nSELECT ELEMENT_AT([1, 2, 3], 4);\n+--------------------------+\n| ELEMENT_AT([1, 2, 3], 4) |\n+--------------------------+\n|                     NULL |\n+--------------------------+\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Accessing a non-existent KEY in a ",(0,r.jsx)(n.code,{children:"MAP"})," returns ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:'SELECT ELEMENT_AT({"a": 1, "b": 2}, "c");\n+-----------------------------------+\n| ELEMENT_AT({"a": 1, "b": 2}, "c") |\n+-----------------------------------+\n|                              NULL |\n+-----------------------------------+\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["When accessing a subfield of a ",(0,r.jsx)(n.code,{children:"VARIANT"}),", if the ",(0,r.jsx)(n.code,{children:"VARIANT"})," value is not an OBJECT, an empty value is returned."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:'SELECT ELEMENT_AT(CAST(\'{"a": 1, "b": 2}\' AS VARIANT), "a");\n+------------------------------------------------------+\n| ELEMENT_AT(CAST(\'{"a": 1, "b": 2}\' AS VARIANT), "a") |\n+------------------------------------------------------+\n| 1                                                    |\n+------------------------------------------------------+\n\nSELECT ELEMENT_AT(CAST(\'123\' AS VARIANT), "");\n+----------------------------------------+\n| ELEMENT_AT(CAST(\'123\' AS VARIANT), "") |\n+----------------------------------------+\n|                                        |\n+----------------------------------------+\n'})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return l}});var i=s(667294);let r={},t=i.createContext(r);function l(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);