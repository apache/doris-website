"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["211615"],{167729:function(e,n,s){s.r(n),s.d(n,{default:()=>d,frontMatter:()=>l,metadata:()=>a,assets:()=>c,toc:()=>o,contentTitle:()=>i});var a=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/json-functions/json-search","title":"JSON_SEARCH","description":"Description","source":"@site/versioned_docs/version-3.x/sql-manual/sql-functions/scalar-functions/json-functions/json-search.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/json-functions","slug":"/sql-manual/sql-functions/scalar-functions/json-functions/json-search","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/json-functions/json-search","draft":false,"unlisted":false,"tags":[],"version":"3.x","frontMatter":{"title":"JSON_SEARCH","language":"en"},"sidebar":"docs","previous":{"title":"JSON_REPLACE","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/json-functions/json-replace"},"next":{"title":"JSON_SET","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/json-functions/json-set"}}'),t=s("785893"),r=s("250065");let l={title:"JSON_SEARCH",language:"en"},i=void 0,c={},o=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Required Parameters",id:"required-parameters",level:2},{value:"Optional Parameters",id:"optional-parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Usage Notes",id:"usage-notes",level:2},{value:"Examples",id:"examples",level:2}];function h(e){let n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"JSON_SEARCH"})," function is used to search for a specified value within a JSON document. If the value is found, it returns the path to the value. If the value is not found, it returns ",(0,t.jsx)(n.code,{children:"NULL"}),". This function can recursively search through the JSON data structure."]}),"\n",(0,t.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"JSON_SEARCH(<str>, <one_or_all>, <search_value> [, <start_path> [, <escape_char>]])\n"})}),"\n",(0,t.jsx)(n.h2,{id:"required-parameters",children:"Required Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"parameters"}),(0,t.jsx)(n.th,{children:"described"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<str>"})}),(0,t.jsx)(n.td,{children:"The JSON document to search (can be a JSON string or JSON object)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<one_or_all>"})}),(0,t.jsx)(n.td,{children:"Specifies whether to find all matching values. It can be 'one' or 'all'."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<search_value>"})}),(0,t.jsx)(n.td,{children:"The value to search for."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"optional-parameters",children:"Optional Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"parameters"}),(0,t.jsx)(n.th,{children:"described"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<start_path>"})}),(0,t.jsx)(n.td,{children:"Specifies the path to start searching from. If not provided, the search starts from the entire JSON document."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<escape_char>"})}),(0,t.jsx)(n.td,{children:"Specifies the character to escape special characters in the path."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If a matching value is found, it returns a JSON path (as a string) pointing to the matched value."}),"\n",(0,t.jsx)(n.li,{children:"If no matching value is found, it returns NULL."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,t.jsx)(n.p,{children:"The one_or_all parameter determines whether to find all matching values. 'one' returns the first matching path, while 'all' returns all matching paths.\nIf no matching values are found, the function returns NULL.\nThe start_path parameter can limit the search range, making the query more efficient."}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Search for a value (one):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'John');\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"+-----------------------------------------------+\n| JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'John') |\n+-----------------------------------------------+\n| $.name                                         |\n+-----------------------------------------------+\n\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Search for multiple matching values (all):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"person": {"name": "John", "age": 30}, "name": "John"}\', \'all\', \'John\');\n\n\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'+---------------------------------------------------------------+\n| JSON_SEARCH(\'{"person": {"name": "John", "age": 30}, "name": "John"}\', \'all\', \'John\') |\n+---------------------------------------------------------------+\n| $.name                                                       |\n| $.person.name                                                |\n+---------------------------------------------------------------+\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"No matching value found:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'Alice');\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"+-----------------------------------------------+\n| JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'Alice') |\n+-----------------------------------------------+\n| NULL                                          |\n+-----------------------------------------------+\n\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Specify the starting search path:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"person\": {\"name\": \"John\", \"age\": 30}}', 'one', 'John', '$.person');\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"+---------------------------------------------------------------+\n| JSON_SEARCH('{\"person\": {\"name\": \"John\", \"age\": 30}}', 'one', 'John', '$.person') |\n+---------------------------------------------------------------+\n| $.name                                                         |\n+---------------------------------------------------------------+\n\n\n"})})]})}function d(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return l}});var a=s(667294);let t={},r=a.createContext(t);function l(e){let n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);