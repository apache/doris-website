"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["935506"],{27736:function(e,s,i){i.r(s),i.d(s,{default:()=>o,frontMatter:()=>t,metadata:()=>r,assets:()=>h,toc:()=>c,contentTitle:()=>a});var r=JSON.parse('{"id":"releasenotes/v2.1/release-2.1.9","title":"Release 2.1.9","description":"Dear Community, Apache Doris version 2.1.9 is now available, featuring improved SQLHash calculation, enhanced query results accuracy, and new metrics for better storage management. This update also resolves critical bugs across multiple areas for a more robust data management experience.","source":"@site/docs/releasenotes/v2.1/release-2.1.9.md","sourceDirName":"releasenotes/v2.1","slug":"/releasenotes/v2.1/release-2.1.9","permalink":"/docs/dev/releasenotes/v2.1/release-2.1.9","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Release 2.1.9","language":"en"},"sidebar":"docs","previous":{"title":"Release 2.1.10","permalink":"/docs/dev/releasenotes/v2.1/release-2.1.10"},"next":{"title":"Release 2.1.8","permalink":"/docs/dev/releasenotes/v2.1/release-2.1.8"}}'),n=i("785893"),l=i("250065");let t={title:"Release 2.1.9",language:"en"},a=void 0,h={},c=[{value:"Behavior Changes",id:"behavior-changes",level:2},{value:"New Features",id:"new-features",level:2},{value:"Storage Management",id:"storage-management",level:3},{value:"Others",id:"others",level:3},{value:"Improvements",id:"improvements",level:2},{value:"Inverted Index",id:"inverted-index",level:3},{value:"Query Optimizer",id:"query-optimizer",level:3},{value:"Storage Management",id:"storage-management-1",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Lakehouse",id:"lakehouse",level:3},{value:"Inverted Index",id:"inverted-index-1",level:3},{value:"Semi-structured Data Types",id:"semi-structured-data-types",level:3},{value:"Query Optimizer",id:"query-optimizer-1",level:3},{value:"Query Execution Engine",id:"query-execution-engine",level:3},{value:"Storage Management",id:"storage-management-2",level:3},{value:"Permission Management",id:"permission-management",level:3}];function d(e){let s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Dear Community, ",(0,n.jsx)(s.strong,{children:"Apache Doris version 2.1.9 is now available"}),", featuring improved SQLHash calculation, enhanced query results accuracy, and new metrics for better storage management. This update also resolves critical bugs across multiple areas for a more robust data management experience."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://doris.apache.org/download",children:"Quick Download"})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/releases/tag/2.1.9-rc02",children:"GitHub Release"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"behavior-changes",children:"Behavior Changes"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["The SQLHash in Audit Log is now accurately calculated per SQL query, resolving the issue of identical hashes in a single request. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48242",children:"#48242"})]}),"\n",(0,n.jsxs)(s.li,{children:["Query results match ColumnLabelName exactly. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47093",children:"#47093"})]}),"\n",(0,n.jsxs)(s.li,{children:["User property variables now take precedence over session variables. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47185",children:"#47185"})]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"new-features",children:"New Features"}),"\n",(0,n.jsx)(s.h3,{id:"storage-management",children:"Storage Management"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Disallow renaming partition columns. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47596",children:"#47596"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"others",children:"Others"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Added FE monitoring metrics for Catalogs, Databases, and Tables counts. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47891",children:"#47891"})]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"improvements",children:"Improvements"}),"\n",(0,n.jsx)(s.h3,{id:"inverted-index",children:"Inverted Index"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Support for ARRAY type in VARIANT inverted indexes. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47688",children:"#47688"})]}),"\n",(0,n.jsxs)(s.li,{children:["Profile now shows performance metrics for each filter condition. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47504",children:"#47504"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"query-optimizer",children:"Query Optimizer"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Support for using ",(0,n.jsx)(s.code,{children:"SELECT *"})," in aggregate queries with only aggregation key columns. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48006",children:"#48006"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"storage-management-1",children:"Storage Management"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Enhanced CCR for binlog recycling and small file transfer efficiency, and robustness in chaotic environments. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47547",children:"#47547"})," ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47313",children:"#47313"})," ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/45061",children:"#45061"})]}),"\n",(0,n.jsxs)(s.li,{children:["Enhanced import error messages to be more specific. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47918",children:"#47918"})," ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47470",children:"#47470"})]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,n.jsx)(s.h3,{id:"lakehouse",children:"Lakehouse"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fixed BE krb5.conf path configuration issue. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47679",children:"#47679"})]}),"\n",(0,n.jsxs)(s.li,{children:["Prevented ",(0,n.jsx)(s.code,{children:"SELECT OUTFILE"})," statement retries to avoid duplicate data export. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48095",children:"#48095"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed JAVA API access to Paimon tables. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47192",children:"#47192"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved writing to Hive tables with ",(0,n.jsx)(s.code,{children:"s3a://"})," storage location. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47162",children:"#47162"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed the issue of Catalog's Comment field not being persisted. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/46946",children:"#46946"})]}),"\n",(0,n.jsxs)(s.li,{children:["Addressed JDBC BE class loading leaks under certain conditions. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/46912",children:"#46912"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved high version ClickHouse JDBC Driver compatibility with JDBC Catalog. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/46026",children:"#46026"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed BE crash when reading Iceberg Position Delete. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47977",children:"#47977"})]}),"\n",(0,n.jsxs)(s.li,{children:["Corrected reading MaxCompute table data under multi-partition columns. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48325",children:"#48325"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed reading Parquet complex column types errors. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47734",children:"#47734"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"inverted-index-1",children:"Inverted Index"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fixed ARRAY type inverted index null value handling. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48231",children:"#48231"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved ",(0,n.jsx)(s.code,{children:"BUILD INDEX"})," exception for newly added columns. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48389",children:"#48389"})]}),"\n",(0,n.jsxs)(s.li,{children:["Corrected UTF8 encoding index truncation issues leading to errors. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48657",children:"#48657"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"semi-structured-data-types",children:"Semi-structured Data Types"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fixed ",(0,n.jsx)(s.code,{children:"array_agg"})," function crashes under special conditions. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/46927",children:"#46927"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved JSON import crashes due to incorrect chunk parameters. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48196",children:"#48196"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"query-optimizer-1",children:"Query Optimizer"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fixed constant folding issues with nested time functions like ",(0,n.jsx)(s.code,{children:"current_date"}),". ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47288",children:"#47288"})]}),"\n",(0,n.jsxs)(s.li,{children:["Addressed non-deterministic function result errors. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48321",children:"#48321"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved ",(0,n.jsx)(s.code,{children:"CREATE TABLE LIKE"})," execution issues with on update column properties. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48007",children:"#48007"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed unexpected planning errors for materialized views of aggregate model tables. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47658",children:"#47658"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved ",(0,n.jsx)(s.code,{children:"PreparedStatement"})," exceptions due to internal ID overflow. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47950",children:"#47950"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"query-execution-engine",children:"Query Execution Engine"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Resolved query hang or null pointer issues when querying system tables. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48370",children:"#48370"})]}),"\n",(0,n.jsxs)(s.li,{children:["Added DOUBLE type support for LEAD/LAG functions. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47940",children:"#47940"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed query errors when ",(0,n.jsx)(s.code,{children:"case when"})," conditions exceed 256. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47179",children:"#47179"})]}),"\n",(0,n.jsxs)(s.li,{children:["Corrected ",(0,n.jsx)(s.code,{children:"str_to_date"})," function errors with spaces. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48920",children:"#48920"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed ",(0,n.jsx)(s.code,{children:"split_part"})," function errors during constant folding with ",(0,n.jsx)(s.code,{children:"||"}),". ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48910",children:"#48910"})]}),"\n",(0,n.jsxs)(s.li,{children:["Corrected ",(0,n.jsx)(s.code,{children:"log"})," function result errors. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47228",children:"#47228"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved core dump issues with ",(0,n.jsx)(s.code,{children:"array"})," / ",(0,n.jsx)(s.code,{children:"map"})," functions in lambda expressions. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/49140",children:"#49140"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"storage-management-2",children:"Storage Management"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Fixed memory corruption issues during import of aggregate tables. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47523",children:"#47523"})]}),"\n",(0,n.jsxs)(s.li,{children:["Resolved occasional core dump during MoW import under memory pressure. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47715",children:"#47715"})]}),"\n",(0,n.jsxs)(s.li,{children:["Fixed potential duplicate key issues with MoW during BE restart and schema change. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48056",children:"#48056"})," ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48775",children:"#48775"})]}),"\n",(0,n.jsxs)(s.li,{children:["Corrected group commit and global column update issues with memtable promotion. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/48120",children:"#48120"})," ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47968",children:"#47968"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"permission-management",children:"Permission Management"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["No longer throws PartialResultException when using LDAP. ",(0,n.jsx)(s.a,{href:"https://github.com/apache/doris/pull/47858",children:"#47858"})]}),"\n"]})]})}function o(e={}){let{wrapper:s}={...(0,l.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},250065:function(e,s,i){i.d(s,{Z:function(){return a},a:function(){return t}});var r=i(667294);let n={},l=r.createContext(n);function t(e){let s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);