"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["81471"],{270140:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>i,metadata:()=>r,assets:()=>o,toc:()=>d,contentTitle:()=>c});var r=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/extract","title":"EXTRACT","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/date-time-functions/extract.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/extract","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/extract","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"EXTRACT","language":"en"},"sidebar":"docs","previous":{"title":"DAYOFYEAR","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/dayofyear"},"next":{"title":"FROM_DAYS","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/from-days"}}'),s=t("785893"),a=t("250065");let i={title:"EXTRACT",language:"en"},c=void 0,o={},d=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function l(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",unit:"unit",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"EXTRACT"})," function is used to extract specific time components from date or time values, such as year, month, week, day, hour, minute, second, etc. This function can precisely obtain specific parts of a datetime."]}),"\n",(0,s.jsxs)(n.p,{children:["This function behaves mostly consistently with the ",(0,s.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/date-and-time-functions.html#function_extract",children:"extract function"})," in MySQL. The difference is that Doris currently does not support combined unit inputs, such as:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"mysql> SELECT EXTRACT(YEAR_MONTH FROM '2019-07-02 01:02:03');\n        -> 201907\n"})}),"\n",(0,s.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"EXTRACT(<unit> FROM <date_or_time_expr>)"})}),"\n",(0,s.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"<unit>"})}),(0,s.jsx)(n.td,{children:"Extract the value of a specified unit from DATETIME. The unit can be year, month, week, day, hour, minute, second, or microsecond"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"<datetime_or_time_expr>"})}),(0,s.jsxs)(n.td,{children:["A valid date expression that supports date/datetime types and strings in date-time format. For specific datetime and date formats, please refer to ",(0,s.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,s.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,s.jsx)(n.p,{children:"Returns the extracted part of the date or time, of type INT, depending on the extracted unit."}),"\n",(0,s.jsx)(n.p,{children:"The value range for the week unit is 0-53, calculated as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sunday is the first day of the week."}),"\n",(0,s.jsx)(n.li,{children:"The week containing the first Sunday of the year is week 1."}),"\n",(0,s.jsx)(n.li,{children:"Dates before the first Sunday belong to week 0."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When the unit is year, month, day, hour, minute, second, microsecond, it returns the corresponding unit value in the datetime."}),"\n",(0,s.jsx)(n.p,{children:"When the unit is quarter, January-March returns 1, April-June returns 2, July-September returns 3, October-December returns 4."}),"\n",(0,s.jsx)(n.p,{children:"Special cases:"}),"\n",(0,s.jsxs)(n.p,{children:["If <date_or_time_expr> is NULL, returns NULL.\nIf ",(0,s.jsx)(n.unit,{children:" is an unsupported unit, an error is reported."})]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Extract year, month, day, hour, minute, second, microsecond time components from datetime\nselect extract(year from '2022-09-22 17:01:30') as year,\nextract(month from '2022-09-22 17:01:30') as month,\nextract(day from '2022-09-22 17:01:30') as day,\nextract(hour from '2022-09-22 17:01:30') as hour,\nextract(minute from '2022-09-22 17:01:30') as minute,\nextract(second from '2022-09-22 17:01:30') as second,\nextract(microsecond from cast('2022-09-22 17:01:30.000123' as datetime(6))) as microsecond;\n\n+------+-------+------+------+--------+--------+-------------+\n| year | month | day  | hour | minute | second | microsecond |\n+------+-------+------+------+--------+--------+-------------+\n| 2022 |     9 |   22 |   17 |      1 |     30 |         123 |\n+------+-------+------+------+--------+--------+-------------+\n\n-- Extract quarter from datetime\nmysql> select extract(quarter from '2023-05-15') as quarter;\n+---------+\n| quarter |\n+---------+\n|       2 |\n+---------+\n\n-- Extract week number for the corresponding date. Since the first Sunday of 2024 is on January 7th, all dates before 01-07 return 0\nselect extract(week from '2024-01-06') as week;\n+------+\n| week |\n+------+\n|    0 |\n+------+\n\n-- January 7th is the first Sunday, returns 1\nselect extract(week from '2024-01-07') as week;\n+------+\n| week |\n+------+\n|    1 |\n+------+\n\n-- Under this rule, 2024 only has weeks 0-52\nselect extract(week from '2024-12-31') as week;\n+------+\n| week |\n+------+\n|   52 |\n+------+\n\n-- Input unit does not exist, reports error\nselect extract(uint from '2024-01-07') as week;\n\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not found function 'uint'\n"})})]})}function u(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return i}});var r=t(667294);let s={},a=r.createContext(s);function i(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);