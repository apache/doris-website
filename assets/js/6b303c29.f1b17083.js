"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["245563"],{887602:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>d,metadata:()=>r,assets:()=>l,toc:()=>c,contentTitle:()=>s});var r=JSON.parse('{"id":"lakehouse/catalogs/kudu-catalog","title":"Kudu Catalog","description":"Kudu Catalog uses the Trino Connector compatibility framework to access Kudu tables through the Kudu Connector.","source":"@site/versioned_docs/version-2.1/lakehouse/catalogs/kudu-catalog.md","sourceDirName":"lakehouse/catalogs","slug":"/lakehouse/catalogs/kudu-catalog","permalink":"/docs/2.1/lakehouse/catalogs/kudu-catalog","draft":false,"unlisted":false,"tags":[],"version":"2.1","frontMatter":{"title":"Kudu Catalog","language":"en"},"sidebar":"docs","previous":{"title":"BigQuery Catalog","permalink":"/docs/2.1/lakehouse/catalogs/bigquery-catalog"},"next":{"title":"LakeSoul Catalog","permalink":"/docs/2.1/lakehouse/catalogs/lakesoul-catalog"}}'),i=t("785893"),o=t("250065");let d={title:"Kudu Catalog",language:"en"},s=void 0,l={},c=[{value:"Application Scenarios",id:"application-scenarios",level:2},{value:"Environment Preparation",id:"environment-preparation",level:2},{value:"Compile the Kudu Connector Plugin",id:"compile-the-kudu-connector-plugin",level:3},{value:"Deploy the Kudu Connector",id:"deploy-the-kudu-connector",level:3},{value:"Configuring Catalog",id:"configuring-catalog",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Supported Kudu Versions",id:"supported-kudu-versions",level:3},{value:"Supported Metadata Services",id:"supported-metadata-services",level:3},{value:"Supported Storage Systems",id:"supported-storage-systems",level:3},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Examples",id:"examples",level:2},{value:"Query Operations",id:"query-operations",level:2}];function a(e){let n={a:"a",blockquote:"blockquote",code:"code",div:"div",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Kudu Catalog uses the ",(0,i.jsx)(n.a,{href:"https://doris.apache.org/zh-CN/community/how-to-contribute/trino-connector-developer-guide/",children:"Trino Connector"})," compatibility framework to access Kudu tables through the Kudu Connector."]}),"\n",(0,i.jsx)(n.div,{children:(0,i.jsx)(n.p,{children:"This feature is experimental and has been supported since version 3.0.1."})}),"\n",(0,i.jsx)(n.h2,{id:"application-scenarios",children:"Application Scenarios"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Data Integration"}),(0,i.jsx)(n.td,{children:"Read Kudu data and write it into Doris internal tables."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Data Writeback"}),(0,i.jsx)(n.td,{children:"Not supported."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"environment-preparation",children:"Environment Preparation"}),"\n",(0,i.jsx)(n.h3,{id:"compile-the-kudu-connector-plugin",children:"Compile the Kudu Connector Plugin"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"JDK 17 is required."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ git clone https://github.com/apache/doris-thirdparty.git\n$ cd doris-thirdparty\n$ git checkout trino-435\n$ cd plugin/trino-kudu\n$ mvn clean package -Dmaven.test.skip=true\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compilation, the ",(0,i.jsx)(n.code,{children:"trino/plugin/trino-kudu/target/"})," directory will contain the ",(0,i.jsx)(n.code,{children:"trino-kudu-435"})," folder."]}),"\n",(0,i.jsxs)(n.p,{children:["You can also directly download the precompiled ",(0,i.jsx)(n.a,{href:"https://github.com/apache/doris-thirdparty/releases/download/trino-435-20240724/trino-kudu-435-20240724.tar.gz",children:"trino-kudu-435-20240724.tar.gz"})," and extract it."]}),"\n",(0,i.jsx)(n.h3,{id:"deploy-the-kudu-connector",children:"Deploy the Kudu Connector"}),"\n",(0,i.jsxs)(n.p,{children:["Place the ",(0,i.jsx)(n.code,{children:"trino-kudu-435/"})," directory into the ",(0,i.jsx)(n.code,{children:"connectors/"})," directory of the deployment paths for all FE and BE nodes. (If the directory does not exist, you can create it manually.)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"\u251C\u2500\u2500 bin\n\u251C\u2500\u2500 conf\n\u251C\u2500\u2500 connectors\n\u2502   \u251C\u2500\u2500 trino-kudu-435\n...\n"})}),"\n",(0,i.jsx)(n.p,{children:"After deployment, it is recommended to restart the FE and BE nodes to ensure the Connector is loaded correctly."}),"\n",(0,i.jsx)(n.h2,{id:"configuring-catalog",children:"Configuring Catalog"}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG [IF NOT EXISTS] catalog_name PROPERTIES (\n    'type' = 'trino-connector', -- required\n    'trino.connector.name' = 'kudu', -- required\n    {TrinoProperties},\n    {CommonProperties}\n);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{TrinoProperties}"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"TrinoProperties"})," section is used to specify properties that will be passed to the Trino Connector. These properties are prefixed with ",(0,i.jsx)(n.code,{children:"trino."}),". In theory, all properties supported by Trino are also supported here. For more information about Kudu properties, refer to the ",(0,i.jsx)(n.a,{href:"https://trino.io/docs/current/connector/kudu.html",children:"Trino documentation"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"[CommonProperties]"})}),"\n",(0,i.jsxs)(n.p,{children:["The CommonProperties section is used to specify general properties. Please refer to the ",(0,i.jsx)(n.a,{href:"/docs/2.1/lakehouse/catalog-overview",children:"Catalog Overview"}),' under the "Common Properties" section.']}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"supported-kudu-versions",children:"Supported Kudu Versions"}),"\n",(0,i.jsxs)(n.p,{children:["For more information about Kudu, refer to the ",(0,i.jsx)(n.a,{href:"https://trino.io/docs/current/connector/kudu.html",children:"Trino documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"supported-metadata-services",children:"Supported Metadata Services"}),"\n",(0,i.jsxs)(n.p,{children:["For more information about Kudu, refer to the ",(0,i.jsx)(n.a,{href:"https://trino.io/docs/current/connector/kudu.html",children:"Trino documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"supported-storage-systems",children:"Supported Storage Systems"}),"\n",(0,i.jsxs)(n.p,{children:["For more information about Kudu, refer to the ",(0,i.jsx)(n.a,{href:"https://trino.io/docs/current/connector/kudu.html",children:"Trino documentation"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"column-type-mapping",children:"Column Type Mapping"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Kudu Type"}),(0,i.jsx)(n.th,{children:"Trino Type"}),(0,i.jsx)(n.th,{children:"Doris Type"}),(0,i.jsx)(n.th,{children:"Comment"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int8"}),(0,i.jsx)(n.td,{children:"tinyint"}),(0,i.jsx)(n.td,{children:"tinyint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int16"}),(0,i.jsx)(n.td,{children:"smallint"}),(0,i.jsx)(n.td,{children:"smallint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int32"}),(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"int64"}),(0,i.jsx)(n.td,{children:"bigint"}),(0,i.jsx)(n.td,{children:"bigint"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"real"}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"double"}),(0,i.jsx)(n.td,{children:"double"}),(0,i.jsx)(n.td,{children:"double"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"decimal(P, S)"}),(0,i.jsx)(n.td,{children:"decimal(P, S)"}),(0,i.jsx)(n.td,{children:"decimal(P, S)"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"binary"}),(0,i.jsx)(n.td,{children:"varbinary"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Requires using ",(0,i.jsx)(n.code,{children:"HEX(col)"})," in queries to return results displayed the same as in Trino."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"varchar"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"unixtime_micros"}),(0,i.jsx)(n.td,{children:"timestamp(3)"}),(0,i.jsx)(n.td,{children:"datetime(3)"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"other"}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"UNSUPPORTED"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG kudu_catalog PROPERTIES (  \n    'type' = 'trino-connector',  \n    'trino.connector.name' = 'kudu', \n    'trino.kudu.client.master-addresses' = 'ip1:port1,ip2:port2,ip3,port3', \n    'trino.kudu.authentication.type' = 'NONE'\n);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,i.jsx)(n.p,{children:"After configuring the Catalog, you can query the table data in the Catalog using the following methods:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- 1. switch to catalog, use database and query\nSWITCH kudu_ctl;\nUSE kudu_db;\nSELECT * FROM kudu_tbl LIMIT 10;\n\n-- 2. use kudu database directly\nUSE kudu_ctl.kudu_db;\nSELECT * FROM kudu_tbl LIMIT 10;\n\n-- 3. use full qualified name to query\nSELECT * FROM kudu_ctl.kudu_db.kudu_tbl LIMIT 10;\n"})})]})}function u(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return d}});var r=t(667294);let i={},o=r.createContext(i);function d(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);