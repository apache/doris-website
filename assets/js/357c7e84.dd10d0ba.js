"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["7457"],{501983:function(e,n,a){a.r(n),a.d(n,{default:()=>d,frontMatter:()=>s,metadata:()=>i,assets:()=>c,toc:()=>h,contentTitle:()=>o});var i=JSON.parse('{"id":"release-and-verify/release-doris-core","title":"Release Doris Core","description":"\x3c!--","source":"@site/community/release-and-verify/release-doris-core.md","sourceDirName":"release-and-verify","slug":"/release-and-verify/release-doris-core","permalink":"/community/release-and-verify/release-doris-core","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Release Doris Core","language":"en"},"sidebar":"community","previous":{"title":"Release Preparation","permalink":"/community/release-and-verify/release-prepare"},"next":{"title":"Release Doris Connectors","permalink":"/community/release-and-verify/release-doris-connectors"}}'),r=a("785893"),t=a("250065");let s={title:"Release Doris Core",language:"en"},o="Release Doris Core",c={},h=[{value:"Preparing for release",id:"preparing-for-release",level:2},{value:"Preparing a branch",id:"preparing-a-branch",level:3},{value:"Clean up issues",id:"clean-up-issues",level:3},{value:"Merge necessary patches",id:"merge-necessary-patches",level:3},{value:"Validation branch",id:"validation-branch",level:2},{value:"Stability testing",id:"stability-testing",level:3},{value:"Compile verification",id:"compile-verification",level:3},{value:"Prepare Release Notes",id:"prepare-release-notes",level:3},{value:"Community Posting Voting Process",id:"community-posting-voting-process",level:2},{value:"Tagging",id:"tagging",level:3},{value:"Package, sign and upload",id:"package-sign-and-upload",level:3},{value:"Email the community at dev@doris.apache.org to vote",id:"email-the-community-at-devdorisapacheorg-to-vote",level:3},{value:"After the vote is approved, send the Result email",id:"after-the-vote-is-approved-send-the-result-email",level:3},{value:"Email general@incubator.apache.org to vote",id:"email-generalincubatorapacheorg-to-vote",level:3},{value:"Send Result email to general@incubator.apache.org",id:"send-result-email-to-generalincubatorapacheorg",level:3},{value:"Completing the release",id:"completing-the-release",level:2}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"release-doris-core",children:"Release Doris Core"})}),"\n",(0,r.jsxs)(n.p,{children:["Doris Core refers to the content published in ",(0,r.jsx)(n.a,{href:"https://github.com/apache/doris",children:"https://github.com/apache/doris"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"preparing-for-release",children:"Preparing for release"}),"\n",(0,r.jsxs)(n.p,{children:["First, see the ",(0,r.jsx)(n.a,{href:"/community/release-and-verify/release-prepare",children:"release preparation"})," documentation for release preparation."]}),"\n",(0,r.jsx)(n.h3,{id:"preparing-a-branch",children:"Preparing a branch"}),"\n",(0,r.jsx)(n.p,{children:"You need to create a new branch before releasing. For example."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ git checkout -b branch-0.9\n"})}),"\n",(0,r.jsx)(n.p,{children:"This branch should be more fully tested to make features available, bugs converged, and important bugs fixed.\nThis process requires waiting for the community to see if there are any necessary patches that need to be merged in for this release, and if so, cherry-picking it to the release branch."}),"\n",(0,r.jsx)(n.h3,{id:"clean-up-issues",children:"Clean up issues"}),"\n",(0,r.jsx)(n.p,{children:"Go through all the issues that belong to this release, close the ones that are done, and if they can't be done, defer them to a later release."}),"\n",(0,r.jsx)(n.h3,{id:"merge-necessary-patches",children:"Merge necessary patches"}),"\n",(0,r.jsx)(n.p,{children:"If someone in the community says there are important bugs that need to be merged in, then the Release Manager needs to evaluate and merge the important patches into the release branch."}),"\n",(0,r.jsx)(n.h2,{id:"validation-branch",children:"Validation branch"}),"\n",(0,r.jsx)(n.h3,{id:"stability-testing",children:"Stability testing"}),"\n",(0,r.jsx)(n.p,{children:"Pass the batched branch to the QA students for stability testing. If during the testing process, there are issues that need to be fixed, then if during the testing process, there are issues that need to be fixed, then after they are fixed, the PRs that fix the issues need to be merged into the branch of the pending release."}),"\n",(0,r.jsx)(n.p,{children:"Only after the whole branch is stable, can you prepare to release the version."}),"\n",(0,r.jsx)(n.h3,{id:"compile-verification",children:"Compile verification"}),"\n",(0,r.jsx)(n.p,{children:"Please refer to the compilation documentation for compilation to ensure that the source code is compiled correctly."}),"\n",(0,r.jsx)(n.h3,{id:"prepare-release-notes",children:"Prepare Release Notes"}),"\n",(0,r.jsx)(n.h2,{id:"community-posting-voting-process",children:"Community Posting Voting Process"}),"\n",(0,r.jsx)(n.h3,{id:"tagging",children:"Tagging"}),"\n",(0,r.jsxs)(n.p,{children:["Once the above branch is more stable, you can tag this branch.\nRemember to modify the ",(0,r.jsx)(n.code,{children:"build_version"})," variable in ",(0,r.jsx)(n.code,{children:"gensrc/script/gen_build_version.sh"})," when creating the tag. For example ",(0,r.jsx)(n.code,{children:'build_version="0.10.0-release"'})]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'$ git checkout branch-0.9\n$ git tag -a 0.9.0-rc01 -m "0.9.0 release candidate 01"\n$ git push origin 0.9.0-rc01\nCounting objects: 1, done.\nWriting objects: 100% (1/1), 165 bytes | 0 bytes/s, done.\nTotal 1 (delta 0), reused 0 (delta 0)\nTo git@github.com:apache/incubator-doris.git\n * [new tag]         0.9.0-rc01 -> 0.9.0-rc01\n\n$ git tag\n'})}),"\n",(0,r.jsx)(n.h3,{id:"package-sign-and-upload",children:"Package, sign and upload"}),"\n",(0,r.jsxs)(n.p,{children:["For the following steps, you also need to log in to the user account directly through a terminal such as SecureCRT, not through ",(0,r.jsx)(n.code,{children:"su - user"})," or ",(0,r.jsx)(n.code,{children:"ssh"}),", otherwise the password input box will not be displayed and an error will be reported."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ git checkout 0.9.0-rc01\n\n$ git archive --format=tar 0.9.0-rc01 --prefix=apache-doris-0.9.0-incubating-src/ | gzip > apache-doris-0.9.0-incubating-src.tar.gz\n\n$ gpg -u xxx@apache.org --armor --output apache-doris-0.9.0-incubating-src.tar.gz.asc --detach-sign apache-doris-0.9.0-incubating-src.tar.gz\n\n$ gpg --verify apache-doris-0.9.0-incubating-src.tar.gz.asc apache-doris-0.9.0-incubating-src.tar.gz\n\n$ sha512sum apache-doris-0.9.0-incubating-src.tar.gz > apache-doris-0.9.0-incubating-src.tar.gz.sha512\n\n$ sha512sum --check apache-doris-0.9.0-incubating-src.tar.gz.sha512\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then upload the packaged content to the svn repository by first downloading the svn library at:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"svn co https://dist.apache.org/repos/dist/dev/incubator/doris/\n"})}),"\n",(0,r.jsx)(n.p,{children:"Organize all the previously obtained files into the following svn path:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"./doris/\n|-- 0.9.0-rc1\n|   |-- apache-doris-0.9.0-incubating-src.tar.gz\n|   |-- apache-doris-0.9.0-incubating-src.tar.gz.asc\n|   `-- apache-doris-0.9.0-incubating-src.tar.gz.sha512\n`-- KEYS\n"})}),"\n",(0,r.jsx)(n.p,{children:"Upload these file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'svn add 0.9.0-rc1\nsvn commit -m "Add 0.9.0-rc1"\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"email-the-community-at-devdorisapacheorg-to-vote",children:["Email the community at ",(0,r.jsx)(n.a,{href:"mailto:dev@doris.apache.org",children:"dev@doris.apache.org"})," to vote"]}),"\n",(0,r.jsx)(n.p,{children:"[VOTE] Release Apache Doris 0.9.0-incubating-rc01"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Hi all,\n\nPlease review and vote on Apache Doris 0.9.0-incubating-rc01 release.\n\nThe release candidate has been tagged in GitHub as 0.9.0-rc01, available\nhere:\nhttps://github.com/apache/incubator-doris/releases/tag/0.9.0-rc01\n\nRelease Notes are here:\nhttps://github.com/apache/incubator-doris/issues/1891\n\nThanks to everyone who has contributed to this release.\n\nThe artifacts (source, signature and checksum) corresponding to this release\ncandidate can be found here:\nhttps://dist.apache.org/repos/dist/dev/incubator/doris/0.9/0.9.0-rc1/\n\nThis has been signed with PGP key 33DBF2E0, corresponding to\nlide@apache.org.\nKEYS file is available here:\nhttps://downloads.apache.org/incubator/doris/KEYS\nIt is also listed here:\nhttps://people.apache.org/keys/committer/lide.asc\n\nTo verify and build, you can refer to following wiki:\nhttps://github.com/apache/incubator-doris/wiki/How-to-verify-Apache-Release\nhttps://wiki.apache.org/incubator/IncubatorReleaseChecklist\n\nThe vote will be open for at least 72 hours.\n[ ] +1 Approve the release\n[ ] +0 No opinion\n[ ] -1 Do not release this package because ...\n\nBest Regards,\nxxx\n\n----\nDISCLAIMER: \nApache Doris (incubating) is an effort undergoing incubation at The\nApache Software Foundation (ASF), sponsored by the Apache Incubator PMC.\n\nIncubation is required of all newly accepted\nprojects until a further review indicates that the\ninfrastructure, communications, and decision making process have\nstabilized in a manner consistent with other successful ASF\nprojects.\n\nWhile incubation status is not necessarily a reflection\nof the completeness or stability of the code, it does indicate\nthat the project has yet to be fully endorsed by the ASF.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"after-the-vote-is-approved-send-the-result-email",children:"After the vote is approved, send the Result email"}),"\n",(0,r.jsx)(n.p,{children:"[Result][VOTE] Release Apache Doris 0.9.0-incubating-rc01"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Thanks to everyone, and this vote is now closed.\n\nIt has passed with 4 +1 (binding) votes and no 0 or -1 votes.\n\nBinding:\n+1 Zhao Chun\n+1 xxx\n+1 Li Chaoyong\n+1 Mingyu Chen\n\nBest Regards,\nxxx\n\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"email-generalincubatorapacheorg-to-vote",children:["Email ",(0,r.jsx)(n.a,{href:"mailto:general@incubator.apache.org",children:"general@incubator.apache.org"})," to vote"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If not an incubator program, please skip"})}),"\n",(0,r.jsx)(n.p,{children:"[VOTE] Release Apache Doris 0.9.0-incubating-rc01"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Hi all,\n\nPlease review and vote on Apache Doris 0.9.0-incubating-rc01 release.\n\nApache Doris is an MPP-based interactive SQL data warehousing for reporting and analysis.\n\nThe Apache Doris community has voted on and approved this release:\nhttps://lists.apache.org/thread.html/d70f7c8a8ae448bf6680a15914646005c6483564464cfa15f4ddc2fc@%3Cdev.doris.apache.org%3E\n\nThe vote result email thread:\nhttps://lists.apache.org/thread.html/64d229f0ba15d66adc83306bc8d7b7ccd5910ecb7e842718ce6a61da@%3Cdev.doris.apache.org%3E\n\nThe release candidate has been tagged in GitHub as 0.9.0-rc01, available here:\nhttps://github.com/apache/incubator-doris/releases/tag/0.9.0-rc01\n\nThere is no CHANGE LOG file because this is the first release of Apache Doris.\nThanks to everyone who has contributed to this release, and there is a simple release notes can be found here:\nhttps://github.com/apache/incubator-doris/issues/406\n\nThe artifacts (source, signature and checksum) corresponding to this release candidate can be found here:\nhttps://dist.apache.org/repos/dist/dev/incubator/doris/0.9/0.9.0-rc01/\n\nThis has been signed with PGP key 33DBF2E0, corresponding to lide@apache.org.\nKEYS file is available here:\nhttps://downloads.apache.org/incubator/doris/KEYS\nIt is also listed here:\nhttps://people.apache.org/keys/committer/lide.asc\n\nThe vote will be open for at least 72 hours.\n[ ] +1 Approve the release\n[ ] +0 No opinion\n[ ] -1 Do not release this package because ...\n\nTo verify and build, you can refer to following instruction:\n\nFirstly, you must be install and start docker service, and then you could build Doris as following steps:\n\nStep1: Pull the docker image with Doris building environment\n$ docker pull apache/incubator-doris:build-env-1.3.1\nYou can check it by listing images, its size is about 3.28GB.\n\nStep2: Run the Docker image\nYou can run image directly:\n$ docker run -it apache/incubator-doris:build-env-1.3.1\n\nStep3: Download Doris source\nNow you should in docker environment, and you can download Doris source package.\n(If you have downloaded source and it is not in image, you can map its path to image in Step2.)\n$ wget https://dist.apache.org/repos/dist/dev/incubator/doris/0.9/0.9.0-rc01/apache-doris-0.9.0.rc01-incubating-src.tar.gz\n\nStep4: Build Doris\nNow you can decompress and enter Doris source path and build Doris.\n$ tar zxvf apache-doris-0.9.0.rc01-incubating-src.tar.gz\n$ cd apache-doris-0.9.0.rc01-incubating-src\n$ sh build.sh\n\nBest Regards,\nxxx\n\n----\nDISCLAIMER: \nApache Doris (incubating) is an effort undergoing incubation at The\nApache Software Foundation (ASF), sponsored by the Apache Incubator PMC.\n\nIncubation is required of all newly accepted\nprojects until a further review indicates that the\ninfrastructure, communications, and decision making process have\nstabilized in a manner consistent with other successful ASF\nprojects.\n\nWhile incubation status is not necessarily a reflection\nof the completeness or stability of the code, it does indicate\nthat the project has yet to be fully endorsed by the ASF.\n"})}),"\n",(0,r.jsx)(n.p,{children:"The thread link for the email can be found here."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"https://lists.apache.org/list.html?dev@doris.apache.org"})}),"\n",(0,r.jsxs)(n.h3,{id:"send-result-email-to-generalincubatorapacheorg",children:["Send Result email to ",(0,r.jsx)(n.a,{href:"mailto:general@incubator.apache.org",children:"general@incubator.apache.org"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"If not an incubator project, please skip"})}),"\n",(0,r.jsx)(n.p,{children:"[RESULT][VOTE] Release Apache Doris 0.9.0-incubating-rc01"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Hi,\n\nThanks to everyone, and the vote for releasing Apache Doris 0.9.0-incubating-rc01 is now closed.\n\nIt has passed with 4 +1 (binding) votes and no 0 or -1 votes.\n\nBinding:\n+1 Willem Jiang\n+1 Justin Mclean\n+1 ShaoFeng Shi\n+1 Makoto Yui\n\nThe vote thread:\nhttps://lists.apache.org/thread.html/da05fdd8d84e35de527f27200b5690d7811a1e97d419d1ea66562130@%3Cgeneral.incubator.apache.org%3E\n\nBest Regards,\nxxx\n"})}),"\n",(0,r.jsx)(n.h2,{id:"completing-the-release",children:"Completing the release"}),"\n",(0,r.jsxs)(n.p,{children:["Please refer to the ",(0,r.jsx)(n.a,{href:"/community/release-and-verify/release-complete",children:"Release Completion"})," document to complete the release process."]})]})}function d(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,n,a){a.d(n,{Z:function(){return o},a:function(){return s}});var i=a(667294);let r={},t=i.createContext(r);function s(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);