"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["701857"],{45625:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>a,metadata:()=>r,assets:()=>l,toc:()=>c,contentTitle:()=>o});var r=JSON.parse('{"id":"developer-guide/arthas","title":"Using Arthas to Profile FE","description":"\x3c!--","source":"@site/community/developer-guide/arthas.md","sourceDirName":"developer-guide","slug":"/developer-guide/arthas","permalink":"/community/developer-guide/arthas","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Using Arthas to Profile FE","language":"en"},"sidebar":"community","previous":{"title":"Use FE profiler to generate flame graph","permalink":"/community/developer-guide/fe-profiler"},"next":{"title":"Setting Up Dec Env for FE - IntelliJ IDEA","permalink":"/community/developer-guide/fe-idea-dev"}}'),i=t("785893"),s=t("250065");let a={title:"Using Arthas to Profile FE",language:"en"},o=void 0,l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Generating FlameGraph",id:"generating-flamegraph",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["In Doris 3.1.0 and later versions, the Arthas tool (version 4.0.5) is included in the FE deployment directory ",(0,i.jsx)(n.code,{children:"${DORIS_FE_HOME}/arthas"}),". You can use Arthas to print flame graphs, trace function call paths, output function execution times, observe function parameters and return values, and more, making it convenient to locate various runtime issues in FE."]}),"\n",(0,i.jsxs)(n.p,{children:["For specific Arthas usage methods, please refer to: ",(0,i.jsx)(n.a,{href:"https://arthas.aliyun.com/en/doc/",children:"Arthas Official Documentation"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For versions prior to 3.1, you need to manually download Arthas:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget https://github.com/alibaba/arthas/releases/download/arthas-all-4.0.5/arthas-bin.zip\nunzip arthas-bin.zip -o ${DORIS_FE_HOME}/arthas\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Note: Currently only Linux and MacOS systems are supported, Windows system is not yet supported"})}),"\n",(0,i.jsx)(n.h2,{id:"generating-flamegraph",children:"Generating FlameGraph"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run the ",(0,i.jsx)(n.code,{children:"${DORIS_FE_HOME}/arthas/as.sh"})," script and select the ",(0,i.jsx)(n.code,{children:"DorisFE"})," process"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"bash ./as.sh\nArthas script version: 4.0.5\nFound existing java process, please choose one and input the serial number of the process, eg : 1. Then hit ENTER.\n* [1]: 75123 com.intellij.idea.Main\n  [2]: 77285 org.apache.doris.DorisFE\n  [3]: 76901 DorisBE\n  [4]: 6776 org.jetbrains.jps.cmdline.Launcher\n  [5]: 76265 DorisBE\n  [6]: 80527 org.jetbrains.jps.cmdline.Launcher\n2\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Start Profiling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"[arthas@77285]$ profiler start\nProfiling started\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Stop Profiling and generate flame graph file as ",(0,i.jsx)(n.code,{children:"20250627-115104.html"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"[arthas@77285]$ profiler stop --format html\nOK\nprofiler output file: <DORIS_FE_HOME>/arthas-output/20250627-115104.html\n"})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return o},a:function(){return a}});var r=t(667294);let i={},s=r.createContext(i);function a(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);