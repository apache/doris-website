"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["966807"],{834783:function(n,e,s){s.r(e),s.d(e,{default:()=>x,frontMatter:()=>i,metadata:()=>r,assets:()=>c,toc:()=>d,contentTitle:()=>t});var r=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/array-functions/array-sort","title":"ARRAY_SORT","description":"If no lambda function is specified, the array elements are sorted in ascending order. Otherwise,","source":"@site/docs/sql-manual/sql-functions/scalar-functions/array-functions/array-sort.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/array-functions","slug":"/sql-manual/sql-functions/scalar-functions/array-functions/array-sort","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-sort","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"ARRAY_SORT","language":"en-US","description":"If no lambda function is specified, the array elements are sorted in ascending order. Otherwise,"},"sidebar":"docs","previous":{"title":"ARRAY_SLICE","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-slice"},"next":{"title":"ARRAY_SORTBY","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-sortby"}}'),a=s("785893"),l=s("250065");let i={title:"ARRAY_SORT",language:"en-US",description:"If no lambda function is specified, the array elements are sorted in ascending order. Otherwise,"},t=void 0,c={},d=[{value:"Function",id:"function",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return value",id:"return-value",level:2},{value:"Usage notes",id:"usage-notes",level:2},{value:"Examples",id:"examples",level:2}];function o(n){let e={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{id:"function",children:"Function"}),"\n",(0,a.jsx)(e.p,{children:"If no lambda function is specified, the array elements are sorted in ascending order. Otherwise, sorting is performed according to the lambda function."}),"\n",(0,a.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:"ARRAY_SORT(arr)"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:"ARRAY_SORT(lambda, arr)"})}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"lambda"}),": A ",(0,a.jsx)(e.code,{children:"lambda"})," expression used to define sorting rules, whose return value should be -1, 0, or 1 (representing less than, less than or equal to, and greater than respectively)."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"arr"}),": ",(0,a.jsx)(e.code,{children:"ARRAY<T>"}),", where ",(0,a.jsx)(e.code,{children:"T"})," can be numeric, boolean, string, datetime, IP, etc. Multi-dimensional arrays are supported, but all array elements (no matter how deeply nested) must be of the supported types."]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"return-value",children:"Return value"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["If it does not contain a ",(0,a.jsx)(e.code,{children:"lambda"})," expression\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["Returns ",(0,a.jsx)(e.code,{children:"ARRAY<T>"})," of the same type as the input."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"NULL"})," elements are placed at the beginning of the returned array."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["If it contains a ",(0,a.jsx)(e.code,{children:"lambda"})," expression, sort according to the lambda expression and return an ",(0,a.jsx)(e.code,{children:"ARRAY<T>"})," of the same type as the input."]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"usage-notes",children:"Usage notes"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["If it does not contain a ",(0,a.jsx)(e.code,{children:"lambda"})," expression\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["If the input is ",(0,a.jsx)(e.code,{children:"NULL"}),", returns ",(0,a.jsx)(e.code,{children:"NULL"}),"; if the input is an empty array ",(0,a.jsx)(e.code,{children:"[]"}),", returns an empty array."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"ARRAY_SORT"})," sorts in ascending order, while ",(0,a.jsx)(e.code,{children:"ARRAY_REVERSE_SORT"})," sorts in descending order."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["If containing a ",(0,a.jsx)(e.code,{children:"lambda"})," expression\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["The value of the ",(0,a.jsx)(e.code,{children:"lambda"})," expression shall be -1, 0, or 1. Should a ",(0,a.jsx)(e.code,{children:"NULL"})," value exist, it shall be explicitly stated whether the ",(0,a.jsx)(e.code,{children:"NULL"})," value is to be placed before or after the array."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["Basic: ",(0,a.jsx)(e.code,{children:"NULL"})," elements are placed at the beginning of the returned array"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT ARRAY_SORT([2,1,3,null]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+--------------------------+\n| ARRAY_SORT([2,1,3,null]) |\n+--------------------------+\n| [null, 1, 2, 3]          |\n+--------------------------+\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"2",children:["\n",(0,a.jsxs)(e.li,{children:["If the input is ",(0,a.jsx)(e.code,{children:"NULL"}),", returns ",(0,a.jsx)(e.code,{children:"NULL"}),"; if the input is an empty array ",(0,a.jsx)(e.code,{children:"[]"}),", returns an empty array."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT ARRAY_SORT(NULL);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+------------------+\n| ARRAY_SORT(NULL) |\n+------------------+\n| NULL             |\n+------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT ARRAY_SORT([]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+----------------+\n| ARRAY_SORT([]) |\n+----------------+\n| []             |\n+----------------+\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"3",children:["\n",(0,a.jsxs)(e.li,{children:["Use ",(0,a.jsx)(e.code,{children:"lambda"})," expressions"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> IF(x < y, 1, IF(x = y, 0, -1)), [3, 2, 5, 1, 2]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+-----------------------------------------------------------------------+\n| array_sort((x, y) -> IF(x < y, 1, IF(x = y, 0, -1)), [3, 2, 5, 1, 2]) |\n+-----------------------------------------------------------------------+\n| [5, 3, 2, 2, 1]                                                       |\n+-----------------------------------------------------------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> IF(x < y, 1, IF(x = y, 0, -1)), ['bc', 'ab', 'dc']);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+--------------------------------------------------------------------------+\n| array_sort((x, y) -> IF(x < y, 1, IF(x = y, 0, -1)), ['bc', 'ab', 'dc']) |\n+--------------------------------------------------------------------------+\n| [\"dc\", \"bc\", \"ab\"]                                                       |\n+--------------------------------------------------------------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> CASE WHEN x IS NULL THEN -1\n                              WHEN y IS NULL THEN 1\n                              WHEN x < y THEN 1\n                              WHEN x = y THEN 0\n                              ELSE -1 END,\n                              [3, 2, null, 5, null, 1, 2]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| array_sort((x, y) -> CASE WHEN x IS NULL THEN -1\n                              WHEN y IS NULL THEN 1\n                              WHEN x < y THEN 1\n                              WHEN x = y THEN 0\n                              ELSE -1 END,\n                              [3, 2, null, 5, null, 1, 2]) |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| [null, null, 5, 3, 2, 2, 1]                                                                                                                                                                                                                                                                                |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> CASE WHEN x IS NULL THEN 1\n                              WHEN y IS NULL THEN -1\n                              WHEN x < y THEN 1\n                              WHEN x = y THEN 0\n                              ELSE -1 END,\n                              [3, 2, null, 5, null, 1, 2]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| array_sort((x, y) -> CASE WHEN x IS NULL THEN 1\n                              WHEN y IS NULL THEN -1\n                              WHEN x < y THEN 1\n                              WHEN x = y THEN 0\n                              ELSE -1 END,\n                              [3, 2, null, 5, null, 1, 2]) |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| [5, 3, 2, 2, 1, null, null]                                                                                                                                                                                                                                                                                |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> IF(length(x) < length(y), -1,\n                            IF(length(x) = length(y), 0, 1)),\n                            ['a', 'abcd', 'abc']);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| array_sort((x, y) -> IF(length(x) < length(y), -1,\n                            IF(length(x) = length(y), 0, 1)),\n                            ['a', 'abcd', 'abc']) |\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| [\"a\", \"abc\", \"abcd\"]                                                                                                                                               |\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT array_sort((x, y) -> IF(cardinality(x) < cardinality(y), -1,\n                            IF(cardinality(x) = cardinality(y), 0, 1)),\n                            [[2, 3, 1], [4, 2, 1, 4], [1, 2]]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| array_sort((x, y) -> IF(cardinality(x) < cardinality(y), -1,\n                            IF(cardinality(x) = cardinality(y), 0, 1)),\n                            [[2, 3, 1], [4, 2, 1, 4], [1, 2]]) |\n+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| [[1, 2], [2, 3, 1], [4, 2, 1, 4]]                                                                                                                                                                   |\n+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n"})}),"\n",(0,a.jsxs)(e.ol,{start:"4",children:["\n",(0,a.jsx)(e.li,{children:"Multi-dimensional array sort"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT ARRAY_SORT([[6, 2], [5, 6]]);\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+------------------------------+\n| ARRAY_SORT([[6, 2], [5, 6]]) |\n+------------------------------+\n| [[5, 6], [6, 2]]             |\n+------------------------------+\n"})})]})}function x(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(o,{...n})}):o(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return t},a:function(){return i}});var r=s(667294);let a={},l=r.createContext(a);function i(n){let e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);