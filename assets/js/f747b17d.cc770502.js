"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["243093"],{990213:function(e,n,a){a.r(n),a.d(n,{default:()=>u,frontMatter:()=>r,metadata:()=>l,assets:()=>c,toc:()=>d,contentTitle:()=>i});var l=JSON.parse('{"id":"sql-manual/sql-functions/aggregate-functions/avg","title":"AVG","description":"Calculates the average of all non-NULL values in a specified column or expression.","source":"@site/docs/sql-manual/sql-functions/aggregate-functions/avg.md","sourceDirName":"sql-manual/sql-functions/aggregate-functions","slug":"/sql-manual/sql-functions/aggregate-functions/avg","permalink":"/docs/dev/sql-manual/sql-functions/aggregate-functions/avg","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"AVG","language":"en","description":"Calculates the average of all non-NULL values in a specified column or expression."},"sidebar":"docs","previous":{"title":"ARRAY_AGG","permalink":"/docs/dev/sql-manual/sql-functions/aggregate-functions/array-agg"},"next":{"title":"AVG_WEIGHTED","permalink":"/docs/dev/sql-manual/sql-functions/aggregate-functions/avg-weighted"}}'),t=a("785893"),s=a("250065");let r={title:"AVG",language:"en",description:"Calculates the average of all non-NULL values in a specified column or expression."},i=void 0,c={},d=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Example",id:"example",level:2}];function o(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Calculates the average of all non-NULL values in a specified column or expression."}),"\n",(0,t.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"AVG([DISTINCT] <expr>)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<expr>"})}),(0,t.jsx)(n.td,{children:"It is an expression or column, typically a numeric column or an expression that can be converted to a numeric value. Supported types are TinyInt, SmallInt, Integer, BigInt, LargeInt, Double, Decimal."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[DISTINCT]"})}),(0,t.jsx)(n.td,{children:"It is an optional keyword that indicates the calculation of the average value after removing duplicate values from expr."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,t.jsx)(n.p,{children:"Returns the average value of the selected column or expression. If all records in the group are NULL, the function returns NULL.\nFor decimal type input, return value will be decimal as well, other numric type will return double type."}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'-- setup\ncreate table t1(\n        k_tinyint tinyint,\n        k_smallint smallint,\n        k_int int,\n        k_bigint bigint,\n        k_largeint largeint,\n        k_double double,\n        k_decimal decimalv3(10, 5),\n        k_null_int int\n) distributed by hash (k_int) buckets 1\nproperties ("replication_num"="1");\ninsert into t1 values \n    (1, 10, 100, 1000, 10000, 1.1, 222.222, null),\n    (2, 20, 200, 2000, 20000, 2.2, 444.444, null),\n    (3, 30, 300, 3000, 30000, 3.3, null, null);\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_tinyint) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"TinyInt type average calculation, the average of [1,2,3] is 2."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+----------------+\n| avg(k_tinyint) |\n+----------------+\n|              2 |\n+----------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_smallint) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"SmallInt type average calculation, the average of [10,20,30] is 20."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+-----------------+\n| avg(k_smallint) |\n+-----------------+\n|              20 |\n+-----------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_int) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Integer type average calculation, the average of [100,200,300] is 200."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+------------+\n| avg(k_int) |\n+------------+\n|        200 |\n+------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_bigint) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"BigInt type average calculation, the average of [1000,2000,3000] is 2000."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+---------------+\n| avg(k_bigint) |\n+---------------+\n|          2000 |\n+---------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_largeint) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"LargeInt type average calculation, the average of [10000,20000,30000] is 20000."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+-----------------+\n| avg(k_largeint) |\n+-----------------+\n|           20000 |\n+-----------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_double) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Double type average calculation, the average of [1.1,2.2,3.3] is approximately 2.2."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"| avg(k_double)      |\n+--------------------+\n| 2.1999999999999997 |\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_decimal) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Decimal type average calculation, the average of [222.222,444.444,null] is 333.333."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+----------------+\n| avg(k_decimal) |\n+----------------+\n|      333.33300 |\n+----------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(k_null_int) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"For cases where all input data are NULL values, return NULL value."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+-----------------+\n| avg(k_null_int) |\n+-----------------+\n|            NULL |\n+-----------------+\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select avg(distinct k_bigint) from t1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Using the DISTINCT keyword for deduplication calculation, [1000,2000,3000] after deduplication has an average of 2000."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"+-----------------------+\n| avg(distinct k_bigint) |\n+-----------------------+\n|                  2000 |\n+-----------------------+\n"})})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},250065:function(e,n,a){a.d(n,{Z:function(){return i},a:function(){return r}});var l=a(667294);let t={},s=l.createContext(t);function r(e){let n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);