"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["731117"],{284279:function(n,e,i){i.r(e),i.d(e,{default:()=>u,frontMatter:()=>t,metadata:()=>s,assets:()=>o,toc:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/unicode_normalize","title":"UNICODE_NORMALIZE","description":"Performs Unicode Normalization on the input string.","source":"@site/docs/sql-manual/sql-functions/scalar-functions/string-functions/unicode_normalize.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/unicode_normalize","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/unicode_normalize","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"UNICODE_NORMALIZE","language":"en","description":"Performs Unicode Normalization on the input string."},"sidebar":"docs","previous":{"title":"UCASE/UPPER","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/ucase"},"next":{"title":"URL_DECODE","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/string-functions/url-decode"}}'),l=i("785893"),r=i("250065");let t={title:"UNICODE_NORMALIZE",language:"en",description:"Performs Unicode Normalization on the input string."},c=void 0,o={},a=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function d(n){let e={a:"a",br:"br",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"description",children:"Description"}),"\n",(0,l.jsxs)(e.p,{children:["Performs ",(0,l.jsx)(e.a,{href:"https://unicode-org.github.io/icu/userguide/transforms/normalization/",children:"Unicode Normalization"})," on the input string."]}),"\n",(0,l.jsx)(e.p,{children:'Unicode normalization is the process of converting equivalent Unicode character sequences into a unified form. For example, the character "\xe9" can be represented by a single code point (U+00E9) or by "e" + a combining acute accent (U+0065 + U+0301). Normalization ensures that these equivalent representations are handled uniformly.'}),"\n",(0,l.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"UNICODE_NORMALIZE(<str>, <mode>)\n"})}),"\n",(0,l.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"<str>"})}),(0,l.jsx)(e.td,{children:"The input string to be normalized. Type: VARCHAR"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"<mode>"})}),(0,l.jsxs)(e.td,{children:["The normalization mode, must be a constant string (case-insensitive). Supported modes:",(0,l.jsx)(e.br,{}),"- ",(0,l.jsx)(e.code,{children:"NFC"}),": Canonical Decomposition, followed by Canonical Composition",(0,l.jsx)(e.br,{}),"- ",(0,l.jsx)(e.code,{children:"NFD"}),": Canonical Decomposition",(0,l.jsx)(e.br,{}),"- ",(0,l.jsx)(e.code,{children:"NFKC"}),": Compatibility Decomposition, followed by Canonical Composition",(0,l.jsx)(e.br,{}),"- ",(0,l.jsx)(e.code,{children:"NFKD"}),": Compatibility Decomposition",(0,l.jsx)(e.br,{}),"- ",(0,l.jsx)(e.code,{children:"NFKC_CF"}),": NFKC followed by Case Folding"]})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"return-value",children:"Return Value"}),"\n",(0,l.jsx)(e.p,{children:"Returns VARCHAR type, representing the normalized result of the input string."}),"\n",(0,l.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Difference between NFC and NFD (composed vs decomposed characters)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- 'Caf\xe9' where \xe9 may be in composed form, NFD will decompose it into e + combining accent\nSELECT length(unicode_normalize('Caf\xe9', 'NFC')) AS nfc_len, length(unicode_normalize('Caf\xe9', 'NFD')) AS nfd_len;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------+---------+\n| nfc_len | nfd_len |\n+---------+---------+\n|       4 |       5 |\n+---------+---------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"NFKC_CF for case folding"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT unicode_normalize('ABC 123', 'nfkc_cf') AS result;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------+\n| result  |\n+---------+\n| abc 123 |\n+---------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"NFKC handling fullwidth characters (compatibility decomposition)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- Fullwidth digits '\uFF11\uFF12\uFF13' will be converted to halfwidth '123'\nSELECT unicode_normalize('\uFF11\uFF12\uFF13\uFF21\uFF22\uFF23', 'NFKC') AS result;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+--------+\n| result |\n+--------+\n| 123ABC |\n+--------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"NFKD handling special symbols (compatibility decomposition)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- \u2103 (degree Celsius symbol) will be decomposed to \xb0C\nSELECT unicode_normalize('25\u2103', 'NFKD') AS result;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+--------+\n| result |\n+--------+\n| 25\xb0C   |\n+--------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"Handling circled numbers"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- \u2460 \u2461 \u2462 circled numbers will be converted to regular digits\nSELECT unicode_normalize('\u2460\u2461\u2462', 'NFKC') AS result;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+--------+\n| result |\n+--------+\n| 123    |\n+--------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"Comparing different modes on the same string"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT \n    unicode_normalize('\uFB01', 'NFC') AS nfc_result,\n    unicode_normalize('\uFB01', 'NFKC') AS nfkc_result;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+------------+-------------+\n| nfc_result | nfkc_result |\n+------------+-------------+\n| \uFB01          | fi          |\n+------------+-------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsx)(e.li,{children:"String equality comparison scenario"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- Use normalization to compare visually identical but differently encoded strings\nSELECT unicode_normalize('caf\xe9', 'NFC') = unicode_normalize('caf\xe9', 'NFC') AS is_equal;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+----------+\n| is_equal |\n+----------+\n|        1 |\n+----------+\n"})})]})}function u(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},250065:function(n,e,i){i.d(e,{Z:function(){return c},a:function(){return t}});var s=i(667294);let l={},r=s.createContext(l);function t(n){let e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);