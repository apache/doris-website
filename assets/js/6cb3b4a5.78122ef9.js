"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["951199"],{109716:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>t,assets:()=>i,toc:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"ai/text-search/search-operators","title":"Full-Text Search and Query Acceleration Support","description":"Full-Text Search Operators","source":"@site/docs/ai/text-search/search-operators.md","sourceDirName":"ai/text-search","slug":"/ai/text-search/search-operators","permalink":"/docs/dev/ai/text-search/search-operators","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Full-Text Search and Query Acceleration Support","language":"en"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/docs/dev/ai/text-search/overview"},"next":{"title":"SEARCH Function","permalink":"/docs/dev/ai/text-search/search-function"}}'),s=r("785893"),a=r("250065");let l={title:"Full-Text Search and Query Acceleration Support",language:"en"},c=void 0,i={},d=[{value:"Full-Text Search Operators",id:"full-text-search-operators",level:2},{value:"MATCH_ANY",id:"match_any",level:3},{value:"MATCH_ALL",id:"match_all",level:3},{value:"MATCH_PHRASE",id:"match_phrase",level:3},{value:"MATCH_PHRASE with slop",id:"match_phrase-with-slop",level:3},{value:"MATCH_PHRASE with strict order",id:"match_phrase-with-strict-order",level:3},{value:"MATCH_PHRASE_PREFIX",id:"match_phrase_prefix",level:3},{value:"MATCH_REGEXP",id:"match_regexp",level:3},{value:"MATCH_PHRASE_EDGE",id:"match_phrase_edge",level:3},{value:"Inverted Index Query Acceleration",id:"inverted-index-query-acceleration",level:2},{value:"Supported Operators and Functions",id:"supported-operators-and-functions",level:3}];function o(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"full-text-search-operators",children:"Full-Text Search Operators"}),"\n",(0,s.jsx)(n.h3,{id:"match_any",children:"MATCH_ANY"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Matches rows containing any of the specified keywords in a field."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ANY 'keyword1 keyword2';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_all",children:"MATCH_ALL"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Matches rows containing all specified keywords in a field."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ALL 'keyword1 keyword2';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_phrase",children:"MATCH_PHRASE"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Phrase match where terms appear adjacent and in order."}),"\n",(0,s.jsxs)(n.li,{children:["Requires index property ",(0,s.jsx)(n.code,{children:'"support_phrase" = "true"'})," for acceleration."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_phrase-with-slop",children:"MATCH_PHRASE with slop"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Loose phrase matching that allows gaps between terms up to a maximum distance."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Allow up to 3 terms between keyword1 and keyword2\nSELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_phrase-with-strict-order",children:"MATCH_PHRASE with strict order"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Combine slop with strict order using ",(0,s.jsx)(n.code,{children:"+"})," to enforce term order."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3+';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_phrase_prefix",children:"MATCH_PHRASE_PREFIX"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Phrase match where the last term uses prefix matching."}),"\n",(0,s.jsx)(n.li,{children:"With a single term, it degrades to prefix matching for that term."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Last term as prefix\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1 key';\n\n-- Single-term prefix match\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_regexp",children:"MATCH_REGEXP"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Regular expression match on the tokenized terms of a field."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_REGEXP '^key_word.*';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match_phrase_edge",children:"MATCH_PHRASE_EDGE"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Treats the first term as suffix-match, middle terms as exact, last term as prefix-match; terms must be adjacent."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE_EDGE 'search engine optim';\n"})}),"\n",(0,s.jsx)(n.h2,{id:"inverted-index-query-acceleration",children:"Inverted Index Query Acceleration"}),"\n",(0,s.jsx)(n.h3,{id:"supported-operators-and-functions",children:"Supported Operators and Functions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Equality and set: ",(0,s.jsx)(n.code,{children:"="}),", ",(0,s.jsx)(n.code,{children:"!="}),", ",(0,s.jsx)(n.code,{children:"IN"}),", ",(0,s.jsx)(n.code,{children:"NOT IN"})]}),"\n",(0,s.jsxs)(n.li,{children:["Range: ",(0,s.jsx)(n.code,{children:">"}),", ",(0,s.jsx)(n.code,{children:">="}),", ",(0,s.jsx)(n.code,{children:"<"}),", ",(0,s.jsx)(n.code,{children:"<="}),", ",(0,s.jsx)(n.code,{children:"BETWEEN"})]}),"\n",(0,s.jsxs)(n.li,{children:["Null checks: ",(0,s.jsx)(n.code,{children:"IS NULL"}),", ",(0,s.jsx)(n.code,{children:"IS NOT NULL"})]}),"\n",(0,s.jsxs)(n.li,{children:["Arrays: ",(0,s.jsx)(n.code,{children:"array_contains"}),", ",(0,s.jsx)(n.code,{children:"array_overlaps"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Examples\nSELECT * FROM t WHERE price >= 100 AND price < 200;          -- range\nSELECT * FROM t WHERE tags IN ('a','b','c');                  -- set\nSELECT * FROM t WHERE array_contains(attributes, 'color');    -- arrays\n"})})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return c},a:function(){return l}});var t=r(667294);let s={},a=t.createContext(s);function l(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);