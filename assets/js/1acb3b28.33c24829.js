"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["458062"],{334092:function(e,i,n){n.r(i),n.d(i,{default:()=>h,frontMatter:()=>l,metadata:()=>s,assets:()=>a,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"releasenotes/v3.0/release-3.0.7","title":"Release 3.0.7","description":"Behavior Changes:Adjust the permission requirements for show frontends and show backends to align with the corresponding RESTful API, i.e., requiring the SELECT_PRIV permission on the information_schema database","source":"@site/versioned_docs/version-4.x/releasenotes/v3.0/release-3.0.7.md","sourceDirName":"releasenotes/v3.0","slug":"/releasenotes/v3.0/release-3.0.7","permalink":"/docs/4.x/releasenotes/v3.0/release-3.0.7","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 3.0.7","language":"en","description":"Behavior Changes:Adjust the permission requirements for show frontends and show backends to align with the corresponding RESTful API, i.e., requiring the SELECT_PRIV permission on the information_schema database"},"sidebar":"docs","previous":{"title":"Release 3.0.8","permalink":"/docs/4.x/releasenotes/v3.0/release-3.0.8"},"next":{"title":"Release 3.0.6","permalink":"/docs/4.x/releasenotes/v3.0/release-3.0.6"}}'),r=n("785893"),t=n("250065");let l={title:"Release 3.0.7",language:"en",description:"Behavior Changes:Adjust the permission requirements for show frontends and show backends to align with the corresponding RESTful API, i.e., requiring the SELECT_PRIV permission on the information_schema database"},o=void 0,a={},d=[{value:"Behavior Changes",id:"behavior-changes",level:2},{value:"New Features",id:"new-features",level:2},{value:"Query Optimizer",id:"query-optimizer",level:3},{value:"Query Execution",id:"query-execution",level:3},{value:"Semi-structured Data Management",id:"semi-structured-data-management",level:3},{value:"New Functions",id:"new-functions",level:3},{value:"Improvements",id:"improvements",level:2},{value:"Data Ingestion",id:"data-ingestion",level:3},{value:"Primary Key Model",id:"primary-key-model",level:3},{value:"Storage",id:"storage",level:3},{value:"Storage-Compute Decoupled",id:"storage-compute-decoupled",level:3},{value:"Lakehouse",id:"lakehouse",level:3},{value:"Asynchronous Materialized Views",id:"asynchronous-materialized-views",level:3},{value:"Query Optimizer",id:"query-optimizer-1",level:3},{value:"Inverted Index",id:"inverted-index",level:3},{value:"Permissions",id:"permissions",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Data Ingestion",id:"data-ingestion-1",level:3},{value:"Primary Key Model",id:"primary-key-model-1",level:3},{value:"Storage",id:"storage-1",level:3},{value:"Storage-Compute Decoupled",id:"storage-compute-decoupled-1",level:3},{value:"Lakehouse",id:"lakehouse-1",level:3},{value:"Asynchronous Materialized Views",id:"asynchronous-materialized-views-1",level:3},{value:"Query Optimizer",id:"query-optimizer-2",level:3},{value:"Permissions",id:"permissions-1",level:3},{value:"Query Execution",id:"query-execution-1",level:3},{value:"Inverted Index",id:"inverted-index-1",level:3},{value:"Complex Data Types",id:"complex-data-types",level:3},{value:"Others",id:"others",level:3}];function c(e){let i={code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"behavior-changes",children:"Behavior Changes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Adjust the permission requirements for ",(0,r.jsx)(i.code,{children:"show frontends"})," and ",(0,r.jsx)(i.code,{children:"show backends"})," to align with the corresponding RESTful API, i.e., requiring the ",(0,r.jsx)(i.code,{children:"SELECT_PRIV"})," permission on the ",(0,r.jsx)(i.code,{children:"information_schema"})," database"]}),"\n",(0,r.jsx)(i.li,{children:"Admin and root users with specified domains are no longer considered system users"}),"\n",(0,r.jsx)(i.li,{children:"Storage: The default number of concurrent transactions per database is adjusted to 10000"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"new-features",children:"New Features"}),"\n",(0,r.jsx)(i.h3,{id:"query-optimizer",children:"Query Optimizer"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Support MySQL's aggregate roll-up syntax ",(0,r.jsx)(i.code,{children:"GROUP BY ... WITH ROLLUP"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"query-execution",children:"Query Execution"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Like"})," statement supports ",(0,r.jsx)(i.code,{children:"escape"})," syntax"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"semi-structured-data-management",children:"Semi-structured Data Management"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Support building non-tokenized inverted indexes and ngram bloomfilter indexes only for new data by setting the session variable ",(0,r.jsx)(i.code,{children:"enable_add_index_for_new_data=true"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"new-functions",children:"New Functions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Added data functions: ",(0,r.jsx)(i.code,{children:"cot"}),"/",(0,r.jsx)(i.code,{children:"sec"}),"/",(0,r.jsx)(i.code,{children:"cosec"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"improvements",children:"Improvements"}),"\n",(0,r.jsx)(i.h3,{id:"data-ingestion",children:"Data Ingestion"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Optimize error message prompts for ",(0,r.jsx)(i.code,{children:"SHOW CREATE LOAD"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"primary-key-model",children:"Primary Key Model"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Add segment key bounds truncation capability to avoid single large import failures"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"storage",children:"Storage"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Enhance the reliability of compaction and imported data"}),"\n",(0,r.jsx)(i.li,{children:"Optimize balance speed"}),"\n",(0,r.jsx)(i.li,{children:"Optimize table creation speed"}),"\n",(0,r.jsx)(i.li,{children:"Optimize compaction default parameters and observability"}),"\n",(0,r.jsx)(i.li,{children:"Optimize the issue of query error -230"}),"\n",(0,r.jsxs)(i.li,{children:["Add system table ",(0,r.jsx)(i.code,{children:"backend_tablets"})]}),"\n",(0,r.jsxs)(i.li,{children:["Optimize the performance of querying ",(0,r.jsx)(i.code,{children:"information_schema.tables"})," from follower nodes in cloud mode"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"storage-compute-decoupled",children:"Storage-Compute Decoupled"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Enhance observability of Meta-service recycler"}),"\n",(0,r.jsx)(i.li,{children:"Support cross-compute group incremental preheating during import compaction"}),"\n",(0,r.jsx)(i.li,{children:"Optimize Storage vault connectivity check"}),"\n",(0,r.jsx)(i.li,{children:"Support updating storage backend information via MS API"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"lakehouse",children:"Lakehouse"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Optimize ORC zlib decompression performance in x86 environment and fix potential issues"}),"\n",(0,r.jsx)(i.li,{children:"Optimize the default number of concurrent threads for external table reading"}),"\n",(0,r.jsx)(i.li,{children:"Optimize error messages for Catalogs that do not support DDL operations"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"asynchronous-materialized-views",children:"Asynchronous Materialized Views"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Optimize the performance of transparent rewriting planning"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"query-optimizer-1",children:"Query Optimizer"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["The ",(0,r.jsx)(i.code,{children:"group_concat"})," function now allows parameters of non-string types"]}),"\n",(0,r.jsxs)(i.li,{children:["The ",(0,r.jsx)(i.code,{children:"sum"})," and ",(0,r.jsx)(i.code,{children:"avg"})," functions allow parameters of non-numeric types"]}),"\n",(0,r.jsx)(i.li,{children:"Expand the scope of support for delayed materialization in TOP-N queries, enabling delayed materialization when querying partial columns"}),"\n",(0,r.jsxs)(i.li,{children:["When creating partitions, list partitions allow inclusion of ",(0,r.jsx)(i.code,{children:"MAX_VALUE"})]}),"\n",(0,r.jsx)(i.li,{children:"Optimize the performance of sampling and collecting statistical information for aggregate model tables"}),"\n",(0,r.jsx)(i.li,{children:"Optimize the accuracy of NDV values when sampling and collecting statistical information"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"inverted-index",children:"Inverted Index"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Unify the order of properties displayed for inverted indexes in ",(0,r.jsx)(i.code,{children:"show create table"})]}),"\n",(0,r.jsx)(i.li,{children:"Add per-condition profile metrics (such as hit rows and execution time) for inverted index filter conditions to facilitate performance analysis"}),"\n",(0,r.jsx)(i.li,{children:"Enhance the display of inverted index-related information in profiles"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Ranger supports setting permissions for storage vault and compute group"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,r.jsx)(i.h3,{id:"data-ingestion-1",children:"Data Ingestion"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the correctness issue that may occur when importing CSV files with multi-character separators"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the issue where the result of ",(0,r.jsx)(i.code,{children:"ROUTINE LOAD"})," task display is incorrect after modifying task properties"]}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where the one-stream multi-table import plan becomes invalid after primary node restart or Leader switch"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the issue where all scheduling tasks are blocked because ",(0,r.jsx)(i.code,{children:"ROUTINE LOAD"})," tasks cannot find available BE nodes"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the concurrent read-write conflict issue of ",(0,r.jsx)(i.code,{children:"runningTxnIds"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"primary-key-model-1",children:"Primary Key Model"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Optimize the import performance of mow tables under high-frequency concurrent imports"}),"\n",(0,r.jsx)(i.li,{children:"mow table full compaction releases space of deleted data"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential import failure issue of mow tables in extreme scenarios"}),"\n",(0,r.jsx)(i.li,{children:"Optimize the compaction performance of mow tables"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential correctness issue of mow tables during concurrent imports and schema changes"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where schema change on empty mow tables may cause import stuck or schema change failure"}),"\n",(0,r.jsx)(i.li,{children:"Fix the memory leak issue of mow delete bitmap cache"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential correctness issue of mow tables after schema change"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"storage-1",children:"Storage"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the missing rowset issue in clone process caused by compaction"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue of inaccurate size calculation and default value for autobucket"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential correctness issue caused by bucket columns"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where single-column tables cannot be renamed"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential memory leak issue of memtable"}),"\n",(0,r.jsx)(i.li,{children:"Fix the inconsistent error reporting issue for unsupported operations in empty table transaction writes"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"storage-compute-decoupled-1",children:"Storage-Compute Decoupled"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Several fixes for File cache"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where cumulative point may roll back during schema process"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where background tasks affect automatic restart"}),"\n",(0,r.jsx)(i.li,{children:"Fix the unhandled exception issue in data recycling process in azure environment"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where file cache is not cleaned up in time when compacting a single rowset"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"lakehouse-1",children:"Lakehouse"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the transaction commit failure issue for Iceberg table writes in Kerberos environment"}),"\n",(0,r.jsx)(i.li,{children:"Fix the query issue for hudi in kerberos environment"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential deadlock issue in multi-Catalog scenarios"}),"\n",(0,r.jsx)(i.li,{children:"Fix the metadata inconsistency issue caused by concurrent Catalog refresh in some cases"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where ORC footer is read multiple times in some cases"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where Table Valued Function cannot read compressed json files"}),"\n",(0,r.jsx)(i.li,{children:"SQL Server Catalog supports identifying IDENTITY column information"}),"\n",(0,r.jsx)(i.li,{children:"SQL Convertor supports specifying multiple URLs for high availability"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"asynchronous-materialized-views-1",children:"Asynchronous Materialized Views"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the issue where partition compensation may be performed incorrectly when the query is optimized to an empty result set"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"query-optimizer-2",children:"Query Optimizer"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Fix the issue where factors other than ",(0,r.jsx)(i.code,{children:"sql_select_limit"})," affect DML execution results"]}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where materialized CTEs may report errors in extreme cases when starting local shuffle"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where prepared insert statements cannot be executed on non-master nodes"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the result error issue when casting ",(0,r.jsx)(i.code,{children:"ipv4"})," to string"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"permissions-1",children:"Permissions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"When a user has multiple roles, the permissions of the multiple roles will be merged before authorization"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"query-execution-1",children:"Query Execution"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix issues with some json functions"}),"\n",(0,r.jsx)(i.li,{children:"Fix the potential BE Core issue when the asynchronous thread pool is full"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the incorrect result issue of ",(0,r.jsx)(i.code,{children:"hll_to_base64"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the result error issue when casting ",(0,r.jsx)(i.code,{children:"decimal256"})," to float"]}),"\n",(0,r.jsx)(i.li,{children:"Fix two memory leak issues"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the be core issue caused by ",(0,r.jsx)(i.code,{children:"bitmap_from_base64"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the potential be core issue caused by ",(0,r.jsx)(i.code,{children:"array_map"})," function"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the potential error issue of ",(0,r.jsx)(i.code,{children:"split_by_regexp"})," function"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the potential result error issue of ",(0,r.jsx)(i.code,{children:"bitmap_union"})," function under extremely large data volumes"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the potential core issue of ",(0,r.jsx)(i.code,{children:"format round"})," function under some boundary values"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"inverted-index-1",children:"Inverted Index"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the memory leak issue of inverted indexes in abnormal situations"}),"\n",(0,r.jsx)(i.li,{children:"Fix the error reporting issue when writing and querying empty index files"}),"\n",(0,r.jsx)(i.li,{children:"Capture IO exceptions in inverted index string reading to avoid process crash due to exceptions"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"complex-data-types",children:"Complex Data Types"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the potential type inference error when Variant Nested data types conflict"}),"\n",(0,r.jsxs)(i.li,{children:["Fix the parameter type inference error of ",(0,r.jsx)(i.code,{children:"map"})," function"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the issue where data is incorrectly converted to NULL when specifying ",(0,r.jsx)(i.code,{children:"'$.'"})," as the path in jsonpath"]}),"\n",(0,r.jsxs)(i.li,{children:["Fix the issue where the serialization format cannot be restored when a subfield of Variant contains ",(0,r.jsx)(i.code,{children:"."})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Fix the insufficient length issue of the IP field in the auditlog table"}),"\n",(0,r.jsx)(i.li,{children:"Fix the issue where the query id recorded in the audit log is that of the previous query when SQL parsing fails"}),"\n"]})]})}function h(e={}){let{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,i,n){n.d(i,{Z:function(){return o},a:function(){return l}});var s=n(667294);let r={},t=s.createContext(r);function l(e){let i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);