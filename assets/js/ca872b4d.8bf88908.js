"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["578350"],{557470:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>s,assets:()=>t,toc:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/tokenize","title":"TOKENIZE","description":"The TOKENIZE function tokenizes a string using a specified parser/analyzer and returns the tokenization results.","source":"@site/versioned_docs/version-3.x/sql-manual/sql-functions/scalar-functions/string-functions/tokenize.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/tokenize","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/tokenize","draft":false,"unlisted":false,"tags":[],"version":"3.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"TOKENIZE","language":"en","description":"The TOKENIZE function tokenizes a string using a specified parser/analyzer and returns the tokenization results."},"sidebar":"docs","previous":{"title":"TO_BASE64","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/to-base64"},"next":{"title":"TOP_LEVEL_DOMAIN","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/top-level-domain"}}'),i=r("785893"),l=r("250065");let d={title:"TOKENIZE",language:"en",description:"The TOKENIZE function tokenizes a string using a specified parser/analyzer and returns the tokenization results."},c=void 0,t={},a=[{value:"Description",id:"description",level:2},{value:"Version 3.1+ Features (Recommended)",id:"version-31-features-recommended",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Return Value",id:"return-value",level:3},{value:"Examples",id:"examples",level:3},{value:"Example 1: Using built-in analyzers",id:"example-1-using-built-in-analyzers",level:4},{value:"Example 2: Chinese parser with fine-grained mode",id:"example-2-chinese-parser-with-fine-grained-mode",level:4},{value:"Example 3: Using character filters",id:"example-3-using-character-filters",level:4},{value:"Example 4: With phrase support (position information)",id:"example-4-with-phrase-support-position-information",level:4},{value:"Example 5: Using custom analyzers",id:"example-5-using-custom-analyzers",level:4},{value:"Version 3.0 Specific Features",id:"version-30-specific-features",level:2},{value:"Syntax",id:"syntax-1",level:3},{value:"Parameters",id:"parameters-1",level:3},{value:"Return Value",id:"return-value-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Example 1: Using the Chinese parser",id:"example-1-using-the-chinese-parser",level:4},{value:"Example 2: Chinese parser with fine-grained mode",id:"example-2-chinese-parser-with-fine-grained-mode-1",level:4},{value:"Example 3: Using the Unicode parser",id:"example-3-using-the-unicode-parser",level:4},{value:"Example 4: Using character filters",id:"example-4-using-character-filters",level:4},{value:"Example 5: Stopwords configuration",id:"example-5-stopwords-configuration",level:4},{value:"Notes",id:"notes",level:2},{value:"Keywords",id:"keywords",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," function tokenizes a string using a specified parser/analyzer and returns the tokenization results. This function is particularly useful for testing and understanding how text will be analyzed when using inverted indexes with full-text search capabilities."]}),"\n",(0,i.jsxs)(n.admonition,{title:"Version Differences",type:"tip",children:[(0,i.jsxs)(n.p,{children:["The behavior of ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," differs between version 3.0 and 3.1+:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 3.0"}),": Uses ",(0,i.jsx)(n.code,{children:"parser"})," parameter, returns simple string array"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 3.1+"}),": Supports ",(0,i.jsx)(n.code,{children:"built_in_analyzer"})," and custom ",(0,i.jsx)(n.code,{children:"analyzer"}),", returns JSON object array with enhanced features"]}),"\n"]}),(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"#version-30-specific-features",children:"Version 3.0 Specific Features"})," section for details on version 3.0 usage."]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"version-31-features-recommended",children:"Version 3.1+ Features (Recommended)"}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"VARCHAR TOKENIZE(VARCHAR str, VARCHAR properties)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"str"}),": The input string to be tokenized. Type: ",(0,i.jsx)(n.code,{children:"VARCHAR"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"properties"}),": A property string specifying the analyzer configuration. Type: ",(0,i.jsx)(n.code,{children:"VARCHAR"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"properties"})," parameter supports the following key-value pairs (format: ",(0,i.jsx)(n.code,{children:'"key1"="value1", "key2"="value2"'}),"):"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example Values"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"built_in_analyzer"})}),(0,i.jsx)(n.td,{children:"Built-in analyzer type"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"standard"'}),", ",(0,i.jsx)(n.code,{children:'"english"'}),", ",(0,i.jsx)(n.code,{children:'"chinese"'}),", ",(0,i.jsx)(n.code,{children:'"unicode"'}),", ",(0,i.jsx)(n.code,{children:'"icu"'}),", ",(0,i.jsx)(n.code,{children:'"basic"'}),", ",(0,i.jsx)(n.code,{children:'"ik"'}),", ",(0,i.jsx)(n.code,{children:'"none"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"analyzer"})}),(0,i.jsxs)(n.td,{children:["Custom analyzer name (created via ",(0,i.jsx)(n.code,{children:"CREATE INVERTED INDEX ANALYZER"}),")"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"my_custom_analyzer"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser"})}),(0,i.jsx)(n.td,{children:"Built-in parser type (backward compatible)"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"chinese"'}),", ",(0,i.jsx)(n.code,{children:'"english"'}),", ",(0,i.jsx)(n.code,{children:'"unicode"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser_mode"})}),(0,i.jsx)(n.td,{children:"Parser mode for Chinese parser"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"fine_grained"'}),", ",(0,i.jsx)(n.code,{children:'"coarse_grained"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"support_phrase"})}),(0,i.jsx)(n.td,{children:"Enable phrase support (stores position information)"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"true"'}),", ",(0,i.jsx)(n.code,{children:'"false"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lower_case"})}),(0,i.jsx)(n.td,{children:"Convert tokens to lowercase"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"true"'}),", ",(0,i.jsx)(n.code,{children:'"false"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_type"})}),(0,i.jsx)(n.td,{children:"Character filter type"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"char_replace"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_pattern"})}),(0,i.jsxs)(n.td,{children:["Characters to be replaced (used with ",(0,i.jsx)(n.code,{children:"char_filter_type"}),")"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"._=:,"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_replacement"})}),(0,i.jsxs)(n.td,{children:["Replacement character (used with ",(0,i.jsx)(n.code,{children:"char_filter_type"}),")"]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'" "'})," (space)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stopwords"})}),(0,i.jsx)(n.td,{children:"Stop words configuration"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"none"'})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"return-value",children:"Return Value"}),"\n",(0,i.jsxs)(n.p,{children:["Returns a ",(0,i.jsx)(n.code,{children:"VARCHAR"})," containing a JSON array of tokenization results. Each element in the array is an object with the following structure:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"token"}),": The tokenized term"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"position"}),": (Optional) The position index of the token when ",(0,i.jsx)(n.code,{children:"support_phrase"})," is enabled"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h4,{id:"example-1-using-built-in-analyzers",children:"Example 1: Using built-in analyzers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'-- Standard analyzer\nSELECT TOKENIZE("Hello World", \'"built_in_analyzer"="standard"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "hello" }, { "token": "world" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'-- English analyzer with stemming\nSELECT TOKENIZE("running quickly", \'"built_in_analyzer"="english"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "run" }, { "token": "quick" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Chinese analyzer\nSELECT TOKENIZE('\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66', '\"built_in_analyzer\"=\"chinese\"');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "\u6211" }, { "token": "\u6765\u5230" }, { "token": "\u5317\u4EAC" }, { "token": "\u6E05\u534E\u5927\u5B66" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Unicode analyzer\nSELECT TOKENIZE('Apache Doris\u6570\u636E\u5E93', '\"built_in_analyzer\"=\"unicode\"');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "apache" }, { "token": "doris" }, { "token": "\u6570" }, { "token": "\u636E" }, { "token": "\u5E93" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'-- ICU analyzer for multilingual text\nSELECT TOKENIZE("Hello World \u4E16\u754C", \'"built_in_analyzer"="icu"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "hello" }, { "token": "world" }, { "token": "\u4E16\u754C" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'-- Basic analyzer\nSELECT TOKENIZE("GET /images/hm_bg.jpg HTTP/1.0", \'"built_in_analyzer"="basic"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "get" }, { "token": "images" }, { "token": "hm" }, { "token": "bg" }, { "token": "jpg" }, { "token": "http" }, { "token": "1" }, { "token": "0" }]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'-- IK analyzer for Chinese text\nSELECT TOKENIZE("\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD\u56FD\u6B4C", \'"built_in_analyzer"="ik"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD" }, { "token": "\u56FD\u6B4C" }]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-2-chinese-parser-with-fine-grained-mode",children:"Example 2: Chinese parser with fine-grained mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66\', \'"built_in_analyzer"="chinese", "parser_mode"="fine_grained"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "\u6211" }, { "token": "\u6765\u5230" }, { "token": "\u5317\u4EAC" }, { "token": "\u6E05\u534E" }, { "token": "\u6E05\u534E\u5927\u5B66" }, { "token": "\u534E\u5927" }, { "token": "\u5927\u5B66" }]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-3-using-character-filters",children:"Example 3: Using character filters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'GET /images/hm_bg.jpg HTTP/1.0 test:abc=bcd\',\n    \'"built_in_analyzer"="unicode","char_filter_type" = "char_replace","char_filter_pattern" = "._=:,","char_filter_replacement" = " "\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "get" }, { "token": "images" }, { "token": "hm" }, { "token": "bg" }, { "token": "jpg" }, { "token": "http" }, { "token": "1" }, { "token": "0" }, { "token": "test" }, { "token": "abc" }, { "token": "bcd" }]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-4-with-phrase-support-position-information",children:"Example 4: With phrase support (position information)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE("Hello World", \'"built_in_analyzer"="standard", "support_phrase"="true"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "hello", "position": 0 }, { "token": "world", "position": 1 }]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-5-using-custom-analyzers",children:"Example 5: Using custom analyzers"}),"\n",(0,i.jsx)(n.p,{children:"First, create a custom analyzer:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'CREATE INVERTED INDEX ANALYZER lowercase_delimited\nPROPERTIES (\n    "tokenizer" = "standard",\n    "token_filter" = "asciifolding, lowercase"\n);\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Then use it with ",(0,i.jsx)(n.code,{children:"TOKENIZE"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE("FOO-BAR", \'"analyzer"="lowercase_delimited"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'[{ "token": "foo" }, { "token": "bar" }]\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"version-30-specific-features",children:"Version 3.0 Specific Features"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Version 3.0 has limited functionality compared to 3.1+. It's recommended to upgrade to 3.1+ for enhanced features."})}),"\n",(0,i.jsx)(n.h3,{id:"syntax-1",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ARRAY<VARCHAR> TOKENIZE(VARCHAR str, VARCHAR properties)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"properties"})," parameter in version 3.0 supports:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example Values"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser"})}),(0,i.jsx)(n.td,{children:"Built-in parser type"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"chinese"'}),", ",(0,i.jsx)(n.code,{children:'"english"'}),", ",(0,i.jsx)(n.code,{children:'"unicode"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser_mode"})}),(0,i.jsx)(n.td,{children:"Parser mode for Chinese parser"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"fine_grained"'}),", ",(0,i.jsx)(n.code,{children:'"coarse_grained"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_type"})}),(0,i.jsx)(n.td,{children:"Character filter type"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"char_replace"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_pattern"})}),(0,i.jsx)(n.td,{children:"Characters to be replaced"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"._=:,"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_replacement"})}),(0,i.jsx)(n.td,{children:"Replacement character"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'" "'})," (space)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stopwords"})}),(0,i.jsx)(n.td,{children:"Stop words configuration"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"none"'})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Not supported in version 3.0:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"built_in_analyzer"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"analyzer"})," parameter (custom analyzers)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"support_phrase"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lower_case"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:["Additional analyzers: ",(0,i.jsx)(n.code,{children:"icu"}),", ",(0,i.jsx)(n.code,{children:"basic"}),", ",(0,i.jsx)(n.code,{children:"ik"}),", ",(0,i.jsx)(n.code,{children:"standard"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"return-value-1",children:"Return Value"}),"\n",(0,i.jsxs)(n.p,{children:["Returns an ",(0,i.jsx)(n.code,{children:"ARRAY<VARCHAR>"})," containing the tokenized strings as individual array elements (simple string array, not JSON objects)."]}),"\n",(0,i.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsx)(n.h4,{id:"example-1-using-the-chinese-parser",children:"Example 1: Using the Chinese parser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66', \"'parser'='chinese'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u6211", "\u6765\u5230", "\u5317\u4EAC", "\u6E05\u534E\u5927\u5B66"]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-2-chinese-parser-with-fine-grained-mode-1",children:"Example 2: Chinese parser with fine-grained mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66', \"'parser'='chinese', 'parser_mode'='fine_grained'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u6211", "\u6765\u5230", "\u5317\u4EAC", "\u6E05\u534E", "\u6E05\u534E\u5927\u5B66", "\u534E\u5927", "\u5927\u5B66"]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-3-using-the-unicode-parser",children:"Example 3: Using the Unicode parser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('Apache Doris\u6570\u636E\u5E93', \"'parser'='unicode'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["apache", "doris", "\u6570", "\u636E", "\u5E93"]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-4-using-character-filters",children:"Example 4: Using character filters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'GET /images/hm_bg.jpg HTTP/1.0 test:abc=bcd\',\n    \'"parser"="unicode","char_filter_type" = "char_replace","char_filter_pattern" = "._=:,","char_filter_replacement" = " "\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["get", "images", "hm", "bg", "jpg", "http", "1", "0", "test", "abc", "bcd"]\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-5-stopwords-configuration",children:"Example 5: Stopwords configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u534E\u590F\u667A\u80DC\u65B0\u7A0E\u80A1\u7968A', '\"parser\"=\"unicode\"');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u534E", "\u590F", "\u667A", "\u80DC", "\u65B0", "\u7A0E", "\u80A1", "\u7968"]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'\u534E\u590F\u667A\u80DC\u65B0\u7A0E\u80A1\u7968A\', \'"parser"="unicode","stopwords" = "none"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u534E", "\u590F", "\u667A", "\u80DC", "\u65B0", "\u7A0E", "\u80A1", "\u7968", "a"]\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Version Compatibility"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Version 3.0 uses ",(0,i.jsx)(n.code,{children:"parser"})," parameter and returns simple string arrays"]}),"\n",(0,i.jsxs)(n.li,{children:["Version 3.1+ supports both ",(0,i.jsx)(n.code,{children:"parser"})," (backward compatible) and ",(0,i.jsx)(n.code,{children:"built_in_analyzer"}),", returns JSON object arrays"]}),"\n",(0,i.jsx)(n.li,{children:"Version 3.1+ adds custom analyzers, additional built-in analyzers, and phrase support"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Supported Analyzers"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 3.0"}),": ",(0,i.jsx)(n.code,{children:"chinese"}),", ",(0,i.jsx)(n.code,{children:"english"}),", ",(0,i.jsx)(n.code,{children:"unicode"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version 3.1+"}),": ",(0,i.jsx)(n.code,{children:"standard"}),", ",(0,i.jsx)(n.code,{children:"english"}),", ",(0,i.jsx)(n.code,{children:"chinese"}),", ",(0,i.jsx)(n.code,{children:"unicode"}),", ",(0,i.jsx)(n.code,{children:"icu"}),", ",(0,i.jsx)(n.code,{children:"basic"}),", ",(0,i.jsx)(n.code,{children:"ik"}),", ",(0,i.jsx)(n.code,{children:"none"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parser Mode"}),": The ",(0,i.jsx)(n.code,{children:"parser_mode"})," property is primarily used with the ",(0,i.jsx)(n.code,{children:"chinese"})," parser:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fine_grained"}),": Produces more detailed tokens with overlapping segments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"coarse_grained"}),": Default mode with standard segmentation"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Character Filters"}),": Use ",(0,i.jsx)(n.code,{children:"char_filter_type"}),", ",(0,i.jsx)(n.code,{children:"char_filter_pattern"}),", and ",(0,i.jsx)(n.code,{children:"char_filter_replacement"})," together to replace specific characters before tokenization."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Performance"}),": The ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," function is primarily intended for testing and debugging parser configurations. For production full-text search, use inverted indexes with the ",(0,i.jsx)(n.code,{children:"MATCH"})," predicate."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Compatibility with Inverted Indexes"}),": The same parser/analyzer configuration can be applied to inverted indexes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'CREATE TABLE example (\n    content TEXT,\n    INDEX idx_content(content) USING INVERTED PROPERTIES("parser"="chinese")\n)\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Testing Parser Behavior"}),": Use ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," to preview how text will be tokenized before creating inverted indexes."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"keywords",children:"Keywords"}),"\n",(0,i.jsx)(n.p,{children:"TOKENIZE, STRING, FULL-TEXT SEARCH, INVERTED INDEX, PARSER, ANALYZER"})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return c},a:function(){return d}});var s=r(667294);let i={},l=s.createContext(i);function d(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);