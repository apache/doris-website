"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["760198"],{433642:function(e,t,n){n.r(t),n.d(t,{default:()=>m,frontMatter:()=>a,metadata:()=>i,assets:()=>o,toc:()=>c,contentTitle:()=>l});var i=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/sub-time","title":"SUB_TIME","description":"Subtracts the specified time interval from a date/time or time expression. If the second parameter is negative,","source":"@site/docs/sql-manual/sql-functions/scalar-functions/date-time-functions/sub-time.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/sub-time","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/sub-time","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"SUB_TIME","language":"en","description":"Subtracts the specified time interval from a date/time or time expression. If the second parameter is negative,"},"sidebar":"docs","previous":{"title":"STR_TO_DATE","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/str-to-date"},"next":{"title":"TIMESTAMP","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/timestamp"}}'),s=n("785893"),r=n("250065");let a={title:"SUB_TIME",language:"en",description:"Subtracts the specified time interval from a date/time or time expression. If the second parameter is negative,"},l=void 0,o={},c=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function d(e){let t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(t.p,{children:"Subtracts the specified time interval from a date/time or time expression. If the second parameter is negative, it is equivalent to adding the interval to the first parameter."}),"\n",(0,s.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"SUB_TIME(`<date_or_time_expr>`, `<time>`)\n"})}),"\n",(0,s.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"<date_or_time_expr>"})}),(0,s.jsxs)(t.td,{children:["A valid date expression. Supports input of timestamptz/datetime/date/time types. If the type is date, it will be converted to the start time of the day (00:00:00). For specific formats, see ",(0,s.jsx)(t.a,{href:"../../../../sql-manual/basic-element/sql-data-types/conversion/timestamptz-conversion",children:"timestamptz conversion"}),", ",(0,s.jsx)(t.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,s.jsx)(t.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/time-conversion",children:"time conversion"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"<time>"})}),(0,s.jsxs)(t.td,{children:["A valid time expression, representing the time value to be subtracted from ",(0,s.jsx)(t.code,{children:"<date_or_time_expr>"}),". If negative, it means addition. Supports input of time type."]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"return-value",children:"Return Value"}),"\n",(0,s.jsxs)(t.p,{children:["Returns the result of subtracting ",(0,s.jsx)(t.code,{children:"<time>"})," from ",(0,s.jsx)(t.code,{children:"<date_or_time_expr>"}),". The return type depends on the type of the first parameter:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If the first parameter is of timestamp type, returns timestamp type."}),"\n",(0,s.jsx)(t.li,{children:"If the first parameter is of datetime type, returns datetime type."}),"\n",(0,s.jsx)(t.li,{children:"If the first parameter is of time type, returns time type."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Special cases:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If any input parameter is null, returns null."}),"\n",(0,s.jsx)(t.li,{children:"If the first parameter is of time type and the result exceeds the time type range, returns the maximum (or minimum) time value."}),"\n",(0,s.jsx)(t.li,{children:"If the first parameter is of datetime or timestamptz type and the result exceeds the datetime type range, an error is thrown."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"-- Subtract time when the first parameter is datetime type\nSELECT SUB_TIME('2025-09-19 12:00:00', '01:30:00'); \n+---------------------------------------------+\n| SUB_TIME('2025-09-19 12:00:00', '01:30:00') |\n+---------------------------------------------+\n| 2025-09-19 10:30:00                         |\n+---------------------------------------------+\n\n-- Subtract time when the first parameter is time type\nSELECT SUB_TIME(cast('12:15:20' as time), '00:10:40'); \n+------------------------------------------------+\n| SUB_TIME(cast('12:15:20' as time), '00:10:40') |\n+------------------------------------------------+\n| 12:04:40                                       |\n+------------------------------------------------+   \n\n-- SET time_zone = '+08:00'\nselect sub_time('2025-10-10 11:22:33+03:00', '3:22:33.123');\n+------------------------------------------------------+\n| sub_time('2025-10-10 11:22:33+03:00', '3:22:33.123') |\n+------------------------------------------------------+\n| 2025-10-10 12:59:59.877+08:00                        |\n+------------------------------------------------------+\n         \n-- NULL parameter test\nSELECT SUB_TIME(NULL, '01:00:00');\n+----------------------------+\n| SUB_TIME(NULL, '01:00:00') |\n+----------------------------+\n| NULL                       |\n+----------------------------+    \n\nSELECT SUB_TIME('2025-09-19 12:00:00', NULL); \n+---------------------------------------+\n| SUB_TIME('2025-09-19 12:00:00', NULL) |\n+---------------------------------------+\n| NULL                                  |\n+---------------------------------------+\n\nSELECT SUB_TIME(NULL, NULL);\n+----------------------+\n| SUB_TIME(NULL, NULL) |\n+----------------------+\n| NULL                 |\n+----------------------+                        \n\n-- Time type out-of-range test (returns max/min value)\nSELECT SUB_TIME(cast('835:30:00' as time), '-21:00:00');\n+--------------------------------------------------+\n| SUB_TIME(cast('835:30:00' as time), '-21:00:00') |\n+--------------------------------------------------+\n| 838:59:59                                        |\n+--------------------------------------------------+\n\nSELECT SUB_TIME(cast('-832:30:00' as time), '31:00:00');   \n+---------------------------------------------------+\n| SUB_TIME(cast('-832:30:00' as time), '31:00:00') |\n+---------------------------------------------------+\n| -838:59:59                                        |\n+---------------------------------------------------+       \n\n-- Datetime type out-of-range test (throws error)\nSELECT SUB_TIME('0000-01-01 00:00:00', '00:00:01');  \nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.3)[INVALID_ARGUMENT]datetime value is out of range in function sub_time\n\nSELECT SUB_TIME('9999-12-31 23:59:59', '-00:00:01');\nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.3)[INVALID_ARGUMENT]datetime value is out of range in function sub_time\n"})})]})}function m(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return l},a:function(){return a}});var i=n(667294);let s={},r=i.createContext(s);function a(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);