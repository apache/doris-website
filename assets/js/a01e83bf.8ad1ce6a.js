"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["246353"],{265166:function(e,i,s){s.r(i),s.d(i,{default:()=>d,frontMatter:()=>l,metadata:()=>t,assets:()=>a,toc:()=>c,contentTitle:()=>h});var t=JSON.parse('{"id":"releasenotes/v3.0/release-3.0.8","title":"Release 3.0.8","description":"schema-change","source":"@site/versioned_docs/version-2.1/releasenotes/v3.0/release-3.0.8.md","sourceDirName":"releasenotes/v3.0","slug":"/releasenotes/v3.0/release-3.0.8","permalink":"/docs/2.1/releasenotes/v3.0/release-3.0.8","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 3.0.8","language":"en","description":"schema-change"},"sidebar":"docs","previous":{"title":"All Releases","permalink":"/docs/2.1/releasenotes/all-release"},"next":{"title":"Release 3.0.7","permalink":"/docs/2.1/releasenotes/v3.0/release-3.0.7"}}'),n=s("785893"),r=s("250065");let l={title:"Release 3.0.8",language:"en",description:"schema-change"},h=void 0,a={},c=[{value:"Behavior Changes",id:"behavior-changes",level:2},{value:"New Features",id:"new-features",level:2},{value:"Query Optimizer",id:"query-optimizer",level:3},{value:"Improvements",id:"improvements",level:2},{value:"Data Ingestion",id:"data-ingestion",level:3},{value:"Storage-Compute Decoupled",id:"storage-compute-decoupled",level:3},{value:"Query Optimizer",id:"query-optimizer-1",level:3},{value:"Query Execution",id:"query-execution",level:3},{value:"Inverted Index",id:"inverted-index",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Data Ingestion",id:"data-ingestion-1",level:3},{value:"Lakehouse",id:"lakehouse",level:3},{value:"Query Optimizer",id:"query-optimizer-2",level:3},{value:"Permissions",id:"permissions",level:3},{value:"Query Execution",id:"query-execution-1",level:3},{value:"Complex Data Types",id:"complex-data-types",level:3},{value:"Others",id:"others",level:3}];function o(e){let i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"behavior-changes",children:"Behavior Changes"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["When using ranger / LDAP, creating users in Doris is no longer prohibited ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/50139",children:"#50139"})]}),"\n",(0,n.jsxs)(i.li,{children:["The ",(0,n.jsx)(i.code,{children:"nested"})," attribute of ",(0,n.jsx)(i.code,{children:"variant"})," is disabled by default. To enable it when creating a table, you need to first execute the following command in the session variable: ",(0,n.jsx)(i.code,{children:"set enable_variant_flatten_nested = true"})," ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54413",children:"#54413"})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"new-features",children:"New Features"}),"\n",(0,n.jsx)(i.h3,{id:"query-optimizer",children:"Query Optimizer"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Support MySQL's ",(0,n.jsx)(i.code,{children:"GROUP BY WITH ORDER"})," syntax ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53037",children:"#53037"})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"improvements",children:"Improvements"}),"\n",(0,n.jsx)(i.h3,{id:"data-ingestion",children:"Data Ingestion"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Optimize the flushing strategy when memory is insufficient (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/52906",children:"#52906"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53909",children:"#53909"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/42649",children:"#42649"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54517",children:"#54517"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["S3 Load and TVF support accessing publicly readable objects without AK/SK (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53592",children:"#53592"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54040",children:"#54040"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"storage-compute-decoupled",children:"Storage-Compute Decoupled"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["When the cache space is sufficient, the rowset generated by base compaction can be written to the file cache (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53801",children:"#53801"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54693",children:"#54693"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Optimize the ",(0,n.jsx)(i.code,{children:"ALTER STORAGE VAULT"})," command, the ",(0,n.jsx)(i.code,{children:"type"})," attribute can be automatically inferred without explicit specification (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54394",children:"#54394"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54475",children:"#54475"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"query-optimizer-1",children:"Query Optimizer"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Point queries will be planned to have only one fragment to improve the execution speed of point queries ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53541",children:"#53541"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"query-execution",children:"Query Execution"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Improve the performance of unique key tables in point queries ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53948",children:"#53948"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"inverted-index",children:"Inverted Index"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Optimize the additional resource consumption of common default tokenizers when writing non-tokenized indexes ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54666",children:"#54666"})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,n.jsx)(i.h3,{id:"data-ingestion-1",children:"Data Ingestion"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the ",(0,n.jsx)(i.code,{children:"enclose"})," parsing error when using multi-character column separators (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54581",children:"#54581"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/55052",children:"#55052"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the issue where S3 Load progress is not updated in a timely manner (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54606",children:"#54606"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54790",children:"#54790"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the error when loading JSON boolean types into INT columns (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54397",children:"#54397"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54640",children:"#54640"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the issue of missing error URL return in Stream Load (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54115",children:"#54115"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54266",children:"#54266"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the issue where group commit is blocked after an exception is thrown in schema change ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54312",children:"#54312"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"lakehouse",children:"Lakehouse"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the issue of JDBC SQL pass-through parsing failure in some cases ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54077",children:"#54077"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the failure issue when writing to iceberg tables with decimal partitions ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54557",children:"#54557"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the query failure issue of Hudi table Timestamp type partition columns in some cases ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53791",children:"#53791"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"query-optimizer-2",children:"Query Optimizer"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the issue of incorrectly using colocate join in some self-join scenarios ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54323",children:"#54323"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the potential result error when ",(0,n.jsx)(i.code,{children:"select distinct"})," is used with window functions ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54133",children:"#54133"})]}),"\n",(0,n.jsxs)(i.li,{children:["Provide more user-friendly error messages when lambda expressions appear in unexpected positions ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53657",children:"#53657"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"permissions",children:"Permissions"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the issue of incorrectly checking the permissions of base tables in views when querying external views ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53786",children:"#53786"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"query-execution-1",children:"Query Execution"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the issue that IPV6 type cannot parse IPV4 type data ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54391",children:"#54391"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the stack overflow error when parsing IPV6 type ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53713",children:"#53713"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"complex-data-types",children:"Complex Data Types"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["BE supports selecting the simdjson parser that matches the instruction set at startup ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/52732",children:"#52732"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the incorrect type inference caused by data type conflicts in variant nested data types ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53083",children:"#53083"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the default value filling issue for variant nested top-level nested array data ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54396",children:"#54396"})]}),"\n",(0,n.jsxs)(i.li,{children:["Prohibit building indexes on variant types in the cloud ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54777",children:"#54777"})]}),"\n",(0,n.jsxs)(i.li,{children:["Fix the issue of generating empty index files when writing data that does not meet the index conditions after creating an inverted index for variant ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53814",children:"#53814"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"others",children:"Others"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"schema-change"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix the issue where new tablets are empty when cleaning up failed SC tasks (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/53952",children:"#53952"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54064",children:"#54064"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Rebuild bucket columns in the original order (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54024",children:"#54024"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54072",children:"#54072"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54109",children:"#54109"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Prohibit deleting bucket columns ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54037",children:"#54037"})]}),"\n",(0,n.jsxs)(i.li,{children:["Support automatic retry in case of network errors (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54419",children:"#54419"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54488",children:"#54488"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Avoid deadlocks on ",(0,n.jsx)(i.code,{children:"tabletInvertedIndex"})," (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54197",children:"#54197"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/54996",children:"#54996"}),")"]}),"\n"]})]})}function d(e={}){let{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},250065:function(e,i,s){s.d(i,{Z:function(){return h},a:function(){return l}});var t=s(667294);let n={},r=t.createContext(n);function l(e){let i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function h(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);