"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["793899"],{700126:function(e,i,l){l.r(i),l.d(i,{default:()=>d,frontMatter:()=>a,metadata:()=>r,assets:()=>t,toc:()=>c,contentTitle:()=>h});var r=JSON.parse('{"id":"releasenotes/v3.1/release-3.1.3","title":"Release 3.1.3","description":"Apache Doris 3.1.3 brings major improvements in:","source":"@site/docs/releasenotes/v3.1/release-3.1.3.md","sourceDirName":"releasenotes/v3.1","slug":"/releasenotes/v3.1/release-3.1.3","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.3","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 3.1.3","language":"en","description":"Apache Doris 3.1.3 brings major improvements in:"},"sidebar":"docs","previous":{"title":"Release 3.1.4","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.4"},"next":{"title":"Release 3.1.2","permalink":"/docs/dev/releasenotes/v3.1/release-3.1.2"}}'),n=l("785893"),s=l("250065");let a={title:"Release 3.1.3",language:"en",description:"Apache Doris 3.1.3 brings major improvements in:"},h=void 0,t={},c=[{value:"New Features",id:"new-features",level:2},{value:"Storage &amp; Filesystem",id:"storage--filesystem",level:3},{value:"Catalog",id:"catalog",level:3},{value:"Cloud Mode",id:"cloud-mode",level:3},{value:"SQL Engine &amp; Planner",id:"sql-engine--planner",level:3},{value:"Functions",id:"functions",level:3},{value:"Optimizations",id:"optimizations",level:2},{value:"Query Execution &amp; Planner",id:"query-execution--planner",level:3},{value:"Storage &amp; Compaction",id:"storage--compaction",level:3},{value:"Cloud Mode",id:"cloud-mode-1",level:3},{value:"Index &amp; Search",id:"index--search",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Storage &amp; File I/O",id:"storage--file-io",level:3},{value:"Cloud Mode",id:"cloud-mode-2",level:3},{value:"Catalog",id:"catalog-1",level:3},{value:"SQL Engine &amp; Planner",id:"sql-engine--planner-1",level:3},{value:"Networking &amp; Platform",id:"networking--platform",level:3},{value:"Chores &amp; Infrastructure",id:"chores--infrastructure",level:2},{value:"Summary",id:"summary",level:2}];function o(e){let i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"new-features",children:"New Features"}),"\n",(0,n.jsx)(i.h3,{id:"storage--filesystem",children:"Storage & Filesystem"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Upgrade libhdfs to 3.4.2 (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57638",children:"#57638"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Add TotalGetRequestTime profile metric to S3 reader (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57636",children:"#57636"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"catalog",children:"Catalog"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Support MaxCompute catalog (project-schema-table) (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57286",children:"#57286"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Support retrying original SQL after error when execute dialect sql (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57498",children:"#57498"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Support Azure Blob Storage (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57219",children:"#57219"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"cloud-mode",children:"Cloud Mode"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Support balance sync warm-up (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57666",children:"#57666"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Support peer BE cache read in same cluster (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57672",children:"#57672"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"sql-engine--planner",children:"SQL Engine & Planner"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Check SQL regex block rule before plan phase (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57706",children:"#57706"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"functions",children:"Functions"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Enhance EXPLODE function with struct-type support (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57827",children:"#57827"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"optimizations",children:"Optimizations"}),"\n",(0,n.jsx)(i.h3,{id:"query-execution--planner",children:"Query Execution & Planner"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Optimize variant cast when only NULL values (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57161",children:"#57161"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Optimize FROM_UNIXTIME performance (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57573",children:"#57573"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Improve graceful shutdown behavior and query retry (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57805",children:"#57805"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"storage--compaction",children:"Storage & Compaction"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Make read slice size configurable (MergeIO) (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57159",children:"#57159"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Add score threshold for cold data compaction (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57217",children:"#57217"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Add configurable threshold for small memory task protection (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/56994",children:"#56994"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Improve jemalloc configuration to reduce page faults (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57152",children:"#57152"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"cloud-mode-1",children:"Cloud Mode"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Expose cloud balance metrics (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57352",children:"#57352"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Optimize create warm-up job logic (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57865",children:"#57865"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Enhance warm-up job and peer read efficiency (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57554",children:"#57554"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57807",children:"#57807"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"index--search",children:"Index & Search"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Add custom analyzer support (char_filter, basic & ICU tokenizer) (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57137",children:"#57137"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Support builtin analyzer names in custom analyzer (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57727",children:"#57727"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,n.jsx)(i.h3,{id:"storage--file-io",children:"Storage & File I/O"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix segcompaction coredump when adding key column (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57212",children:"#57212"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Parquet RLE_DICTIONARY decode performance issue (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57614",children:"#57614"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix schema change expr cache misuse (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57517",children:"#57517"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Replace tablet report with ForkJoinPool (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57927",children:"#57927"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"cloud-mode-2",children:"Cloud Mode"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix cloud pipeline task number calculation (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57261",children:"#57261"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix rebalance residual metrics cleanup (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57438",children:"#57438"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Skip tablet report when rebalance not inited (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57393",children:"#57393"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix domain user default cluster report error (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57555",children:"#57555"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix wrong private endpoint config (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57675",children:"#57675"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix peer read bugs and thread handling (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57910",children:"#57910"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57807",children:"#57807"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix filecache metrics and microbench issues (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57535",children:"#57535"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57536",children:"#57536"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"catalog-1",children:"Catalog"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix MaxCompute predicate pushdown null pointer (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57567",children:"#57567"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Iceberg client.region and REST credentials issues (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57539",children:"#57539"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Iceberg catalog NPE and query error (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57796",children:"#57796"}),", ",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57790",children:"#57790"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Paimon S3 prefix unification and configuration (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57526",children:"#57526"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix JDBC catalog compatibility for ",(0,n.jsx)(i.code,{children:"zeroDateTimeBehavior"})," (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57731",children:"#57731"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Parquet schema analysis error (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57500",children:"#57500"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix Parquet all row groups filtered issue (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57646",children:"#57646"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix CSV reader wrong result when escape equals enclose (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57762",children:"#57762"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Prevent removing catalog from refresh queue (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57671",children:"#57671"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix ",(0,n.jsx)(i.code,{children:"max_meta_object_cache_num"})," must > 0 config (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57793",children:"#57793"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"sql-engine--planner-1",children:"SQL Engine & Planner"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix constant folding of FROM_UNIXTIME with decimal literal (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57606",children:"#57606"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix MV rewrite fail with group sets and filter (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57674",children:"#57674"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix prepare statement stage only explain SQL (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57504",children:"#57504"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Release physical plan in Profile.releaseMemory() (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57316",children:"#57316"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix aggregation elimination error when group sets exist (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57885",children:"#57885"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix LargeInt overflow on max_value+1 (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57351",children:"#57351"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix decimal256 overflow when casting to float (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57503",children:"#57503"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"networking--platform",children:"Networking & Platform"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Fix MySQL SSL unwrap infinite loop (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57599",children:"#57599"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Disable TLS renegotiation in MySQL (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57748",children:"#57748"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix unaligned uint128 constructor (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57430",children:"#57430"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix JNI local/global ref leak (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57597",children:"#57597"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Make Scanner.close() thread-safe (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57644",children:"#57644"}),")"]}),"\n",(0,n.jsxs)(i.li,{children:["Fix exchange coredump due to nullptr (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57698",children:"#57698"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"chores--infrastructure",children:"Chores & Infrastructure"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Deprecated LakeSoul external catalog (",(0,n.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57163",children:"#57163"}),")"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,n.jsxs)(i.p,{children:["Apache Doris ",(0,n.jsx)(i.strong,{children:"3.1.3"})," brings major improvements in:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Storage compatibility"})," (Azure Blob, Hadoop 3.4.2, S3 metric support)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Cloud performance and reliability"})," (warm-up, rebalance, peer cache)"]}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.strong,{children:"SQL planner stability"})}),"\n",(0,n.jsx)(i.li,{children:(0,n.jsx)(i.strong,{children:"Dependency modernization and security hardening"})}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["This release greatly enhances ",(0,n.jsx)(i.strong,{children:"stability, performance, and cloud-native integration"})," across hybrid data environments."]})]})}function d(e={}){let{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},250065:function(e,i,l){l.d(i,{Z:function(){return h},a:function(){return a}});var r=l(667294);let n={},s=r.createContext(n);function a(e){let i=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function h(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);