"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["593005"],{295749:function(e,n,t){t.r(n),t.d(n,{default:()=>o,frontMatter:()=>i,metadata:()=>s,assets:()=>l,toc:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"admin-manual/system-tables/internal_schema/audit_log","title":"audit_log","description":"Overview","source":"@site/docs/admin-manual/system-tables/internal_schema/audit_log.md","sourceDirName":"admin-manual/system-tables/internal_schema","slug":"/admin-manual/system-tables/internal_schema/audit_log","permalink":"/docs/dev/admin-manual/system-tables/internal_schema/audit_log","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"audit_log","language":"en"},"sidebar":"docs","previous":{"title":"user","permalink":"/docs/dev/admin-manual/system-tables/mysql/user"},"next":{"title":"column_statistics","permalink":"/docs/dev/admin-manual/system-tables/internal_schema/column_statistics"}}'),d=t("785893"),r=t("250065");let i={title:"audit_log",language:"en"},c=void 0,l={},a=[{value:"Overview",id:"overview",level:2},{value:"Database",id:"database",level:2},{value:"Table Information",id:"table-information",level:2},{value:"Description",id:"description",level:2}];function h(e){let n={code:"code",h2:"h2",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(n.p,{children:"Store audit logs"}),"\n",(0,d.jsx)(n.h2,{id:"database",children:"Database"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"__internal_schema"})}),"\n",(0,d.jsx)(n.h2,{id:"table-information",children:"Table Information"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Column Name"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"query_id"}),(0,d.jsx)(n.td,{children:"varchar(48)"}),(0,d.jsx)(n.td,{children:"ID of the Query"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"time"}),(0,d.jsx)(n.td,{children:"datetime(3)"}),(0,d.jsx)(n.td,{children:"Time when the query was executed(in milliseconds)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"client_ip"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"IP address of the client sending the query"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"user"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"User"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"catalog"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"Current Catalog during statement execution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"db"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"Current Database during statement execution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"state"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"Execution status of the statement"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"error_code"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"Error code"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"error_message"}),(0,d.jsx)(n.td,{children:"text"}),(0,d.jsx)(n.td,{children:"Error message"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"query_time"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Execution time of the statement"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scan_bytes"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Amount of data scanned"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scan_rows"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Number of rows scanned"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"return_rows"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Number of rows returned"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"shuffleSendRows"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"The number of rows transferred between nodes during statement execution. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"shuffleSendBytes"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"The amount of data transferred between nodes during statement execution. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scanBytesFromLocalStorage"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"The amount of data read from the local disk. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scanBytesFromRemoteStorage"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"The amount of data read from the remote storage. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"stmt_id"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Statement ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"stmt_type"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Statement type. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"is_query"}),(0,d.jsx)(n.td,{children:"tinyint"}),(0,d.jsx)(n.td,{children:"Whether it is a query"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"is_nereids"}),(0,d.jsx)(n.td,{children:"booean"}),(0,d.jsx)(n.td,{children:"Is using Nereids Optimizer."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"frontend_ip"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"IP address of the connected Frontend"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"cpu_time_ms"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Cumulative CPU time (in milliseconds) consumed by the Backend for statement execution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sql_hash"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"Hash value of the statement"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sql_digest"}),(0,d.jsx)(n.td,{children:"varchar(128)"}),(0,d.jsx)(n.td,{children:"Digest (signature) of the statement"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"peak_memory_bytes"}),(0,d.jsx)(n.td,{children:"bigint"}),(0,d.jsx)(n.td,{children:"Peak memory usage of the Backend during statement execution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"workload_group"}),(0,d.jsx)(n.td,{children:"text"}),(0,d.jsx)(n.td,{children:"Workload Group used for statement execution"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"compute_group"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"In storage and computation decouped mode, the compute group used by the execution statement. Supported since version 3.0."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"stmt"}),(0,d.jsx)(n.td,{children:"text"}),(0,d.jsx)(n.td,{children:"Statement text"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"client_ip"}),": If a proxy service is used and the IP pass-through is not enabled, the proxy service IP may be recorded here instead of the real client IP."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"state"}),": ",(0,d.jsx)(n.code,{children:"EOF"})," indicates that the query is executed successfully. ",(0,d.jsx)(n.code,{children:"OK"})," indicates that the DDL and DML statements are executed successfully. ",(0,d.jsx)(n.code,{children:"ERR"})," indicates that the statement execution fails."]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return i}});var s=t(667294);let d={},r=s.createContext(d);function i(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);