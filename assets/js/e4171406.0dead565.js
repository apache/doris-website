"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["571920"],{277589:function(e,n,t){t.r(n),t.d(n,{default:()=>c,frontMatter:()=>r,metadata:()=>s,assets:()=>l,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/months-sub","title":"MONTHS_SUB","description":"The MONTHSSUB function subtracts a specified number of months from the input datetime value and returns the resulting new datetime value.","source":"@site/versioned_docs/version-4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/months-sub.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/months-sub","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/months-sub","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"MONTHS_SUB","language":"en","description":"The MONTHSSUB function subtracts a specified number of months from the input datetime value and returns the resulting new datetime value."},"sidebar":"docs","previous":{"title":"MONTHS_DIFF","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/months-diff"},"next":{"title":"NOW","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/now"}}'),a=t("785893"),i=t("250065");let r={title:"MONTHS_SUB",language:"en",description:"The MONTHSSUB function subtracts a specified number of months from the input datetime value and returns the resulting new datetime value."},o=void 0,l={},d=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function u(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,a.jsx)(n.p,{children:"The MONTHS_SUB function subtracts a specified number of months from the input datetime value and returns the resulting new datetime value. This function supports processing DATE, DATETIME and TIMESTAMPTZ types. If a negative number is input, it is equivalent to adding the corresponding number of months."}),"\n",(0,a.jsxs)(n.p,{children:["This function is consistent with ",(0,a.jsx)(n.a,{href:"./date-sub",children:"date_sub function"})," and MySQL's ",(0,a.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/date-and-time-functions.html#function_date_sub",children:"date_sub function"})," when using MONTH as the unit."]}),"\n",(0,a.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"MONTHS_SUB(`<date_or_time_expr>`, `<nums>`)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Parameter"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"<date_or_time_expr>"})}),(0,a.jsxs)(n.td,{children:["The date value from which to subtract months. Supports date/datetime/timestamptz types. For specific formats, please refer to ",(0,a.jsx)(n.a,{href:"/docs/dev/sql-manual/basic-element/sql-data-types/conversion/timestamptz-conversion",children:"timestamptz conversion"}),", ",(0,a.jsx)(n.a,{href:"../../../../sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,a.jsx)(n.a,{href:"../../../../sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"<nums>"})}),(0,a.jsx)(n.td,{children:"The number of months to subtract, of type INT. Positive numbers indicate subtracting nums months from the datetime, negative numbers indicate adding nums months."})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,a.jsxs)(n.p,{children:["Returns a value of the same type as the input ",(0,a.jsx)(n.code,{children:"<date_or_time_expr>"}),"(DATE, DATETIME or TIMESTAMPTZ), representing the result of subtracting the specified months from the base time."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["If ",(0,a.jsx)(n.code,{children:"<nums>"})," is negative, the function behaves the same as adding the corresponding months to the base time (i.e., MONTHS_SUB(date, -n) is equivalent to MONTHS_ADD(date, n))."]}),"\n",(0,a.jsx)(n.li,{children:"If the input date is the last day of the month and the target month has fewer days than that date, it automatically adjusts to the last day of the target month (e.g., March 31st minus 1 month becomes February 28th or 29th, depending on whether it's a leap year)."}),"\n",(0,a.jsx)(n.li,{children:"If the calculation result exceeds the valid range of the date type (DATE type: 0000-01-01 to 9999-12-31; DATETIME type: 0000-01-01 00:00:00 to 9999-12-31 23:59:59), returns an error."}),"\n",(0,a.jsx)(n.li,{children:"If any parameter is NULL, returns NULL."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"--- Subtract months from DATE type\nSELECT MONTHS_SUB('2020-01-31', 1) AS result;\n+------------+\n| result     |\n+------------+\n| 2019-12-31 |\n+------------+\n\n--- Subtract months from DATETIME type (preserves time component)\nSELECT MONTHS_SUB('2020-01-31 02:02:02', 1) AS result;\n+---------------------+\n| result              |\n+---------------------+\n| 2019-12-31 02:02:02 |\n+---------------------+\n\n--- Negative months (equivalent to addition)\nSELECT MONTHS_SUB('2020-01-31', -1) AS result;\n+------------+\n| result     |\n+------------+\n| 2020-02-29 |\n+------------+\n\n--- Non-end-of-month date subtracting months (direct decrement)\nSELECT MONTHS_SUB('2023-07-13 22:28:18', 5) AS result;\n+---------------------+\n| result              |\n+---------------------+\n| 2023-02-13 22:28:18 |\n+---------------------+\n\n--- DATETIME with microseconds (preserves precision)\nSELECT MONTHS_SUB('2023-10-13 22:28:18.456789', 3) AS result;\n+----------------------------+\n| result                     |\n+----------------------------+\n| 2023-07-13 22:28:18.456789 |\n+----------------------------+\n\n--- Returns NULL when input is NULL\nSELECT MONTHS_SUB(NULL, 5), MONTHS_SUB('2023-07-13', NULL) AS result;\n+----------------------+--------+\n| months_sub(NULL, 5)  | result |\n+----------------------+--------+\n| NULL                 | NULL   |\n+----------------------+--------+\n\n--- Example of TimeStampTz type, SET time_zone = '+08:00'\nSELECT MONTHS_SUB('2025-10-10 11:22:33.123+07:00', 1);\n+------------------------------------------------+\n| MONTHS_SUB('2025-10-10 11:22:33.123+07:00', 1) |\n+------------------------------------------------+\n| 2025-09-10 12:22:33.123+08:00                  |\n+------------------------------------------------+\n\n--- Calculation result exceeds date range\nmysql> SELECT MONTHS_SUB('0000-01-01', 1) AS result;\nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.3)[E-218]Operation months_add of 0000-01-01, -1 out of range\n\nmysql> SELECT MONTHS_SUB('9999-12-31', -1) AS result;\nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.3)[E-218]Operation months_add of 9999-12-31, 1 out of range\n"})})]})}function c(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return o},a:function(){return r}});var s=t(667294);let a={},i=s.createContext(a);function r(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);