"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["783239"],{272473:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>a,metadata:()=>t,assets:()=>o,toc:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"ecosystem/bi/apache-superset","title":"Apache Superset","description":"Apache Superset is an open-source data mining platform that supports rich data source connections, various visualization methods,","source":"@site/versioned_docs/version-3.x/ecosystem/bi/apache-superset.md","sourceDirName":"ecosystem/bi","slug":"/ecosystem/bi/apache-superset","permalink":"/docs/3.x/ecosystem/bi/apache-superset","draft":false,"unlisted":false,"tags":[],"version":"3.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Apache Superset","language":"en","description":"Apache Superset is an open-source data mining platform that supports rich data source connections, various visualization methods,"},"sidebar":"docs","previous":{"title":"Doris Streamloader","permalink":"/docs/3.x/ecosystem/doris-streamloader"},"next":{"title":"FineBI","permalink":"/docs/3.x/ecosystem/bi/finebi"}}'),i=s("785893"),r=s("250065");let a={title:"Apache Superset",language:"en",description:"Apache Superset is an open-source data mining platform that supports rich data source connections, various visualization methods,"},c=void 0,o={},d=[{value:"Installing Superset and the Doris Python client",id:"installing-superset-and-the-doris-python-client",level:2},{value:"Configuring a Doris Data Source in Superset",id:"configuring-a-doris-data-source-in-superset",level:2},{value:"Building Visualizations in Superset",id:"building-visualizations-in-superset",level:2},{value:"Connection and Usage Tips",id:"connection-and-usage-tips",level:2}];function l(e){let n={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Apache Superset is an open-source data mining platform that supports rich data source connections, various visualization methods, and fine-grained user access control. Its main features include self-service analysis, customizable dashboards, visualization (export) of analysis results, user/role access control, and an integrated SQL editor for SQL editing and querying."}),"\n",(0,i.jsx)(n.p,{children:"Apache Superset version 3.1 provides an official connection method, officially supporting querying and visualization of both internal and external data from Apache Doris. Apache Doris version 2.0.4 and above are recommended."}),"\n",(0,i.jsx)(n.p,{children:"Through this connection method, Superset can integrate Apache Doris databases and tables as data sources. To enable this feature, please follow the setup guide below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Prerequisite setup"}),"\n",(0,i.jsx)(n.li,{children:"Configuring the Apache Doris data source in Apache Superset"}),"\n",(0,i.jsx)(n.li,{children:"Building visualizations in Apache Superset"}),"\n",(0,i.jsx)(n.li,{children:"Connection and usage tips"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installing-superset-and-the-doris-python-client",children:"Installing Superset and the Doris Python client"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Install Python 3, version 3.1.11 is recommended."}),"\n",(0,i.jsxs)(n.li,{children:["Install Apache Superset version 3.1 or later. See ",(0,i.jsx)(n.a,{href:"https://superset.apache.org/docs/installation/installing-superset-from-pypi",children:"Installing Superset from PyPI repository"})," for details."]}),"\n",(0,i.jsx)(n.li,{children:"Install the Apache Doris Python client on the Apache Superset server. You can refer to the following commands:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"pip install pydoris\n"})}),"\n",(0,i.jsx)(n.p,{children:"Verify Installation Results:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"-> pip list | grep pydoris\npydoris                       1.1.0\n"})}),"\n",(0,i.jsx)(n.p,{children:"After confirming the environment is correct, you can now configure a Doris data source in Superset and start building data visualizations!"}),"\n",(0,i.jsx)(n.h2,{id:"configuring-a-doris-data-source-in-superset",children:"Configuring a Doris Data Source in Superset"}),"\n",(0,i.jsxs)(n.p,{children:["Now that you have installed the ",(0,i.jsx)(n.strong,{children:"Pydoris"})," and ",(0,i.jsx)(n.strong,{children:"Apache Superset"})," drivers, let's see how to define a data source in Superset that connects to the tpch database in Doris."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"To connect to Apache Doris via Pydoris, you need to configure the SQLAlchemy URI connection string:"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Complete the configuration in this format:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"doris://<User>:<Password>@<Host>:<Port>/<Catalog>.<Database>"})}),"\n",(0,i.jsx)(n.p,{children:"The URI parameters are explained below:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Meaning"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"User"})}),(0,i.jsx)(n.td,{children:"Username"}),(0,i.jsx)(n.td,{children:"testuser"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Password"})}),(0,i.jsx)(n.td,{children:"Password"}),(0,i.jsx)(n.td,{children:"xxxxxx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Host"})}),(0,i.jsx)(n.td,{children:"Database host"}),(0,i.jsx)(n.td,{children:"127.0.1.28"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Port"})}),(0,i.jsx)(n.td,{children:"Database query port"}),(0,i.jsx)(n.td,{children:"9030"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Catalog"})}),(0,i.jsx)(n.td,{children:"Doris Catalog, used when querying external tables and data lakes; internal tables are internal"}),(0,i.jsx)(n.td,{children:"internal"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Database"})}),(0,i.jsx)(n.td,{children:"Database name"}),(0,i.jsx)(n.td,{children:"tpch"})]})]})]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Accessing the Superset."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(342887).Z+"",width:"1220",height:"722"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"After logging in, click Settings -> Database Connectors in the upper right corner."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(279424).Z+"",width:"3830",height:"1866"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Click Add Database. In the Connect a database pop-up window, select Apache Doris."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(122898).Z+"",width:"996",height:"1528"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Enter the SQLAlchemy URI in the connection information. After verifying the connection is correct, click Connect."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(63141).Z+"",width:"1014",height:"1704"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Adding a data source is now complete."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(243360).Z+"",width:"3840",height:"1868"})}),"\n",(0,i.jsx)(n.p,{children:"Next, we can build some visualizations in Superset!"}),"\n",(0,i.jsx)(n.h2,{id:"building-visualizations-in-superset",children:"Building Visualizations in Superset"}),"\n",(0,i.jsxs)(n.p,{children:["We choose TPC-H data as our data source. Refer to ",(0,i.jsx)(n.a,{href:"../../benchmark/tpch",children:"this document"})," for instructions on building a Doris TPC-H data source."]}),"\n",(0,i.jsx)(n.p,{children:"Now that we have configured the Doris data source in Superset, let's visualize the data..."}),"\n",(0,i.jsx)(n.p,{children:"Suppose we need to analyze the time-varying curves of order amounts for different freight methods for cost analysis."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Click Datasets to add a Dataset"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(836209).Z+"",width:"3840",height:"1868"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Select the following in sequence, then click Create dataset and create chart in the lower right corner:\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Database\uFF1ADoris"}),"\n",(0,i.jsx)(n.li,{children:"Schema\uFF1A tpch"}),"\n",(0,i.jsx)(n.li,{children:"Table\uFF1Alineitem"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(356843).Z+"",width:"3840",height:"1868"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Edit the lineitem Dataset"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(584165).Z+"",width:"3826",height:"1548"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Click Metrics -> Add item to add a calculated metric.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Metric Key : Revenue"}),"\n",(0,i.jsxs)(n.li,{children:["SQL expression :  ",(0,i.jsx)(n.code,{children:"SUM("}),"l_extendedprice",(0,i.jsx)(n.code,{children:"* (1 -"}),"l_discount",(0,i.jsx)(n.code,{children:"))"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(883272).Z+"",width:"1782",height:"1318"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Go to Chart -> Add Chart, select lineitem for the dateset, and select Line Chart for the chart type."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(894211).Z+"",width:"3840",height:"1868"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Drag l_shipdate to the X-axis and set the time granularity. Simultaneously, drag the Revenum custom metric and the data column l_shipmode to Meters and Dimensions respectively."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(762878).Z+"",width:"3840",height:"1868"})}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsx)(n.li,{children:"Click Update chart to view the dashboard content. Click Save to save the dashboard."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(906560).Z+"",width:"1222",height:"768"})}),"\n",(0,i.jsx)(n.p,{children:"At this point, Superset has been successfully connected to Apache Doris, and data analysis and visualization dashboard creation have been implemented."}),"\n",(0,i.jsx)(n.h2,{id:"connection-and-usage-tips",children:"Connection and Usage Tips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pre-install pydoris in the Superset environment to select Apache Doris when creating the database."}),"\n",(0,i.jsx)(n.li,{children:"Create Doris database tables reasonably according to actual needs, partitioning and bucketing by time, which can effectively reduce predicate filtering and most data transmission."}),"\n",(0,i.jsx)(n.li,{children:"It is recommended to use a VPC private connection to avoid the security risks introduced by public network access."}),"\n",(0,i.jsx)(n.li,{children:"Refine Doris user account roles and access permissions to avoid excessive delegation of permissions."}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},356843:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/AAlebfk9ro0SkCxLKXFcq2Scnov-5f0ef8109857a9e6ab0d775731aac749.png"},762878:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/Aewqbeul9oFZekx3vOUcZ3ranAf-1559fd8bb81824b34e4fec438f6f4707.png"},584165:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/BHIObcQrboRQWSx4yatcoo4enxc-87c1f07d16f2972184b93d035fcd9c6f.png"},836209:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/C55Kbstx1ogXOtxadBccEavLnOf-924b0677e4fd4053badc8c235f6dc96a.png"},883272:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/DUOvbeQPdojk9YxAsbGcfKT2nOe-6c4f4f192a05788dceab11ad615c67b1.png"},279424:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/ELzsb6xMaoqcAYxnVuzcP3hhnbg-5297398f7700749eb07697a572f56a72.png"},63141:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/FndlbO7Fgo4ppixTFWIc0UQUnFb-535fecbe7ef3d23d6f5fe9f68468050f.png"},243360:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/GsClbUlmsooSdMx994tcjqm1nre-17ce5f27ad398064004df0074e173d01.png"},894211:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/KKndbObRCoVBDQxOgMNcJLYanUz-ad809934a0efc8e45ed0b44667819d9a.png"},342887:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/OXIbbtkncoLHDUxjfdCcAmaenJm-254c207fdff6b0d136d97f48c84cdb4a.png"},122898:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/TQpibvPYEoyKltx34G5c8B5AnGg-5289bb6ce02bb4d1f510b2300fce9792.png"},906560:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/WwYLbzgatoYuLzx9jjmc1STOnwb-e11d5b7ea50ec8a45652b59835f5e4a1.png"},250065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return a}});var t=s(667294);let i={},r=t.createContext(i);function a(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);