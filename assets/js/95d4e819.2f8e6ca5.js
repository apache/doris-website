"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["416156"],{266027:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>a,metadata:()=>s,assets:()=>o,toc:()=>d,contentTitle:()=>l});var s=JSON.parse('{"id":"sql-manual/sql-statements/data-modification/load-and-export/MYSQL-LOAD","title":"MYSQL LOAD","description":"Description","source":"@site/docs/sql-manual/sql-statements/data-modification/load-and-export/MYSQL-LOAD.md","sourceDirName":"sql-manual/sql-statements/data-modification/load-and-export","slug":"/sql-manual/sql-statements/data-modification/load-and-export/MYSQL-LOAD","permalink":"/docs/dev/sql-manual/sql-statements/data-modification/load-and-export/MYSQL-LOAD","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"MYSQL LOAD","language":"en"},"sidebar":"docs","previous":{"title":"BROKER LOAD","permalink":"/docs/dev/sql-manual/sql-statements/data-modification/load-and-export/BROKER-LOAD"},"next":{"title":"SHOW LOAD","permalink":"/docs/dev/sql-manual/sql-statements/data-modification/load-and-export/SHOW-LOAD"}}'),i=n("785893"),r=n("250065");let a={title:"MYSQL LOAD",language:"en"},l=void 0,o={},d=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Required Parameters",id:"required-parameters",level:2},{value:"Optional Parameters",id:"optional-parameters",level:2},{value:"Access Control Requirements",id:"access-control-requirements",level:2},{value:"Usage Notes",id:"usage-notes",level:2},{value:"Examples",id:"examples",level:2}];function c(e){let t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(t.p,{children:["Use the MySQL client to import local data files into Doris. MySQL Load is a synchronous import method, which returns the import result immediately after execution. You can determine whether the import is successful based on the return result of the ",(0,i.jsx)(t.code,{children:"LOAD DATA"})," statement. MySQL Load can ensure the atomicity of a batch of import tasks, meaning that either all imports succeed or all fail."]}),"\n",(0,i.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA\n[ LOCAL ]\nINFILE "<file_name>"\nINTO TABLE "<tbl_name>"\n[ PARTITION (<partition_name> [, ... ]) ]\n[ COLUMNS TERMINATED BY "<column_separator>" ]\n[ LINES TERMINATED BY "<line_delimiter>" ]\n[ IGNORE <number> {LINES | ROWS} ]\n[ (<col_name_or_user_var> [, ... ] ) ]\n[ SET (col_name={<expr> | DEFAULT} [, col_name={<expr> | DEFAULT}] ...) ]\n[ PROPERTIES ("<key>" = "<value>" [ , ... ]) ]\n'})}),"\n",(0,i.jsx)(t.h2,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["1. ",(0,i.jsx)(t.code,{children:"<file_name>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Specify the path of the local file, which can be either a relative or an absolute path. Currently, only a single file is supported, and multiple files are not supported."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["2. ",(0,i.jsx)(t.code,{children:"<tbl_name>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"The table name can include the database name, as shown in the examples. If the database name is omitted, the current user's database will be used."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"optional-parameters",children:"Optional Parameters"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["1. ",(0,i.jsx)(t.code,{children:"LOCAL"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Specifying ",(0,i.jsx)(t.code,{children:"LOCAL"})," indicates reading files from the client. Omitting it means reading files from the local storage of the FE server. The function of importing files from the FE server is disabled by default. You need to set ",(0,i.jsx)(t.code,{children:"mysql_load_server_secure_path"})," on the FE node to specify a secure path to enable this function."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["2. ",(0,i.jsx)(t.code,{children:"<partition_name>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Multiple partitions can be specified for import, separated by commas."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["3. ",(0,i.jsx)(t.code,{children:"<column_separator>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Specify the column separator."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["4. ",(0,i.jsx)(t.code,{children:"<line_delimiter>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Specify the line delimiter."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["5. ",(0,i.jsx)(t.code,{children:"IGNORE <number> { LINES | ROWS }"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Users can skip the header of the CSV file or any number of lines. This syntax can also be replaced with ",(0,i.jsx)(t.code,{children:"IGNORE num ROWS"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["6. ",(0,i.jsx)(t.code,{children:"<col_name_or_user_var>"})]})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Column mapping syntax. For specific parameters, refer to the column mapping section of ",(0,i.jsx)(t.a,{href:"/docs/dev/data-operate/import/import-way/mysql-load-manual",children:"Data Transformation during Import"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["7.  ",(0,i.jsx)(t.code,{children:'properties ("<key>"="<value>",...)'})]})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Parameter Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"max_filter_ratio"}),(0,i.jsx)(t.td,{children:"The maximum tolerable ratio of filterable data (due to reasons such as data irregularities), with a default of zero tolerance."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timeout"}),(0,i.jsx)(t.td,{children:"Specify the import timeout period in seconds. The default is 600 seconds, and the valid range is from 1 second to 259,200 seconds."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"strict_mode"}),(0,i.jsx)(t.td,{children:"Users can specify whether to enable strict mode for this import. The default is disabled."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"timezone"}),(0,i.jsx)(t.td,{children:"Specify the time zone for this import. The default is the East Eight Time Zone. This parameter will affect the results of all time - zone - related functions involved in the import."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"exec_mem_limit"}),(0,i.jsx)(t.td,{children:"The import memory limit, with a default of 2GB in bytes."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"trim_double_quotes"}),(0,i.jsxs)(t.td,{children:["A boolean type with a default value of ",(0,i.jsx)(t.code,{children:"false"}),". When set to ",(0,i.jsx)(t.code,{children:"true"}),", it means trimming the outermost double quotes of each field in the imported file."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"enclose"}),(0,i.jsxs)(t.td,{children:['Enclosure character. When a CSV data field contains a line separator or column separator, to prevent accidental truncation, a single - byte character can be specified as the enclosure character for protection. For example, if the column separator is ",", the enclosure character is "\'", and the data is "a,\'b,c\'", then "b,c" will be parsed as one field. Note: When ',(0,i.jsx)(t.code,{children:"enclose"})," is set to ",(0,i.jsx)(t.code,{children:'""'}),", ",(0,i.jsx)(t.code,{children:"trim_double_quotes"})," must be set to ",(0,i.jsx)(t.code,{children:"true"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"escape"}),(0,i.jsx)(t.td,{children:'Escape character. Used to escape characters in the CSV field that are the same as the enclosure character. For example, if the data is "a,\'b,\'c\'", the enclosure character is "\'", and you want "b,\'c" to be parsed as one field, you need to specify a single - byte escape character, such as "", and then modify the data to "a,\'b,\'c\'".'})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"access-control-requirements",children:"Access Control Requirements"}),"\n",(0,i.jsx)(t.p,{children:"Users executing this SQL command must have at least the following permissions:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Privilege"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Object"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"LOAD_PRIV"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Table"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Import permissions for the specified database table."})]})})]}),"\n",(0,i.jsx)(t.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["The MySQL Load statement starts with the syntax ",(0,i.jsx)(t.code,{children:"LOAD DATA"})," and does not require specifying a LABEL."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the client's local file ",(0,i.jsx)(t.code,{children:"testData"})," into the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),". Specify a timeout of 100 seconds."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("timeout"="100")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the server's local file ",(0,i.jsx)(t.code,{children:"/root/testData"})," (you need to set the FE configuration ",(0,i.jsx)(t.code,{children:"mysql_load_server_secure_path"})," to ",(0,i.jsx)(t.code,{children:"/root"}),") into the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),". Specify a timeout of 100 seconds."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA\nINFILE \'/root/testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("timeout"="100")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the client's local file ",(0,i.jsx)(t.code,{children:"testData"})," into the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),", allowing an error rate of 20%."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the client's local file ",(0,i.jsx)(t.code,{children:"testData"})," into the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),", allowing an error rate of 20%, and specify the column names of the file."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\n(k2, k1, v1)\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the local file ",(0,i.jsx)(t.code,{children:"testData"})," into partitions ",(0,i.jsx)(t.code,{children:"p1"})," and ",(0,i.jsx)(t.code,{children:"p2"})," of the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),", allowing an error rate of 20%."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPARTITION (p1, p2)\nPROPERTIES ("max_filter_ratio"="0.2")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the local CSV file ",(0,i.jsx)(t.code,{children:"testData"})," with a line separator of ",(0,i.jsx)(t.code,{children:"0102"})," and a column separator of ",(0,i.jsx)(t.code,{children:"0304"})," into the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:"LOAD DATA LOCAL\nINFILE 'testData'\nINTO TABLE testDb.testTbl\nCOLUMNS TERMINATED BY '0304'\nLINES TERMINATED BY '0102'\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data from the local file ",(0,i.jsx)(t.code,{children:"testData"})," into partitions ",(0,i.jsx)(t.code,{children:"p1"})," and ",(0,i.jsx)(t.code,{children:"p2"})," of the table ",(0,i.jsx)(t.code,{children:"testTbl"})," in the database ",(0,i.jsx)(t.code,{children:"testDb"})," and skip the first 3 lines."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:"LOAD DATA LOCAL\nINFILE 'testData'\nINTO TABLE testDb.testTbl\nPARTITION (p1, p2)\nIGNORE 3 LINES\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import data with strict mode filtering and set the time zone to ",(0,i.jsx)(t.code,{children:"Africa/Abidjan"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("strict_mode"="true", "timezone"="Africa/Abidjan")\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Limit the import memory to 10GB and set a timeout of 10 minutes for the data import."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'LOAD DATA LOCAL\nINFILE \'testData\'\nINTO TABLE testDb.testTbl\nPROPERTIES ("exec_mem_limit"="10737418240", "timeout"="600")\n'})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return l},a:function(){return a}});var s=n(667294);let i={},r=s.createContext(i);function a(e){let t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);