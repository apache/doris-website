"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["731677"],{42168:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>l,metadata:()=>s,assets:()=>c,toc:()=>a,contentTitle:()=>d});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/tokenize","title":"TOKENIZE","description":"The TOKENIZE function tokenizes a string using a specified parser and returns the tokenization results as a string array.","source":"@site/versioned_docs/version-2.1/sql-manual/sql-functions/scalar-functions/string-functions/tokenize.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/tokenize","permalink":"/docs/2.1/sql-manual/sql-functions/scalar-functions/string-functions/tokenize","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"TOKENIZE","language":"en","description":"The TOKENIZE function tokenizes a string using a specified parser and returns the tokenization results as a string array."},"sidebar":"docs","previous":{"title":"TO_BASE64","permalink":"/docs/2.1/sql-manual/sql-functions/scalar-functions/string-functions/to-base64"},"next":{"title":"TOP_LEVEL_DOMAIN","permalink":"/docs/2.1/sql-manual/sql-functions/scalar-functions/string-functions/top-level-domain"}}'),i=r("785893"),t=r("250065");let l={title:"TOKENIZE",language:"en",description:"The TOKENIZE function tokenizes a string using a specified parser and returns the tokenization results as a string array."},d=void 0,c={},a=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Supported Properties",id:"supported-properties",level:3},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2},{value:"Example 1: Using the Chinese parser",id:"example-1-using-the-chinese-parser",level:3},{value:"Example 2: Chinese parser with fine-grained mode",id:"example-2-chinese-parser-with-fine-grained-mode",level:3},{value:"Example 3: Using the Unicode parser",id:"example-3-using-the-unicode-parser",level:3},{value:"Example 4: Using character filters",id:"example-4-using-character-filters",level:3},{value:"Example 5: Stopwords configuration",id:"example-5-stopwords-configuration",level:3},{value:"Notes",id:"notes",level:2},{value:"Keywords",id:"keywords",level:2}];function o(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," function tokenizes a string using a specified parser and returns the tokenization results as a string array. This function is particularly useful for testing and understanding how text will be analyzed when using inverted indexes with full-text search capabilities."]}),"\n",(0,i.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ARRAY<VARCHAR> TOKENIZE(VARCHAR str, VARCHAR properties)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"str"}),": The input string to be tokenized. Type: ",(0,i.jsx)(n.code,{children:"VARCHAR"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"properties"}),": A property string specifying the parser configuration. Type: ",(0,i.jsx)(n.code,{children:"VARCHAR"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"properties"})," parameter supports the following key-value pairs (format: ",(0,i.jsx)(n.code,{children:"'key1'='value1', 'key2'='value2'"})," or ",(0,i.jsx)(n.code,{children:'"key1"="value1", "key2"="value2"'}),"):"]}),"\n",(0,i.jsx)(n.h3,{id:"supported-properties",children:"Supported Properties"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example Values"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser"})}),(0,i.jsx)(n.td,{children:"Built-in parser type"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"chinese"'}),", ",(0,i.jsx)(n.code,{children:'"english"'}),", ",(0,i.jsx)(n.code,{children:'"unicode"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parser_mode"})}),(0,i.jsx)(n.td,{children:"Parser mode for Chinese parser"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'"fine_grained"'}),", ",(0,i.jsx)(n.code,{children:'"coarse_grained"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_type"})}),(0,i.jsx)(n.td,{children:"Character filter type"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"char_replace"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_pattern"})}),(0,i.jsxs)(n.td,{children:["Characters to be replaced (used with ",(0,i.jsx)(n.code,{children:"char_filter_type"}),")"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"._=:,"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"char_filter_replacement"})}),(0,i.jsxs)(n.td,{children:["Replacement character (used with ",(0,i.jsx)(n.code,{children:"char_filter_type"}),")"]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:'" "'})," (space)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stopwords"})}),(0,i.jsx)(n.td,{children:"Stop words configuration"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"none"'})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,i.jsxs)(n.p,{children:["Returns an ",(0,i.jsx)(n.code,{children:"ARRAY<VARCHAR>"})," containing the tokenized strings as individual array elements."]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"example-1-using-the-chinese-parser",children:"Example 1: Using the Chinese parser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66', \"'parser'='chinese'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u6211", "\u6765\u5230", "\u5317\u4EAC", "\u6E05\u534E\u5927\u5B66"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-2-chinese-parser-with-fine-grained-mode",children:"Example 2: Chinese parser with fine-grained mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u6211\u6765\u5230\u5317\u4EAC\u6E05\u534E\u5927\u5B66', \"'parser'='chinese', 'parser_mode'='fine_grained'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u6211", "\u6765\u5230", "\u5317\u4EAC", "\u6E05\u534E", "\u6E05\u534E\u5927\u5B66", "\u534E\u5927", "\u5927\u5B66"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-3-using-the-unicode-parser",children:"Example 3: Using the Unicode parser"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('Apache Doris\u6570\u636E\u5E93', \"'parser'='unicode'\");\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["apache", "doris", "\u6570", "\u636E", "\u5E93"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-4-using-character-filters",children:"Example 4: Using character filters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'GET /images/hm_bg.jpg HTTP/1.0 test:abc=bcd\',\n    \'"parser"="unicode","char_filter_type" = "char_replace","char_filter_pattern" = "._=:,","char_filter_replacement" = " "\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["get", "images", "hm", "bg", "jpg", "http", "1", "0", "test", "abc", "bcd"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-5-stopwords-configuration",children:"Example 5: Stopwords configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT TOKENIZE('\u534E\u590F\u667A\u80DC\u65B0\u7A0E\u80A1\u7968A', '\"parser\"=\"unicode\"');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u534E", "\u590F", "\u667A", "\u80DC", "\u65B0", "\u7A0E", "\u80A1", "\u7968"]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT TOKENIZE(\'\u534E\u590F\u667A\u80DC\u65B0\u7A0E\u80A1\u7968A\', \'"parser"="unicode","stopwords" = "none"\');\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'["\u534E", "\u590F", "\u667A", "\u80DC", "\u65B0", "\u7A0E", "\u80A1", "\u7968", "a"]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parser Configuration"}),": The ",(0,i.jsx)(n.code,{children:"properties"})," parameter must be a valid property string. Only built-in parsers are supported in this version."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Supported Parsers"}),": Version 2.1 supports the following built-in parsers:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"chinese"}),": Chinese text parser with optional ",(0,i.jsx)(n.code,{children:"parser_mode"})," (",(0,i.jsx)(n.code,{children:"fine_grained"})," or ",(0,i.jsx)(n.code,{children:"coarse_grained"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"english"}),": English language parser with stemming"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"unicode"}),": Unicode-based parser for multilingual text"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parser Mode"}),": The ",(0,i.jsx)(n.code,{children:"parser_mode"})," property is primarily used with the ",(0,i.jsx)(n.code,{children:"chinese"})," parser:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fine_grained"}),": Produces more detailed tokens with overlapping segments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"coarse_grained"}),": Default mode with standard segmentation"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Character Filters"}),": Use ",(0,i.jsx)(n.code,{children:"char_filter_type"}),", ",(0,i.jsx)(n.code,{children:"char_filter_pattern"}),", and ",(0,i.jsx)(n.code,{children:"char_filter_replacement"})," together to replace specific characters before tokenization."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Performance"}),": The ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," function is primarily intended for testing and debugging parser configurations. For production full-text search, use inverted indexes with the ",(0,i.jsx)(n.code,{children:"MATCH"})," predicate."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Compatibility with Inverted Indexes"}),": The same parser configuration used in ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," can be applied to inverted indexes when creating tables:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'CREATE TABLE example (\n    content TEXT,\n    INDEX idx_content(content) USING INVERTED PROPERTIES("parser"="chinese")\n)\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Testing Parser Behavior"}),": Use ",(0,i.jsx)(n.code,{children:"TOKENIZE"})," to preview how text will be tokenized before creating inverted indexes, helping to choose the most appropriate parser for your data."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"keywords",children:"Keywords"}),"\n",(0,i.jsx)(n.p,{children:"TOKENIZE, STRING, FULL-TEXT SEARCH, INVERTED INDEX, PARSER"})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return d},a:function(){return l}});var s=r(667294);let i={},t=s.createContext(i);function l(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);