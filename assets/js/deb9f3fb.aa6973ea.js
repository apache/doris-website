"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["420129"],{381626:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>a,metadata:()=>s,assets:()=>o,toc:()=>r,contentTitle:()=>c});var s=JSON.parse('{"id":"sql-manual/sql-statements/statistics/ALTER-STATS","title":"ALTER STATS","description":"Manually modify the statistics of a specified column in a specified table. Please refer to the \\"Statistics\\" chapter.","source":"@site/versioned_docs/version-3.x/sql-manual/sql-statements/statistics/ALTER-STATS.md","sourceDirName":"sql-manual/sql-statements/statistics","slug":"/sql-manual/sql-statements/statistics/ALTER-STATS","permalink":"/docs/3.x/sql-manual/sql-statements/statistics/ALTER-STATS","draft":false,"unlisted":false,"tags":[],"version":"3.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"ALTER STATS","language":"en","description":"Manually modify the statistics of a specified column in a specified table. Please refer to the \\"Statistics\\" chapter."},"sidebar":"docs","previous":{"title":"ANALYZE","permalink":"/docs/3.x/sql-manual/sql-statements/statistics/ANALYZE"},"next":{"title":"DROP STATS","permalink":"/docs/3.x/sql-manual/sql-statements/statistics/DROP-STATS"}}'),i=n("785893"),l=n("250065");let a={title:"ALTER STATS",language:"en",description:'Manually modify the statistics of a specified column in a specified table. Please refer to the "Statistics" chapter.'},c=void 0,o={},r=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2}];function d(e){let t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(t.p,{children:'Manually modify the statistics of a specified column in a specified table. Please refer to the "Statistics" chapter.'}),"\n",(0,i.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:"ALTER TABLE <table_name>\n  [ INDEX <index_name> ]\n  MODIFY COLUMN <column_name>\n  SET STATS (<column_stats>)\n"})}),"\n",(0,i.jsx)(t.p,{children:"Where:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:'column_stats\n  : -- column stats value\n  ("key1" = "value1", "key2" = "value2" [...])\n'})}),"\n",(0,i.jsx)(t.h1,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"<table_name>"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Specifies the identifier (i.e., name) of the table."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"<column_name>"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Specifies the column identifier (i.e., name). When <index_name> is not specified, it is the column name of the base table."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"<column_stats>"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"The statistics value to be set, given in the form of key = value, where both key and value need to be enclosed in quotation marks, and key-value pairs are separated by commas. The statistics that can be set include:"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"row_count, total number of rows"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"ndv, cardinality of the column"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"num_nulls, number of null values in the column"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"data_size, total size of the column"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"min_value, minimum value of the column"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"max_value, maximum value of the column"}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Among them, row_count must be specified, and other attributes are optional. If not set, the corresponding statistic attribute value for that column will be empty."}),"\n"]}),"\n",(0,i.jsx)(t.h1,{id:"optional-parameters",children:"Optional Parameters"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"<index_name>"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:'Synchronized materialized view (please refer to the "Synchronized Materialized Views" chapter) identifier (i.e., name). A table can have 0 to multiple materialized views. If you need to set the statistics of a column in a materialized view, you need to use <index_name> to specify the name of the materialized view. If not specified, the properties of the column in the base table are set.'}),"\n"]}),"\n",(0,i.jsx)(t.h1,{id:"access-control-requirements",children:"Access Control Requirements"}),"\n",(0,i.jsx)(t.p,{children:"The user executing this SQL command must have at least the following privileges:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Privilege"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Object"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"ALTER_PRIV"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Table"}),(0,i.jsx)(t.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,i.jsx)(t.h1,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,i.jsx)(t.p,{children:'After a user manually injects statistics into a table, the table will no longer participate in the automatic collection of statistics (please refer to the "Automatic Collection of Statistics" chapter) to avoid overwriting the statistics manually injected by the user. If the injected statistics are no longer used, the drop stats statement can be used to delete the already injected information, which allows the table to re-enable automatic collection.'}),"\n",(0,i.jsx)(t.h1,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Inject statistics into the p_partkey column of the part table (base table column, as no index_name is specified)."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:"alter \n    table part\n    modify column p_partkey \n    set stats ('row_count'='2.0E7', 'ndv'='2.0252576E7', 'num_nulls'='0.0', 'data_size'='8.0E7', 'min_value'='1', 'max_value'='20000000');\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Inject statistics into the col1 column of the index1 materialized view of the part table (materialized view column, as index_name is specified)."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sql",children:"alter \n    table part index index1\n    modify column col1 \n    set stats ('row_count'='2.0E7', 'ndv'='2.0252576E7', 'num_nulls'='0.0', 'data_size'='8.0E7', 'min_value'='1', 'max_value'='20000000');\n"})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return c},a:function(){return a}});var s=n(667294);let i={},l=s.createContext(i);function a(e){let t=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);