"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["394145"],{140585:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>a,metadata:()=>s,assets:()=>l,toc:()=>o,contentTitle:()=>d});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-diff","title":"WEEKS_DIFF","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-diff.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-diff","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-diff","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"WEEKS_DIFF","language":"en"},"sidebar":"docs","previous":{"title":"WEEKS_ADD","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-add"},"next":{"title":"WEEKS_SUB","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/weeks-sub"}}'),i=t("785893"),r=t("250065");let a={title:"WEEKS_DIFF",language:"en"},d=void 0,l={},o=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(n.p,{children:"The WEEKS_DIFF function calculates the difference in complete weeks between two date or time values, with the result being the number of weeks from the end time minus the start time (treating 7 days as 1 week). It supports processing DATE, DATETIME types and properly formatted strings, considering the complete time difference (including hours, minutes, seconds) in calculations."}),"\n",(0,i.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"WEEKS_DIFF(`<date_or_time_expr1>`, `<date_or_time_expr2>`)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<date_or_time_expr1>"})}),(0,i.jsxs)(n.td,{children:["Later date or datetime, supports date/datetime types. For datetime and date formats, please refer to ",(0,i.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,i.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<date_or_time_expr2>"})}),(0,i.jsx)(n.td,{children:"Earlier date or datetime, supports date/datetime types"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,i.jsxs)(n.p,{children:["Returns INT type integer, representing the complete week difference between ",(0,i.jsx)(n.code,{children:"<date_or_time_expr1>"})," and ",(0,i.jsx)(n.code,{children:"<date_or_time_expr2>"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"<date_or_time_expr1>"})," is later than ",(0,i.jsx)(n.code,{children:"<date_or_time_expr2>"}),", returns positive number (total day difference \xf7 7, integer part)."]}),"\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"<date_or_time_expr1>"})," is earlier than ",(0,i.jsx)(n.code,{children:"<date_or_time_expr2>"}),", returns negative number (same calculation method, result negated)."]}),"\n",(0,i.jsx)(n.li,{children:"If input is DATE type, defaults its time portion to 00:00:00."}),"\n",(0,i.jsx)(n.li,{children:'Calculation considers complete time difference (including hours, minutes, seconds), only counting "full 7 days" portions, ignoring days less than a week.'}),"\n",(0,i.jsx)(n.li,{children:"If any parameter is NULL, returns NULL."}),"\n",(0,i.jsx)(n.li,{children:"Only counts \"full 7 days\" portions, e.g., 8 days difference returns 1 week, 6 days difference returns 0 weeks. For example, '2023-10-08 00:00:00' and '2023-10-01 12:00:00' differ by 6.5 days, returns 0 weeks; while '2023-10-08 12:00:00' and '2023-10-01 00:00:00' differ by 7.5 days, returns 1 week."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Two DATE types differ by 8 weeks (56 days)\nSELECT WEEKS_DIFF('2020-12-25', '2020-10-25') AS diff_date;\n+-----------+\n| diff_date |\n+-----------+\n|         8 |\n+-----------+\n\n-- DATETIME type with time portions (total 56 days difference, ignoring hour/minute/second differences)\nSELECT WEEKS_DIFF('2020-12-25 10:10:02', '2020-10-25 12:10:02') AS diff_datetime;\n+---------------+\n| diff_datetime |\n+---------------+\n|             8 |\n+---------------+\n\n-- Mixed DATE and DATETIME calculation (DATE defaults to 00:00:00)\nSELECT WEEKS_DIFF('2020-12-25 10:10:02', '2020-10-25') AS diff_mixed;\n+-------------+\n| diff_mixed  |\n+-------------+\n|           8 |\n+-------------+\n\n-- Less than 1 week (6 days), returns 0\nSELECT WEEKS_DIFF('2023-10-07', '2023-10-01') AS diff_6_days;\n+-------------+\n| diff_6_days |\n+-------------+\n|           0 |\n+-------------+\n\n-- More than 1 week (8 days), returns 1\nSELECT WEEKS_DIFF('2023-10-09', '2023-10-01') AS diff_8_days;\n+-------------+\n| diff_8_days |\n+-------------+\n|           1 |\n+-------------+\n\n-- Time portion impact: 7.5 days difference (returns 1) vs 6.5 days (returns 0)\nSELECT \n  WEEKS_DIFF('2023-10-08 12:00:00', '2023-10-01 00:00:00') AS diff_7_5d,\n  WEEKS_DIFF('2023-10-08 00:00:00', '2023-10-01 12:00:00') AS diff_6_5d;\n+-----------+-----------+\n| diff_7_5d | diff_6_5d |\n+-----------+-----------+\n|         1 |         0 |\n+-----------+-----------+\n\n-- End time earlier than start time, returns negative number\nSELECT WEEKS_DIFF('2023-10-01', '2023-10-08') AS diff_negative;\n+---------------+\n| diff_negative |\n+---------------+\n|            -1 |\n+---------------+\n\n-- Cross-year calculation (2023-12-25 to 2024-01-01 differs by 7 days, returns 1)\nSELECT WEEKS_DIFF('2024-01-01', '2023-12-25') AS cross_year;\n+------------+\n| cross_year |\n+------------+\n|          1 |\n+------------+\n\n-- Any parameter is NULL (returns NULL)\nSELECT \n  WEEKS_DIFF(NULL, '2023-10-01') AS null_input1,\n  WEEKS_DIFF('2023-10-01', NULL) AS null_input2;\n+------------+------------+\n| null_input1 | null_input2 |\n+------------+------------+\n| NULL       | NULL       |\n+------------+------------+\n"})})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return a}});var s=t(667294);let i={},r=s.createContext(i);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);