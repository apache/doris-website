"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["535125"],{730480:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>s,metadata:()=>i,assets:()=>c,toc:()=>l,contentTitle:()=>a});var i=JSON.parse('{"id":"releasenotes/v1.1/release-1.1.1","title":"Release 1.1.1","description":"This feature is enabled in non-vectorized engine but it is missed in vectorized engine in 1.1. So that we add back this feature in 1.1.1.","source":"@site/versioned_docs/version-2.1/releasenotes/v1.1/release-1.1.1.md","sourceDirName":"releasenotes/v1.1","slug":"/releasenotes/v1.1/release-1.1.1","permalink":"/docs/2.1/releasenotes/v1.1/release-1.1.1","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 1.1.1","language":"en","description":"This feature is enabled in non-vectorized engine but it is missed in vectorized engine in 1.1. So that we add back this feature in 1.1.1."},"sidebar":"docs","previous":{"title":"Release 1.1.2","permalink":"/docs/2.1/releasenotes/v1.1/release-1.1.2"},"next":{"title":"Release 1.1.0","permalink":"/docs/2.1/releasenotes/v1.1/release-1.1.0"}}'),r=t("785893"),o=t("250065");let s={title:"Release 1.1.1",language:"en",description:"This feature is enabled in non-vectorized engine but it is missed in vectorized engine in 1.1. So that we add back this feature in 1.1.1."},a=void 0,c={},l=[{value:"Features",id:"features",level:2},{value:"Support ODBC Sink in Vectorized Engine.",id:"support-odbc-sink-in-vectorized-engine",level:3},{value:"Simple Memtracker for Vectorized Engine.",id:"simple-memtracker-for-vectorized-engine",level:3},{value:"Improvements",id:"improvements",level:2},{value:"Cache decompressed data in page cache.",id:"cache-decompressed-data-in-page-cache",level:3},{value:"Bug Fix",id:"bug-fix",level:2},{value:"Fix the problem that could not do rolling upgrade from 1.0.(Serious)",id:"fix-the-problem-that-could-not-do-rolling-upgrade-from-10serious",level:3},{value:"Fix the problem that some query not fall back to non-vectorized engine, and BE will core.",id:"fix-the-problem-that-some-query-not-fall-back-to-non-vectorized-engine-and-be-will-core",level:3},{value:"Compaction not work correctly and cause -235 Error.",id:"compaction-not-work-correctly-and-cause--235-error",level:3},{value:"Some segment fault cases during query.",id:"some-segment-fault-cases-during-query",level:3}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsx)(n.h3,{id:"support-odbc-sink-in-vectorized-engine",children:"Support ODBC Sink in Vectorized Engine."}),"\n",(0,r.jsx)(n.p,{children:"This feature is enabled in non-vectorized engine but it is missed in vectorized engine in 1.1. So that we add back this feature in 1.1.1."}),"\n",(0,r.jsx)(n.h3,{id:"simple-memtracker-for-vectorized-engine",children:"Simple Memtracker for Vectorized Engine."}),"\n",(0,r.jsx)(n.p,{children:"There is no memtracker in BE for vectorized engine in 1.1, so that the memory is out of control and cause OOM. In 1.1.1, a simple memtracker is added to BE and could control the memory and cancel the query when memory exceeded."}),"\n",(0,r.jsx)(n.h2,{id:"improvements",children:"Improvements"}),"\n",(0,r.jsx)(n.h3,{id:"cache-decompressed-data-in-page-cache",children:"Cache decompressed data in page cache."}),"\n",(0,r.jsx)(n.p,{children:"Some data is compressed using bitshuffle and it costs a lot of time to decompress it during query. In 1.1.1, doris will decompress the data that encoded by bitshuffle to accelerate query and we find it could reduce 30% latency for some query in ssb-flat."}),"\n",(0,r.jsx)(n.h2,{id:"bug-fix",children:"Bug Fix"}),"\n",(0,r.jsx)(n.h3,{id:"fix-the-problem-that-could-not-do-rolling-upgrade-from-10serious",children:"Fix the problem that could not do rolling upgrade from 1.0.(Serious)"}),"\n",(0,r.jsx)(n.p,{children:"This issue was introduced in version 1.1 and may cause BE core when upgrade BE but not upgrade FE."}),"\n",(0,r.jsxs)(n.p,{children:["If you encounter this problem, you can try to fix it with ",(0,r.jsx)(n.a,{href:"https://github.com/apache/doris/pull/10833",children:"#10833"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"fix-the-problem-that-some-query-not-fall-back-to-non-vectorized-engine-and-be-will-core",children:"Fix the problem that some query not fall back to non-vectorized engine, and BE will core."}),"\n",(0,r.jsx)(n.p,{children:"Currently, vectorized engine could not deal with all sql queries and some queries (like left outer join) will use non-vectorized engine to run. But there are some cases not covered in 1.1. And it will cause be crash."}),"\n",(0,r.jsx)(n.h3,{id:"compaction-not-work-correctly-and-cause--235-error",children:"Compaction not work correctly and cause -235 Error."}),"\n",(0,r.jsx)(n.p,{children:"One rowset multi segments in uniq key compaction, segments rows will be merged in generic_iterator but merged_rows not increased. Compaction will failed in check_correctness, and make a tablet with too much versions which lead to -235 load error."}),"\n",(0,r.jsx)(n.h3,{id:"some-segment-fault-cases-during-query",children:"Some segment fault cases during query."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/apache/doris/pull/10961",children:"#10961"}),"\n",(0,r.jsx)(n.a,{href:"https://github.com/apache/doris/pull/10954",children:"#10954"}),"\n",(0,r.jsx)(n.a,{href:"https://github.com/apache/doris/pull/10962",children:"#10962"})]}),"\n",(0,r.jsx)(n.h1,{id:"thanks",children:"Thanks"}),"\n",(0,r.jsx)(n.p,{children:"Thanks to everyone who has contributed to this release:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"@jacktengg\n@mrhhsg\n@xinyiZzz\n@yixiutt\n@starocean999\n@morrySnow\n@morningman\n@HappenLee\n"})})]})}function u(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return s}});var i=t(667294);let r={},o=i.createContext(r);function s(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);