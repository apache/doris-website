"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["76019"],{310312:function(e,i,n){n.r(i),n.d(i,{default:()=>h,frontMatter:()=>a,metadata:()=>s,assets:()=>o,toc:()=>c,contentTitle:()=>l});var s=JSON.parse('{"id":"gettingStarted/alternatives/alternative-to-clickhouse","title":"Alternative to ClickHouse","description":"Apache Doris and ClickHouse are both leading global real-time data warehouses, supporting columnar storage and fast queries. Doris has advantages like higher concurrency, more efficient joins, easier maintenance, and MySQL-like SQL syntax, making it simpler to use and deploy.","source":"@site/docs/gettingStarted/alternatives/alternative-to-clickhouse.mdx","sourceDirName":"gettingStarted/alternatives","slug":"/gettingStarted/alternatives/alternative-to-clickhouse","permalink":"/docs/dev/gettingStarted/alternatives/alternative-to-clickhouse","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Alternative to ClickHouse","language":"en"},"sidebar":"docs","previous":{"title":"Quick Start","permalink":"/docs/dev/gettingStarted/quick-start"},"next":{"title":"Alternative to Elasticsearch","permalink":"/docs/dev/gettingStarted/alternatives/alternative-to-elasticsearch"}}'),t=n("785893"),r=n("250065");let a={title:"Alternative to ClickHouse",language:"en"},l=void 0,o={},c=[{value:"Featured Migration Cases",id:"featured-migration-cases",level:2},{value:"Apache Doris vs. ClickHouse",id:"apache-doris-vs-clickhouse",level:2},{value:"Performance Comparison",id:"performance-comparison",level:2},{value:"ClickBench Benchmark",id:"clickbench-benchmark",level:3},{value:"SSB-Flat SF100 Benchmark",id:"ssb-flat-sf100-benchmark",level:3},{value:"TPC-H SF100 Benchmark",id:"tpc-h-sf100-benchmark",level:3},{value:"TPC-DS 1TB Benchmark",id:"tpc-ds-1tb-benchmark",level:3},{value:"More Migration Stories",id:"more-migration-stories",level:2}];function d(e){let i={a:"a",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"Apache Doris and ClickHouse are both leading global real-time data warehouses, supporting columnar storage and fast queries. Doris has advantages like higher concurrency, more efficient joins, easier maintenance, and MySQL-like SQL syntax, making it simpler to use and deploy."}),"\n",(0,t.jsx)(i.h2,{id:"featured-migration-cases",children:"Featured Migration Cases"}),"\n",(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{paddingTop:"2rem",paddingBottom:"2rem",paddingLeft:"2rem",paddingRight:"2.5rem",boxSizing:"border-box",borderWidth:"0.5px",borderRadius:"0.75px",borderColor:"#e5e7eb"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"1.25rem"},children:(0,t.jsx)("img",{alt:"tencent-music",loading:"lazy",width:"331",height:"40",decoding:"async","data-nimg":"1",style:{color:"transparent"},src:"/images/comparisons/tencent-music.png"})}),(0,t.jsx)("div",{style:{marginBbottom:"1.25rem"},children:(0,t.jsx)(i.p,{children:"\u201CTencent Music's data platform has migrated from ClickHouse to Apache Doris, improving data timeliness and reducing maintenance costs. Doris' flexible ingestion methods and robust consistency protocol ensure high availability and reliability.\u201D"})}),(0,t.jsxs)("div",{style:{marginBbottom:"1.25rem"},children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Highlight:"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Massive boost in multi-table join performance."}),(0,t.jsx)("li",{children:"Easy scaling and maintenance."}),(0,t.jsx)("li",{children:"Efficient data processing and real-time updates."})]})]})]})}),(0,t.jsx)("div",{style:{paddingTop:"2rem",paddingBottom:"2rem",paddingLeft:"2rem",paddingRight:"2.5rem",boxSizing:"border-box",borderWidth:"0.5px",borderRadius:"0.75px",borderColor:"#e5e7eb"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"1.25rem"},children:(0,t.jsx)("img",{alt:"tencent-music",loading:"lazy",width:"150",height:"40",decoding:"async","data-nimg":"1",style:{color:"transparent"},src:"/images/comparisons/youzan.png"})}),(0,t.jsx)("div",{style:{marginBbottom:"1.25rem"},children:(0,t.jsx)(i.p,{children:"\u201CApache Doris has faster query response times than ClickHouse in the vast majority of scenarios, especially in complex join scenarios, where its performance is significantly superior to that of ClickHouse.\u201D"})}),(0,t.jsxs)("div",{style:{marginBbottom:"1.25rem"},children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Highlight:"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Core business queries 2-3x."}),(0,t.jsx)("li",{children:"Complex join queries 2-10x."}),(0,t.jsx)("li",{children:"Can run all ClickHouse OOM queries."})]})]})]})}),(0,t.jsx)("div",{style:{paddingTop:"2rem",paddingBottom:"2rem",paddingLeft:"2rem",paddingRight:"2.5rem",boxSizing:"border-box",borderWidth:"0.5px",borderRadius:"0.75px",borderColor:"#e5e7eb"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{marginBottom:"1.25rem"},children:(0,t.jsx)("img",{alt:"tencent-music",loading:"lazy",width:"120",height:"40",decoding:"async","data-nimg":"1",style:{color:"transparent"},src:"/images/comparisons/kwai.png"})}),(0,t.jsx)("div",{style:{marginBbottom:"1.25rem"},children:(0,t.jsx)(i.p,{children:"\u201CBy replacing ClickHouse with Doris, Kwai successfully upgraded to a lakehouse architecture, simplifying the data pipeline and eliminating the need for data import, as Doris can directly access data lake data.\u201D"})}),(0,t.jsxs)("div",{style:{marginBbottom:"1.25rem"},children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Highlight:"})}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Directly query of data lake data."}),(0,t.jsx)("li",{children:"Improved query performance."}),(0,t.jsx)("li",{children:"Flexible data governance with materialized views."})]})]})]})})]}),"\n",(0,t.jsx)(i.h2,{id:"apache-doris-vs-clickhouse",children:"Apache Doris vs. ClickHouse"}),"\n",(0,t.jsxs)("table",{border:"1",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{}),(0,t.jsx)("th",{children:"Apache Doris"}),(0,t.jsx)("th",{children:"ClickHouse"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Architecture & SQL"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Based on MPP architecture"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Standard SQL support, MySQL-compatible"})]})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Uses Scatter-Gather architecture"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"SQL-like capabilities but with non-standard SQL"})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Queries"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Distributed joins"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Cost-Based Optimization (CBO)"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Query rewrites and multi-table materialized views"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Higher concurrent  performance"})]})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Poor join implementation"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Lacks a Cost-Based Optimizer (CBO)"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Only supports single-table materialized views"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Lower concurrency performance"})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Real-time Updates"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Features a strongly consistent primary key storage model, supporting synchronous data updates and deletions"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Implements Merge-On-Write for unique keys with a delete bitmap, ensuring query performance remains unaffected."})]})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Only supports asynchronous updates, allowing old values to be read after an update."}),(0,t.jsxs)("li",{style:{fontSize:"14px"},children:["Synchronous updates are possible using the ",(0,t.jsx)("code",{children:"FINAL"})," keyword, but this significantly degrades query performance."]})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Data API"})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Offers high-throughput read APIs based on Arrow-flight, facilitating integration with other engines such as data science/AI tools"})})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Only inefficient data reading via JDBC API"})})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Building Open Lakehouse"})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Serves as a Lakehouse SQL engine, supporting queries on Hive, Hudi, Iceberg, and Parquet data lake formats"})})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Limited Lakehouse integration capabilities"})})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Operations & Maintenance"})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Supports automatic scaling in, scaling out, and replica balancing"})})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Requires manual rebalancing during scaling operations"})})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Performance"})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"In wide table benchmarks (ClickBench), Doris ranked top 1 or top 2 in October 2022 and October 2024, outperforming ClickHouse"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"In large TPC-H and TPC-DS tests, Doris achieved leading performance"})]})}),(0,t.jsx)("td",{children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{style:{fontSize:"14px"},children:"In terms of ClickBench performance, ClickHouse and Doris have been taking turns leading"}),(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Experiences many OOM (Out of Memory) queries in large TPC-H and TPC-DS tests"})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Storage-Compute Separation"})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Available as an open-source feature since version 3.0"})})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Not supported in the open-source version"})})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:"Open Source"})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Fully open source under the Apache Software Foundation; license and governance are community-driven and cannot be changed by any single entity."})})}),(0,t.jsx)("td",{children:(0,t.jsx)("ul",{children:(0,t.jsx)("li",{style:{fontSize:"14px"},children:"Open source, but controlled by a commercial company."})})})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"performance-comparison",children:"Performance Comparison"}),"\n",(0,t.jsx)(i.h3,{id:"clickbench-benchmark",children:"ClickBench Benchmark"}),"\n",(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[(0,t.jsxs)("div",{style:{marginRight:"2rem"},children:[(0,t.jsx)("p",{children:"ClickBench is a benchmarking tool created and maintained by the ClickHouse team to evaluate the performance of analytical databases."}),(0,t.jsxs)("p",{children:["It focuses on testing the performance of ",(0,t.jsx)(i.strong,{children:"large, flat tables rather than complex multi-table joins."})," It uses real-world data from a major web analytics platform, covering typical scenarios such as clickstream analysis and structured logs."]}),(0,t.jsx)("p",{children:"The benchmark consists of a set of queries that test aggregation operations and single-table performance, without involving complex joins. This makes it especially useful for evaluating databases optimized for real-time analytics and large-scale data processing."})]}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{alt:"ClickBench  Benchmark",loading:"lazy",width:"1200",height:"338",decoding:"async","data-nimg":"1",src:"/images/comparisons/clickbench-ck.png",style:{color:"transparent",marginTop:0}})})]}),"\n",(0,t.jsx)(i.h3,{id:"ssb-flat-sf100-benchmark",children:"SSB-Flat SF100 Benchmark"}),"\n",(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[(0,t.jsxs)("div",{style:{marginRight:"2rem"},children:[(0,t.jsx)("p",{children:"SSB-Flat SF100 is a benchmark designed to test the performance of analytical databases in handling large, wide tables."}),(0,t.jsxs)("p",{children:["It is derived from the Star Schema Benchmark (SSB) but flattens the star schema into a single wide table to ",(0,t.jsx)(i.strong,{children:"focus on the performance of single-table queries."})]}),(0,t.jsx)("p",{children:"The SF100 indicates that the data scale is 100 times the base size, making it a significant test for evaluating query performance and system scalability."})]}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{alt:"ClickBench  Benchmark",loading:"lazy",width:"720",height:"338",decoding:"async","data-nimg":"1",src:"/images/comparisons/ssb-flat-sf100-benchmark-ck.png",style:{color:"transparent",marginTop:0}})})]}),"\n",(0,t.jsx)(i.h3,{id:"tpc-h-sf100-benchmark",children:"TPC-H SF100 Benchmark"}),"\n",(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[(0,t.jsxs)("div",{style:{marginRight:"2rem"},children:[(0,t.jsx)("p",{children:"The TPC-H benchmark with a scale factor of 100 (SF100) is a widely used standard for evaluating database performance. It includes a set of complex SQL queries designed to simulate real-world business intelligence workloads."}),(0,t.jsx)("p",{children:"The SF100 indicates that the data size is 100 times the base size, making it a large-scale test to measure query performance and system scalability."}),(0,t.jsx)("p",{children:(0,t.jsx)(i.strong,{children:"Note: Since ClickHouse failed to execute 7 queries, the total execution time refers to the time taken by Doris to run all 22 queries, and by ClickHouse to run only 15 queries."})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{alt:"ClickBench  Benchmark",loading:"lazy",width:"1050",height:"338",decoding:"async","data-nimg":"1",src:"/images/comparisons/tpch-sf100-ck.png",style:{color:"transparent",marginTop:0}})})]}),"\n",(0,t.jsx)(i.h3,{id:"tpc-ds-1tb-benchmark",children:"TPC-DS 1TB Benchmark"}),"\n",(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[(0,t.jsxs)("div",{style:{marginRight:"2rem"},children:[(0,t.jsx)("p",{children:"TPC-DS 1TB is a widely recognized benchmark for evaluating the performance of data warehouses and analytical databases. It involves a dataset of approximately 1TB in size, containing around 6.35 billion records spread across 24 tables."}),(0,t.jsx)("p",{children:"The benchmark includes 99 complex queries designed to test various aspects of database performance, such as joins, aggregations, and subqueries."}),(0,t.jsx)("p",{children:"The TPC-DS schema is based on a snowflake schema, representing real-world scenarios like web, catalog, and store sales. The 1TB scale is considered a moderate size for data warehouses but is still challenging due to the complexity of the queries and the large number of records"}),(0,t.jsx)("p",{children:(0,t.jsx)(i.strong,{children:"Note\uFF1ATPC-DS makes heavy use of correlated subqueries which are at the time of testing (September 2024) not supported by ClickHouse. As a result, about 50% of benchmark queries will fail with errors."})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{alt:"ClickBench  Benchmark",loading:"lazy",width:"1300",height:"338",decoding:"async","data-nimg":"1",src:"/images/comparisons/tpc-ds-1tb-ck.png",style:{color:"transparent",marginTop:0}})})]}),"\n",(0,t.jsx)(i.h2,{id:"more-migration-stories",children:"More Migration Stories"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://doris.apache.org/blog/less-components-higher-performance-apache-doris-instead-of-clickhouse-mysql-presto-and-hbase",children:"Less components, higher performance: Apache Doris instead of ClickHouse, MySQL, Presto, and HBase"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://doris.apache.org/blog/migrating-from-clickhouse-to-apache-doris-what-happened",children:"Migrating from ClickHouse to Apache Doris: What happened?"})}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://doris.apache.org/blog/linkedcare",children:"ClickHouse & Kudu to Doris: 10X concurrency increased, 70% latency down"})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},250065:function(e,i,n){n.d(i,{Z:function(){return l},a:function(){return a}});var s=n(667294);let t={},r=s.createContext(t);function a(e){let i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);