"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["467064"],{60894:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>s,metadata:()=>i,assets:()=>d,toc:()=>l,contentTitle:()=>c});var i=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/date-trunc","title":"DATE_TRUNC","description":"The DATETRUNC function is used to truncate a date or time value (datetime) to a specified time unit (timeunit).","source":"@site/versioned_docs/version-4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/date-trunc.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/date-trunc","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/date-trunc","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"DATE_TRUNC","language":"en","description":"The DATETRUNC function is used to truncate a date or time value (datetime) to a specified time unit (timeunit)."},"sidebar":"docs","previous":{"title":"DATE_SUB","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/date-sub"},"next":{"title":"DATEDIFF","permalink":"/docs/4.x/sql-manual/sql-functions/scalar-functions/date-time-functions/datediff"}}'),a=t("785893"),r=t("250065");let s={title:"DATE_TRUNC",language:"en",description:"The DATETRUNC function is used to truncate a date or time value (datetime) to a specified time unit (timeunit)."},c=void 0,d={},l=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function o(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,a.jsxs)(n.p,{children:["The DATE_TRUNC function is used to truncate a date or time value (",(0,a.jsx)(n.code,{children:"datetime"}),") to a specified time unit (",(0,a.jsx)(n.code,{children:"time_unit"}),'). This means retaining the time information at the specified unit and higher levels, while resetting the time information at lower levels to the minimum date time. For example, when truncating to the "hour" unit, the year, month, day, and hour are retained, and minutes, seconds, etc., are reset to zero. When truncating by year, the day and month are truncated to xxxx-01-01.']}),"\n",(0,a.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"DATE_TRUNC(<datetime>, <time_unit>)\nDATE_TRUNC(<time_unit>, <datetime>)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Parameter"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"<date_or_time_part>"})}),(0,a.jsxs)(n.td,{children:["A valid date expression, supporting datetime or date type. For specific formats, please refer to ",(0,a.jsx)(n.a,{href:"/docs/dev/sql-manual/basic-element/sql-data-types/conversion/timestamptz-conversion",children:"timestamptz conversion"}),", ",(0,a.jsx)(n.a,{href:"../../../../sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,a.jsx)(n.a,{href:"../../../../sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"<time_unit>"})}),(0,a.jsxs)(n.td,{children:["The time interval to truncate to. The available values are: [",(0,a.jsx)(n.code,{children:"second"}),",",(0,a.jsx)(n.code,{children:"minute"}),",",(0,a.jsx)(n.code,{children:"hour"}),",",(0,a.jsx)(n.code,{children:"day"}),",",(0,a.jsx)(n.code,{children:"week"}),",",(0,a.jsx)(n.code,{children:"month"}),",",(0,a.jsx)(n.code,{children:"quarter"}),",",(0,a.jsx)(n.code,{children:"year"}),"]"]})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,a.jsx)(n.p,{children:"Returns a truncated result with the same type as datetime:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"When input is DATE, returns DATE ;"}),"\n",(0,a.jsx)(n.li,{children:"When input is DATETIME or a time-containing string, returns DATETIME (including the date and the truncated time)."}),"\n",(0,a.jsxs)(n.li,{children:["If the input is of TIMESTAMPTZ type, it will first be converted to local_time (for example, in the case where the session variable is ",(0,a.jsx)(n.code,{children:"+08:00"}),", the local_time represented by ",(0,a.jsx)(n.code,{children:"2025-12-31 23:59:59+05:00"})," is ",(0,a.jsx)(n.code,{children:"2026-01-01 02:59:59"}),"), and then the truncation operation will be performed."]}),"\n",(0,a.jsx)(n.li,{children:"For datetime types with scale, the fractional part will be truncated to zero but the scale will be preserved in the return value."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Special cases:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Returns NULL if any parameter is NULL;"}),"\n",(0,a.jsx)(n.li,{children:"Returns an error if time_unit is not supported."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"-- Truncate by second, minute, hour, day, week, month, quarter, year\nmysql> select date_trunc(cast('2010-12-02 19:28:30' as datetime), 'second');\n\n+---------------------------------------------------------------+\n| date_trunc(cast('2010-12-02 19:28:30' as datetime), 'second') |\n+---------------------------------------------------------------+\n| 2010-12-02 19:28:30                                           |\n+---------------------------------------------------------------+\n\nselect date_trunc('2010-12-02 19:28:30', 'minute');\n\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30', 'minute')     |\n+-------------------------------------------------+\n| 2010-12-02 19:28:00                             |\n+-------------------------------------------------+\n\nselect date_trunc('2010-12-02 19:28:30', 'hour');\n\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30', 'hour')       |\n+-------------------------------------------------+\n| 2010-12-02 19:00:00                             |\n+-------------------------------------------------+\n\nselect date_trunc('2010-12-02 19:28:30', 'day');\n\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30', 'day')        |\n+-------------------------------------------------+\n| 2010-12-02 00:00:00                             |\n+-------------------------------------------------+\n\nselect date_trunc('2023-4-05 19:28:30', 'week');\n\n+-------------------------------------------+\n| date_trunc('2023-04-05 19:28:30', 'week') |\n+-------------------------------------------+\n| 2023-04-03 00:00:00                       |\n+-------------------------------------------+\n\nselect date_trunc(cast('2010-12-02' as date), 'month');\n+-------------------------------------------------+\n| date_trunc(cast('2010-12-02' as date), 'month') |\n+-------------------------------------------------+\n| 2010-12-01                                      |\n+-------------------------------------------------+\n\nselect date_trunc('2010-12-02 19:28:30', 'quarter');\n\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30', 'quarter')    |\n+-------------------------------------------------+\n| 2010-10-01 00:00:00                             |\n+-------------------------------------------------+\n\nselect date_trunc('2010-12-02 19:28:30', 'year');\n\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30', 'year')       |\n+-------------------------------------------------+\n| 2010-01-01 00:00:00                             |\n+-------------------------------------------------+\n\n-- For datetime with scale, fractional digits will be truncated to zero without rounding, but return value retains scale\nmysql> select date_trunc('2010-12-02 19:28:30.523', 'second');\n+-------------------------------------------------+\n| date_trunc('2010-12-02 19:28:30.523', 'second') |\n+-------------------------------------------------+\n| 2010-12-02 19:28:30.000                         |\n+-------------------------------------------------+\n\n-- Example of TimeStampTz type, SET time_zone = '+08:00'\n-- Convert the variable value to local_time(2026-01-01 02:59:59) before truncation\nSELECT DATE_TRUNC('2025-12-31 23:59:59+05:00', 'year');\n+-------------------------------------------------+\n| DATE_TRUNC('2025-12-31 23:59:59+05:00', 'year') |\n+-------------------------------------------------+\n| 2026-01-01 00:00:00+08:00                       |\n+-------------------------------------------------+\n\n-- Unsupported unit, returns error\nselect date_trunc('2010-12-02 19:28:30', 'quar');\nERROR 1105 (HY000): errCode = 2, detailMessage = date_trunc function time unit param only support argument is year|quarter|month|week|day|hour|minute|second\n"})})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return s}});var i=t(667294);let a={},r=i.createContext(a);function s(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);