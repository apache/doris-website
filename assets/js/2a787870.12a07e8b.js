"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["515461"],{894347:function(e,n,t){t.r(n),t.d(n,{default:()=>d,frontMatter:()=>i,metadata:()=>s,assets:()=>u,toc:()=>l,contentTitle:()=>o});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/hours-sub","title":"HOURS_SUB","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/date-time-functions/hours-sub.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/hours-sub","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/hours-sub","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"HOURS_SUB","language":"en"},"sidebar":"docs","previous":{"title":"HOURS_DIFF","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/hours-diff"},"next":{"title":"LAST_DAY","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/last-day"}}'),r=t("785893"),a=t("250065");let i={title:"HOURS_SUB",language:"en"},o=void 0,u={},l=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"The HOURS_SUB function subtracts a specified number of hours from an input date or datetime value and returns the calculated new datetime. This function supports both DATE and DATETIME input types. If the input is DATE type (containing only year, month, day), it defaults the time part to 00:00:00."}),"\n",(0,r.jsxs)(n.p,{children:["This function is consistent with the ",(0,r.jsx)(n.a,{href:"./date-sub",children:"date_sub function"})," and ",(0,r.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/date-and-time-functions.html#function_date-sub",children:"date_sub function"})," in MySQL when using the ",(0,r.jsx)(n.code,{children:"HOUR"})," unit."]}),"\n",(0,r.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"HOURS_SUB(`<date_or_time_expr>`, `<hours>`)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<date_or_time_expr>"})}),(0,r.jsxs)(n.td,{children:["A valid date expression that supports date/datetime types. For specific datetime and date formats, please refer to ",(0,r.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,r.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<hours>"})}),(0,r.jsx)(n.td,{children:"The number of hours to subtract, of INT type"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsx)(n.p,{children:"Returns a DATETIME type value representing the datetime after adding or subtracting the specified hours (format: YYYY-MM-DD HH:MM:SS)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If the calculation result exceeds the valid range of DATETIME type (0000-01-01 00:00:00 to 9999-12-31 23:59:59), returns an error."}),"\n",(0,r.jsx)(n.li,{children:"If any input parameter is NULL, returns NULL."}),"\n",(0,r.jsx)(n.li,{children:"If input hours is negative, returns the datetime plus the corresponding number of hours."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n-- Subtract positive hours\nSELECT HOURS_SUB('2020-02-02 02:02:02', 1);\n+------------------------------------------------------------+\n| hours_sub(cast('2020-02-02 02:02:02' as DATETIMEV2(0)), 1) |\n+------------------------------------------------------------+\n| 2020-02-02 01:02:02                                        |\n+------------------------------------------------------------+\n\n-- Subtract hours from date type\nselect hours_sub('2023-10-01', 12);\n+-----------------------------+\n| hours_sub('2023-10-01', 12) |\n+-----------------------------+\n| 2023-09-30 12:00:00         |\n+-----------------------------+\n\n-- Input hours is negative, returns datetime plus hours\nselect hours_sub('2023-10-01 10:00:00', -3);\n+--------------------------------------+\n| hours_sub('2023-10-01 10:00:00', -3) |\n+--------------------------------------+\n| 2023-10-01 13:00:00                  |\n+--------------------------------------+\n\n-- Any parameter is NULL, return NULL\nselect hours_sub('2023-10-01 10:00:00', NULL);\n+----------------------------------------+\n| hours_sub('2023-10-01 10:00:00', NULL) |\n+----------------------------------------+\n| NULL                                   |\n+----------------------------------------+\n\n-- Exceeds datetime range, return NULL\nmysql> select hours_sub('9999-12-31 12:00:00', -20);\nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.2)[E-218]Operation hours_add of 9999-12-31 12:00:00, 20 out of range\n\nmysql> select hours_sub('0000-01-01 12:00:00', 20);\nERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.2)[E-218]Operation hours_add of 0000-01-01 12:00:00, -20 out of range\n"})})]})}function d(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return o},a:function(){return i}});var s=t(667294);let r={},a=s.createContext(r);function i(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);