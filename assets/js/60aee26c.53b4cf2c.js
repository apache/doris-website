"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["159513"],{92531:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>l,assets:()=>t,toc:()=>d,contentTitle:()=>a});var l=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/array-functions/array-split","title":"ARRAY_SPLIT","description":"Split the input array into multiple subarrays according to given boolean flags.","source":"@site/docs/sql-manual/sql-functions/scalar-functions/array-functions/array-split.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/array-functions","slug":"/sql-manual/sql-functions/scalar-functions/array-functions/array-split","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-split","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"ARRAY_SPLIT","language":"en-US","description":"Split the input array into multiple subarrays according to given boolean flags."},"sidebar":"docs","previous":{"title":"ARRAY_SORTBY","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-sortby"},"next":{"title":"ARRAY_SUM","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-sum"}}'),r=s("785893"),i=s("250065");let c={title:"ARRAY_SPLIT",language:"en-US",description:"Split the input array into multiple subarrays according to given boolean flags."},a=void 0,t={},d=[{value:"Function",id:"function",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return value",id:"return-value",level:2},{value:"Usage notes",id:"usage-notes",level:2},{value:"Examples",id:"examples",level:2}];function o(e){let n={code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"function",children:"Function"}),"\n",(0,r.jsx)(n.p,{children:"Split the input array into multiple subarrays according to given boolean flags."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Splitting rule (left to right): for ",(0,r.jsx)(n.code,{children:"arr=[a1,a2,...,an]"})," and ",(0,r.jsx)(n.code,{children:"flags=[f1,f2,...,fn]"}),", at every position where ",(0,r.jsx)(n.code,{children:"fi==true"}),", split between ",(0,r.jsx)(n.code,{children:"ai"})," and ",(0,r.jsx)(n.code,{children:"a(i-1)"}),".\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For example, with ",(0,r.jsx)(n.code,{children:"arr=[3, 4, 5]"})," and ",(0,r.jsx)(n.code,{children:"flags=[false, true, false]"}),", the second flag is true, so split between the first and second elements, resulting in two subarrays ",(0,r.jsx)(n.code,{children:"[3]"})," and ",(0,r.jsx)(n.code,{children:"[4,5]"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(arr, flags)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(lambda, arr0, ...)"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(lambda, arr0, ...)"})," is equivalent to ",(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(arr0, ARRAY_MAP(lambda, arr0, ...))"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"arr"}),": ",(0,r.jsx)(n.code,{children:"ARRAY<T>"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"flags"}),": ",(0,r.jsx)(n.code,{children:"ARRAY<BOOLEAN>"}),", whose length must match that of ",(0,r.jsx)(n.code,{children:"arr"})," row by row. ",(0,r.jsx)(n.code,{children:"true"})," means split between the current position and the next element."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"arr0, ..."}),": one or more ",(0,r.jsx)(n.code,{children:"ARRAY<T>"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"lambda"}),": a ",(0,r.jsx)(n.code,{children:"lambda"})," expression applied to ",(0,r.jsx)(n.code,{children:"arr0, ..."})," to produce ",(0,r.jsx)(n.code,{children:"flags"}),", which are then used for splitting."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"return-value",children:"Return value"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Returns ",(0,r.jsx)(n.code,{children:"ARRAY<ARRAY<T>>"}),". Elements of inner arrays are the same as those of ",(0,r.jsx)(n.code,{children:"arr"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["If the element counts of ",(0,r.jsx)(n.code,{children:"arr"})," and ",(0,r.jsx)(n.code,{children:"flags"})," do not match, an error is thrown."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-notes",children:"Usage notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If a position in ",(0,r.jsx)(n.code,{children:"flags"})," is ",(0,r.jsx)(n.code,{children:"NULL"}),", it is treated as no split (equivalent to ",(0,r.jsx)(n.code,{children:"false"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["The splitting rule of ",(0,r.jsx)(n.code,{children:"ARRAY_SPLIT"})," is: at each position where ",(0,r.jsx)(n.code,{children:"fi==true"}),", split between ",(0,r.jsx)(n.code,{children:"ai"})," and ",(0,r.jsx)(n.code,{children:"a(i-1)"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The splitting rule of ",(0,r.jsx)(n.code,{children:"ARRAY_REVERSE_SPLIT"})," is: at each position where ",(0,r.jsx)(n.code,{children:"fi==true"}),", split between ",(0,r.jsx)(n.code,{children:"ai"})," and ",(0,r.jsx)(n.code,{children:"a(i+1)"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Basic splitting: at each ",(0,r.jsx)(n.code,{children:"true"})," position, split from the left side neighbor."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT([1,2,3,4,5], [false,true,false,true,false])"})," -> ",(0,r.jsx)(n.code,{children:"[[1], [2, 3], [4, 5]]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(['a','b','c'], [false,false,false])"})," -> ",(0,r.jsx)(n.code,{children:"[['a','b','c']]"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["With ",(0,r.jsx)(n.code,{children:"NULL"})," in ",(0,r.jsx)(n.code,{children:"flags"}),": ",(0,r.jsx)(n.code,{children:"NULL"})," is treated the same as ",(0,r.jsx)(n.code,{children:"false"})," (no split)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT([1,NULL,3], [false,null,false])"})," -> ",(0,r.jsx)(n.code,{children:"[[1,[NULL,3]]"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"lambda= x -> x-1"})," applied to ",(0,r.jsx)(n.code,{children:"arr0=[1, 2, 3]"})," produces ",(0,r.jsx)(n.code,{children:"flags=[0,1,2]"}),", equivalent to ",(0,r.jsx)(n.code,{children:"flags=[false,true,true]"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT(x->x-1, [1, 2, 3])"})," is equivalent to ",(0,r.jsx)(n.code,{children:"ARRAY_SPLIT([1, 2, 3], [false,true,true])"})," -> ",(0,r.jsx)(n.code,{children:"[[1], [2], [3]]"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"lambda= (x,y) -> x-y"})," applied to ",(0,r.jsx)(n.code,{children:"arr0=[1, 2, 3]"})," and ",(0,r.jsx)(n.code,{children:"arr1=[0,1,2]"})," produces ",(0,r.jsx)(n.code,{children:"flags=[true,true,true]"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ARRAY_SPLIT((x,y) -> x-y, [1, 2, 3], [0, 1, 2])"})," is equivalent to ",(0,r.jsx)(n.code,{children:"ARRAY_SPLIT([1, 2, 3], [true,true,true])"})," -> ",(0,r.jsx)(n.code,{children:"[[1], [2], [3]]"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return a},a:function(){return c}});var l=s(667294);let r={},i=l.createContext(r);function c(e){let n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);