"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["9490"],{476177:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>r,assets:()=>t,toc:()=>l,contentTitle:()=>c});var r=JSON.parse('{"id":"admin-manual/open-api/fe-http/node-action","title":"Node Operations","description":"Request","source":"@site/docs/admin-manual/open-api/fe-http/node-action.md","sourceDirName":"admin-manual/open-api/fe-http","slug":"/admin-manual/open-api/fe-http/node-action","permalink":"/docs/dev/admin-manual/open-api/fe-http/node-action","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Node Operations","language":"en"},"sidebar":"docs","previous":{"title":"Cluster Action","permalink":"/docs/dev/admin-manual/open-api/fe-http/cluster-action"},"next":{"title":"Query Profile Action","permalink":"/docs/dev/admin-manual/open-api/fe-http/query-profile-action"}}'),d=s("785893"),o=s("250065");let i={title:"Node Operations",language:"en"},c=void 0,t={},l=[{value:"Request",id:"request",level:2},{value:"Get fe, be, broker Node Information",id:"get-fe-be-broker-node-information",level:2},{value:"Description",id:"description",level:3},{value:"Response",id:"response",level:3},{value:"Get Node Configuration Information",id:"get-node-configuration-information",level:2},{value:"Description",id:"description-1",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Request Body",id:"request-body",level:3},{value:"Response",id:"response-1",level:3},{value:"Examples",id:"examples",level:3},{value:"Modify Configuration Values",id:"modify-configuration-values",level:2},{value:"Description",id:"description-2",level:3},{value:"Request body",id:"request-body-1",level:3},{value:"Response",id:"response-2",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Operate be Nodes",id:"operate-be-nodes",level:2},{value:"Description",id:"description-3",level:3},{value:"Request body",id:"request-body-2",level:3},{value:"Response",id:"response-3",level:3},{value:"Examples",id:"examples-2",level:3},{value:"Operate fe Nodes",id:"operate-fe-nodes",level:2},{value:"Description",id:"description-4",level:3},{value:"Request body",id:"request-body-3",level:3},{value:"Response",id:"response-4",level:3},{value:"Examples",id:"examples-3",level:3},{value:"Operate broker Nodes",id:"operate-broker-nodes",level:2},{value:"Description",id:"description-5",level:3},{value:"Request body",id:"request-body-4",level:3},{value:"Response",id:"response-5",level:3},{value:"Examples",id:"examples-4",level:3}];function a(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"request",children:"Request"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/frontends"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/backends"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/brokers"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/set_config/be"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/be"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/fe"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/broker"})," (3.0.7+)"]}),"\n",(0,d.jsx)(n.h2,{id:"get-fe-be-broker-node-information",children:"Get fe, be, broker Node Information"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/frontends"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/backends"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/brokers"})}),"\n",(0,d.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Used to get fe, be, broker node information from the cluster."}),"\n",(0,d.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'frontends:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "Name",\n            "IP",\n            "HostName",\n            "EditLogPort",\n            "HttpPort",\n            "QueryPort",\n            "RpcPort",\n            "ArrowFlightSqlPort",\n            "Role",\n            "IsMaster",\n            "ClusterId",\n            "Join",\n            "Alive",\n            "ReplayedJournalId",\n            "LastHeartbeat",\n            "IsHelper",\n            "ErrMsg",\n            "Version"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'backends:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "BackendId",\n            "Cluster",\n            "IP",\n            "HostName",\n            "HeartbeatPort",\n            "BePort",\n            "HttpPort",\n            "BrpcPort",\n            "LastStartTime",\n            "LastHeartbeat",\n            "Alive",\n            "SystemDecommissioned",\n            "ClusterDecommissioned",\n            "TabletNum",\n            "DataUsedCapacity",\n            "AvailCapacity",\n            "TotalCapacity",\n            "UsedPct",\n            "MaxDiskUsedPct",\n            "ErrMsg",\n            "Version",\n            "Status"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'brokers:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "Name",\n            "IP",\n            "HostName",\n            "Port",\n            "Alive",\n            "LastStartTime",\n            "LastUpdateTime",\n            "ErrMsg"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"get-node-configuration-information",children:"Get Node Configuration Information"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(n.h3,{id:"description-1",children:"Description"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"configuration_name"})," is used to get node configuration item names."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"node_list"})," is used to get the node list."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"configuration_info"})," is used to get detailed node configuration information."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"type"}),"\n",(0,d.jsx)(n.p,{children:"Value is fe or be, used to specify getting fe configuration information or be configuration information."}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"request-body",children:"Request Body"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n	"conf_name": [\n		""\n	],\n	"node": [\n		""\n	]\n}\n\nIf no body is provided, all parameters in the body use default values.  \n\nconf_name is used to specify which configuration items\' information to return, defaults to returning all configuration items\' information;\n\nnode is used to specify which nodes\' configuration item information to return, defaults to all fe nodes or be nodes configuration item information.\n'})}),"\n",(0,d.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "backend":[\n            ""\n        ],\n        "frontend":[\n            ""\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "backend": [\n            ""\n        ],\n        "frontend": [\n            ""\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info?type=fe"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "MasterOnly",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                ""\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info?type=be"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                ""\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Get fe ",(0,d.jsx)(n.code,{children:"agent_task_resend_wait_time_ms"})," configuration item information:"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/configuration_info?type=fe"})}),"\n",(0,d.jsx)(n.p,{children:"Body:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "conf_name":[\n        "agent_task_resend_wait_time_ms"\n    ]\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "MasterOnly",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                "agent_task_resend_wait_time_ms",\n                "127.0.0.1:8030",\n                "FE",\n                "long",\n                "true",\n                "50000",\n                "true"\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"modify-configuration-values",children:"Modify Configuration Values"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/set_config/be"})}),"\n",(0,d.jsx)(n.h3,{id:"description-2",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Used to modify fe or be node configuration values"}),"\n",(0,d.jsx)(n.h3,{id:"request-body-1",children:"Request body"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n	"config_name":{\n		"node":[\n			""\n		],\n		"value":"",\n		"persist":\n	}\n}\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"config_name"})," is the corresponding configuration item;"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"node"})," is a keyword, indicating the list of nodes to be modified;"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"value"})," is the configuration value;"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"persist"})," is true for permanent modification, false for temporary modification. Permanent modification takes effect after restart, temporary modification becomes invalid after restart."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n	"msg": "",\n	"code": 0,\n	"data": {\n		"failed":[\n			{\n				"config_name":"name",\n				"value"="",\n				"node":"",\n				"err_info":""\n			}\n		]\n	},\n	"count": 0\n}\n\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"failed"})," indicates configuration information that failed to modify."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Modify ",(0,d.jsx)(n.code,{children:"agent_task_resend_wait_time_ms"})," and ",(0,d.jsx)(n.code,{children:"alter_table_timeout_second"})," configuration values in fe 127.0.0.1:8030 node:"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(n.p,{children:"Body:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "agent_task_resend_wait_time_ms":{\n        "node":[\n	    	"127.0.0.1:8030"\n	    ],\n	    "value":"10000",\n	    "persist":"true"\n    },\n    "alter_table_timeout_second":{\n        "node":[\n	    	"127.0.0.1:8030"\n	    ],\n	    "value":"true",\n	    "persist":"true"\n    }\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "failed": [\n            {\n                "config_name": "alter_table_timeout_second",\n                "node": "10.81.85.89:8837",\n                "err_info": "Unsupported configuration value type.",\n                "value": "true"\n            }\n        ]\n    },\n    "count": 0\n}\n\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"agent_task_resend_wait_time_ms"})," configuration value was modified successfully, ",(0,d.jsx)(n.code,{children:"alter_table_timeout_second"})," modification failed."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"operate-be-nodes",children:"Operate be Nodes"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/be"})}),"\n",(0,d.jsx)(n.h3,{id:"description-3",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Used to add/drop/decommission be nodes"}),"\n",(0,d.jsx)(n.p,{children:"action\uFF1AADD/DROP/DECOMMISSION"}),"\n",(0,d.jsx)(n.h3,{id:"request-body-2",children:"Request body"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"],\n    "properties": {\n        "tag.location": "test"\n    }\n}\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"hostPorts"})," a group of be node addresses to operate ",(0,d.jsx)(n.code,{children:"ip:heartbeat_port"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"properties"})," configuration passed when adding nodes, currently only used for configuring tag, uses default tag if not passed"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = Same backend already exists[127.0.0.1:9050]",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Add be node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/ADD/be"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Drop be node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/DROP/be"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Decommission be node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/DECOMMISSION/be"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"operate-fe-nodes",children:"Operate fe Nodes"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/fe"})}),"\n",(0,d.jsx)(n.h3,{id:"description-4",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Used to add/drop fe nodes"}),"\n",(0,d.jsx)(n.p,{children:"action\uFF1AADD/DROP"}),"\n",(0,d.jsx)(n.h3,{id:"request-body-3",children:"Request body"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n\nrole FOLLOWER/OBSERVER\nhostPort fe node address to operate ip:edit_log_port\n'})}),"\n",(0,d.jsx)(n.h3,{id:"response-4",children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = frontend already exists name: 127.0.0.1:9030_1670495889415, role: FOLLOWER, 127.0.0.1:9030",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"examples-3",children:"Examples"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Add FOLLOWER node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/ADD/fe"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Drop FOLLOWER node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/DROP/fe"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"operate-broker-nodes",children:"Operate broker Nodes"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/{action}/broker"})}),"\n",(0,d.jsx)(n.p,{children:"Supported since 3.0.7."}),"\n",(0,d.jsx)(n.h3,{id:"description-5",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Used to add/drop broker nodes"}),"\n",(0,d.jsx)(n.p,{children:"action\uFF1AADD/DROP/DROP_ALL"}),"\n",(0,d.jsx)(n.h3,{id:"request-body-4",children:"Request body"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "brokerName": "your_broker_name",\n    "hostPortList": "broker_ip:broker_port"\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"response-5",children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = xxxx",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"examples-4",children:"Examples"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Add BROKER node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/ADD/broker"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": "127.0.0.1:8001"\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Drop BROKER node"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/DROP/broker"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": "127.0.0.1:8001"\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Drop a group of BROKER nodes"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"POST /rest/v2/manager/node/DROP_ALL/broker"})}),"\n",(0,d.jsx)(n.p,{children:"Request"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": ""\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Response"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return i}});var r=s(667294);let d={},o=r.createContext(d);function i(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);