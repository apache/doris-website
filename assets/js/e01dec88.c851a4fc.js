"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["524778"],{377126:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>a,metadata:()=>i,assets:()=>l,toc:()=>c,contentTitle:()=>d});var i=JSON.parse('{"id":"sql-manual/sql-statements/table-and-view/index/CREATE-INDEX","title":"CREATE INDEX","description":"Create a new index on a table. The table name and index name must be specified. Optionally, you can specify the index type, properties, and comments.","source":"@site/versioned_docs/version-4.x/sql-manual/sql-statements/table-and-view/index/CREATE-INDEX.md","sourceDirName":"sql-manual/sql-statements/table-and-view/index","slug":"/sql-manual/sql-statements/table-and-view/index/CREATE-INDEX","permalink":"/docs/4.x/sql-manual/sql-statements/table-and-view/index/CREATE-INDEX","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"CREATE INDEX","language":"en","description":"Create a new index on a table. The table name and index name must be specified. Optionally, you can specify the index type, properties, and comments."},"sidebar":"docs","previous":{"title":"ALTER COLOCATE GROUP","permalink":"/docs/4.x/sql-manual/sql-statements/table-and-view/table/ALTER-COLOCATE-GROUP"},"next":{"title":"DROP INDEX","permalink":"/docs/4.x/sql-manual/sql-statements/table-and-view/index/DROP-INDEX"}}'),s=t("785893"),r=t("250065");let a={title:"CREATE INDEX",language:"en",description:"Create a new index on a table. The table name and index name must be specified. Optionally, you can specify the index type, properties, and comments."},d=void 0,l={},c=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Required Parameters",id:"required-parameters",level:2},{value:"Optional Parameters",id:"optional-parameters",level:2},{value:"Access Control Requirements",id:"access-control-requirements",level:2},{value:"Usage Notes",id:"usage-notes",level:2},{value:"Examples",id:"examples",level:2}];function o(e){let n={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"Create a new index on a table. The table name and index name must be specified. Optionally, you can specify the index type, properties, and comments."}),"\n",(0,s.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'CREATE INDEX [IF NOT EXISTS] <index_name> \n             ON <table_name> (<column_name> [, ...])\n             [USING {INVERTED | NGRAM_BF | ANN}]\n             [PROPERTIES ("<key>" = "<value>"[ , ...])]\n             [COMMENT \'<index_comment>\']\n'})}),"\n",(0,s.jsx)(n.h2,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["1. ",(0,s.jsx)(n.code,{children:"<index_name>"})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specifies the identifier (i.e., name) of the index, which must be unique within its table."}),"\n",(0,s.jsxs)(n.p,{children:["The identifier must start with a letter character (if Unicode name support is enabled, it can be any character from any language) and cannot contain spaces or special characters unless the entire identifier string is enclosed in backticks (e.g., ",(0,s.jsx)(n.code,{children:"My Object"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"The identifier cannot be a reserved keyword."}),"\n",(0,s.jsx)(n.p,{children:"For more details, refer to the requirements for identifiers and reserved keywords."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["2. ",(0,s.jsx)(n.code,{children:"<table_name>"})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specifies the identifier (i.e., name) of the table, which must be unique within its database."}),"\n",(0,s.jsxs)(n.p,{children:["The identifier must start with a letter character (if Unicode name support is enabled, it can be any character from any language) and cannot contain spaces or special characters unless the entire identifier string is enclosed in backticks (e.g., ",(0,s.jsx)(n.code,{children:"My Object"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"The identifier cannot be a reserved keyword."}),"\n",(0,s.jsx)(n.p,{children:"For more details, refer to the requirements for identifiers and reserved keywords."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["3. ",(0,s.jsx)(n.code,{children:"<column_name> [, ...]"})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specifies the columns on which the index is created (currently only one column is supported), and the column must be unique within its table."}),"\n",(0,s.jsxs)(n.p,{children:["The identifier must start with a letter character (if Unicode name support is enabled, it can be any character from any language) and cannot contain spaces or special characters unless the entire identifier string is enclosed in backticks (e.g., ",(0,s.jsx)(n.code,{children:"My Object"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"The identifier cannot be a reserved keyword."}),"\n",(0,s.jsx)(n.p,{children:"For more details, refer to the requirements for identifiers and reserved keywords."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"optional-parameters",children:"Optional Parameters"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["1. ",(0,s.jsx)(n.code,{children:"USING {INVERTED | NGRAM_BF}"})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Specifies the index type. Currently, two types are supported: ",(0,s.jsx)(n.strong,{children:"INVERTED"})," (inverted index) and ",(0,s.jsx)(n.strong,{children:"NGRAM_BF"})," (ngram bloomfilter index)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["2. ",(0,s.jsx)(n.code,{children:'PROPERTIES ("<key>" = "<value>"[ ,  ...])'})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specifies the parameters of the index using the general PROPERTIES format. For the parameters and semantics supported by each index, refer to the documentation for the specific index type."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["3. ",(0,s.jsx)(n.code,{children:"COMMENT '<index_comment>'"})]})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specifies a comment for the index to facilitate maintenance."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"access-control-requirements",children:"Access Control Requirements"}),"\n",(0,s.jsx)(n.p,{children:"The user executing this SQL command must have at least the following permissions:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Privilege"}),(0,s.jsx)(n.th,{children:"Object"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ALTER_PRIV"}),(0,s.jsx)(n.td,{children:"Table"}),(0,s.jsx)(n.td,{children:"CREATE INDEX is considered an ALTER operation on the table"})]})})]}),"\n",(0,s.jsx)(n.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"INVERTED"})," inverted index takes effect immediately for newly inserted data. For historical data, the index needs to be built using the BUILD INDEX operation."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"NGRAM_BF"})," NGram BloomFilter index will perform a schema change in the background on all data to complete the index construction after creation. The progress can be checked using SHOW ALTER TABLE COLUMN."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create an inverted index ",(0,s.jsx)(n.code,{children:"index1"})," on ",(0,s.jsx)(n.code,{children:"table1"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX index1 ON table1 USING INVERTED;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create an NGram BloomFilter index ",(0,s.jsx)(n.code,{children:"index2"})," on ",(0,s.jsx)(n.code,{children:"table1"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'CREATE INDEX index2 ON table1 USING NGRAM_BF PROPERTIES("gram_size"="3", "bf_size"="1024");\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create an ANN index ",(0,s.jsx)(n.code,{children:"index3"})," on ",(0,s.jsx)(n.code,{children:"table1"})," (",(0,s.jsx)(n.code,{children:"embedding"}),") vector column."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'CREATE INDEX index3 ON table1 (`embedding`) USING ANN PROPERTIES(\n  "index_type"="hnsw",\n  "metric_type"="l2_distance",\n  "dim"="128"\n);\n'})}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return a}});var i=t(667294);let s={},r=i.createContext(s);function a(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);