"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["491706"],{333927:function(n,e,r){r.r(e),r.d(e,{default:()=>u,frontMatter:()=>i,metadata:()=>a,assets:()=>o,toc:()=>c,contentTitle:()=>t});var a=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/array-functions/array-join","title":"ARRAY_JOIN","description":"array_join","source":"@site/docs/sql-manual/sql-functions/scalar-functions/array-functions/array-join.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/array-functions","slug":"/sql-manual/sql-functions/scalar-functions/array-functions/array-join","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-join","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"ARRAY_JOIN","language":"en-US"},"sidebar":"docs","previous":{"title":"ARRAY_INTERSECT","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-intersect"},"next":{"title":"ARRAY_LAST","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-last"}}'),s=r("785893"),l=r("250065");let i={title:"ARRAY_JOIN",language:"en-US"},t=void 0,o={},c=[{value:"array_join",id:"array_join",level:2},{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Return Value",id:"return-value",level:3},{value:"Keywords",id:"keywords",level:3}];function d(n){let e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",t:"t",ul:"ul",version:"version",...(0,l.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"array_join",children:"array_join"}),"\n",(0,s.jsx)(e.version,{since:"2.0.0",children:"\n"}),"\n",(0,s.jsx)(e.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(e.p,{children:"Joins the elements of an array into a string. The function converts all elements in the array to strings and then concatenates them with the specified separator."}),"\n",(0,s.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"array_join(ARRAY<T> arr, STRING separator [, STRING null_replacement])\n"})}),"\n",(0,s.jsx)(e.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"arr"}),"\uFF1AARRAY",(0,s.jsx)(e.t,{children:" type, the array to be joined"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"separator"}),"\uFF1ASTRING type, required parameter, the separator used to separate array elements"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"null_replacement"}),"\uFF1ASTRING type, optional parameter, the string used to replace null values in the array. If this parameter is not provided, null values will be skipped"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Supported types for T:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Numeric types: TINYINT, SMALLINT, INT, BIGINT, LARGEINT, FLOAT, DOUBLE, DECIMAL"}),"\n",(0,s.jsx)(e.li,{children:"String types: CHAR, VARCHAR, STRING"}),"\n",(0,s.jsx)(e.li,{children:"Date and time types: DATE, DATETIME, DATEV2, DATETIMEV2"}),"\n",(0,s.jsx)(e.li,{children:"Boolean type: BOOLEAN"}),"\n",(0,s.jsx)(e.li,{children:"IP types: IPV4, IPV6"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"return-value",children:"Return Value"}),"\n",(0,s.jsx)(e.p,{children:"Return type: STRING"}),"\n",(0,s.jsx)(e.p,{children:"Return value meaning:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Returns a string containing all elements of the array, joined with the separator"}),"\n",(0,s.jsx)(e.li,{children:"NULL: if the input array is NULL"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Usage notes:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"The function converts each element in the array to a string and joins them with the specified separator"}),"\n",(0,s.jsxs)(e.li,{children:["For null values in array elements:\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["If the ",(0,s.jsx)(e.code,{children:"null_replacement"})," parameter is provided, null elements will be replaced with that string"]}),"\n",(0,s.jsxs)(e.li,{children:["If the ",(0,s.jsx)(e.code,{children:"null_replacement"})," parameter is not provided, null elements will be skipped"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Empty arrays return empty strings"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Query Examples:"})}),"\n",(0,s.jsx)(e.p,{children:"Join arrays with a separator:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([1, 2, 3, 4, 5], ',');\n+--------------------------------------+\n| array_join([1, 2, 3, 4, 5], ',')    |\n+--------------------------------------+\n| 1,2,3,4,5                           |\n+--------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Join string arrays with a space separator:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join(['hello', 'world', 'doris'], ' ');\n+--------------------------------------------------+\n| array_join(['hello', 'world', 'doris'], ' ')    |\n+--------------------------------------------------+\n| hello world doris                                |\n+--------------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Join arrays containing null values (null values are skipped):"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([1, null, 3, null, 5], '-');\n+--------------------------------------------+\n| array_join([1, null, 3, null, 5], '-')    |\n+--------------------------------------------+\n| 1-3-5                                      |\n+--------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Replace null values using the null_replacement parameter:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([1, null, 3, null, 5], '-', 'NULL');\n+--------------------------------------------------+\n| array_join([1, null, 3, null, 5], '-', 'NULL')  |\n+--------------------------------------------------+\n| 1-NULL-3-NULL-5                                 |\n+--------------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Join float arrays:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([1.1, 2.2, 3.3], ' | ');\n+------------------------------------------+\n| array_join([1.1, 2.2, 3.3], ' | ')      |\n+------------------------------------------+\n| 1.1 | 2.2 | 3.3                         |\n+------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Join date arrays:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join(CAST(['2023-01-01', '2023-06-15', '2023-12-31'] AS ARRAY<DATETIME>), ' to ');\n+-----------------------------------------------------------------------------------------+\n| array_join(CAST(['2023-01-01', '2023-06-15', '2023-12-31'] AS ARRAY<DATETIME>), ' to ') |\n+-----------------------------------------------------------------------------------------+\n| 2023-01-01 00:00:00 to 2023-06-15 00:00:00 to 2023-12-31 00:00:00                       |\n+-----------------------------------------------------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Join IP address arrays:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join(CAST(['192.168.1.1', '192.168.1.2', '192.168.1.3'] AS ARRAY<IPV4>), ' -> ');\n+----------------------------------------------------------------------------------+\n| array_join(CAST(['192.168.1.1', '192.168.1.2', '192.168.1.3'] AS ARRAY<IPV4>), ' -> ') |\n+----------------------------------------------------------------------------------+\n| 192.168.1.1 -> 192.168.1.2 -> 192.168.1.3                                       |\n+----------------------------------------------------------------------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Empty arrays return empty strings:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([], ',');\n+----------------------+\n| array_join([], ',')  |\n+----------------------+\n|                      |\n+----------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"NULL arrays return NULL:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join(NULL, ',');\n+----------------------+\n| array_join(NULL, ',') |\n+----------------------+\n| NULL                 |\n+----------------------+\n"})}),"\n",(0,s.jsx)(e.p,{children:"Error when passing complex types:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([{'name':'Alice','age':20}, {'name':'Bob','age':30}], '; ');\nERROR 1105 (HY000): errCode = 2, detailMessage = can not cast from origin type ARRAY<MAP<TEXT,TEXT>> to target type=ARRAY<VARCHAR(65533)>\n"})}),"\n",(0,s.jsx)(e.p,{children:"Error with wrong number of parameters:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join([1,2,3], ',', 'extra', 'too_many');\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not found function 'array_join' which has 4 arity. Candidate functions are: [array_join(Expression, Expression, Expression), array_join(Expression, Expression)]\n"})}),"\n",(0,s.jsx)(e.p,{children:"Error when passing non-array types:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT array_join('not_an_array', ',');\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not find the compatibility function signature: array_join(VARCHAR(12), VARCHAR(1))\n"})}),"\n",(0,s.jsx)(e.h3,{id:"keywords",children:"Keywords"}),"\n",(0,s.jsx)(e.p,{children:"ARRAY, JOIN, ARRAY_JOIN"})]})}function u(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},250065:function(n,e,r){r.d(e,{Z:function(){return t},a:function(){return i}});var a=r(667294);let s={},l=a.createContext(s);function i(n){let e=a.useContext(l);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),a.createElement(l.Provider,{value:e},n.children)}}}]);