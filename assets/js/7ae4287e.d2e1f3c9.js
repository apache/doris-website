"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["67574"],{223372:function(e,n,i){i.r(n),i.d(n,{default:()=>u,frontMatter:()=>a,metadata:()=>r,assets:()=>d,toc:()=>h,contentTitle:()=>c});var r=JSON.parse('{"id":"source-install/compilation-arm","title":"Compiling with Arm","description":"{/* Licensed to the Apache Software Foundation (ASF) under one","source":"@site/community/source-install/compilation-arm.mdx","sourceDirName":"source-install","slug":"/source-install/compilation-arm","permalink":"/community/source-install/compilation-arm","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Compiling with Arm","language":"en"},"sidebar":"community","previous":{"title":"Compiling on Linux","permalink":"/community/source-install/compilation-linux"},"next":{"title":"Compiling on Windows","permalink":"/community/source-install/compilation-win"}}'),l=i("785893"),s=i("250065"),t=i("247902"),o=i("905525");let a={title:"Compiling with Arm",language:"en"},c="Compile with ARM",d={},h=[{value:"Hardware/OS environment",id:"hardwareos-environment",level:2},{value:"Software Environment",id:"software-environment",level:2},{value:"Software Environment List (Taking JDK8 as an example)",id:"software-environment-list-taking-jdk8-as-an-example",level:3},{value:"Software Environment Installation Command",id:"software-environment-installation-command",level:3},{value:"Compile",id:"compile",level:2},{value:"FAQ",id:"faq",level:2},{value:"Problems about Compiling",id:"problems-about-compiling",level:3},{value:"Problems about Starting",id:"problems-about-starting",level:3},{value:"Other Component Issues",id:"other-component-issues",level:3}];function p(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:["\n","\n",(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"compile-with-arm",children:"Compile with ARM"})}),"\n",(0,l.jsx)(n.p,{children:"This topic is about how to compile Doris on the ARM64 platform."}),"\n",(0,l.jsxs)(n.p,{children:["Note that this document is intended as a guide only. Other errors may occur when compiling in different environments. Feel free to ",(0,l.jsx)(n.a,{href:"https://github.com/apache/doris/issues",children:"issue"})," Doris with problems or solutions."]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:"Starting from version 3.0.3, support for compiling and deploying in compute-storage decoupled mode is provided."})}),"\n",(0,l.jsx)(n.h2,{id:"hardwareos-environment",children:"Hardware/OS environment"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"KylinOS\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$> cat /etc/.kyinfo\nname=Kylin-Server\nmilestone=10-SP1-Release-Build04-20200711\narch=arm64\nbeta=False\ntime=2020-07-11 17:16:54\ndist_id=Kylin-Server-10-SP1-Release-Build04-20200711-arm64-2020-07-11 17:16:54\n\n$> cat /proc/cpuinfo\nmodel name  : Phytium,FT-2000+/64\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"CentOS 7.9 or higher"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$> lsb_release -a\nLSB Version:	:core-4.1-aarch64:core-4.1-noarch\nDistributor ID:	CentOS\nDescription:	CentOS Linux release 7.9.2009 (AltArch)\nRelease:	7.9.2009\nCodename:	AltArch\n"})}),"\n",(0,l.jsx)(n.h2,{id:"software-environment",children:"Software Environment"}),"\n",(0,l.jsx)(n.h3,{id:"software-environment-list-taking-jdk8-as-an-example",children:"Software Environment List (Taking JDK8 as an example)"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Component Name"}),(0,l.jsx)(n.th,{children:"Component Version"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Git"}),(0,l.jsx)(n.td,{children:"2.0+"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"JDK"}),(0,l.jsx)(n.td,{children:"1.8.0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Maven"}),(0,l.jsx)(n.td,{children:"3.6.3"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"NodeJS"}),(0,l.jsx)(n.td,{children:"16.3.0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"LDB-Toolchain"}),(0,l.jsx)(n.td,{children:"0.9.1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["Commonly Used Components",(0,l.jsx)("br",{}),"byacc",(0,l.jsx)("br",{}),"patch",(0,l.jsx)("br",{}),"automake",(0,l.jsx)("br",{}),"libtool",(0,l.jsx)("br",{}),"make",(0,l.jsx)("br",{}),"which",(0,l.jsx)("br",{}),"file",(0,l.jsx)("br",{}),"ncurses-devel",(0,l.jsx)("br",{}),"gettext-devel",(0,l.jsx)("br",{}),"unzip",(0,l.jsx)("br",{}),"bzip2",(0,l.jsx)("br",{}),"zip",(0,l.jsx)("br",{}),"util-linux",(0,l.jsx)("br",{}),"wget",(0,l.jsx)("br",{}),"git",(0,l.jsx)("br",{}),"python2"]}),(0,l.jsx)(n.td,{children:"yum install or apt-get install"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"autoconf"}),(0,l.jsx)(n.td,{children:"2.69"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"bison"}),(0,l.jsx)(n.td,{children:"3.0.4"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"software-environment-installation-command",children:"Software Environment Installation Command"}),"\n",(0,l.jsxs)(t.Z,{children:[(0,l.jsxs)(o.Z,{value:"CentOS 7.9",label:"CentOS 7.9",default:!0,children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Create root directories for pacakges"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Create root directory for software download and installation packages\nmkdir /opt/tools\n# Create root directory for software installation\nmkdir /opt/software\n"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Installing dependencies"}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Git"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # yum install (save the trouble of compilation)\n  yum install -y git\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JDK8 (2 methods)"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # Oracle JDK 8 or OpenJDK 8 for Doris 2.1 and earlier versions\n  # 1. yum install, which can avoid additional download and configuration. Installing the devel package is to get tools such as the jps command.\n  yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel\n  \n  # 2. Download the installation package of the arm64 architecture, decompress it, and configure the environment variables.\n  cd /opt/tools\n  wget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz && \\\n  tar -zxvf jdk-8u291-linux-aarch64.tar.gz && \\\n  mv jdk1.8.0_291 /opt/software/jdk8\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JDK17"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # For versions later than 3.0 (inclusive), or the master branch, please use JDK 17\n  yum install -y java-17-openjdk java-17-openjdk-devel\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Maven"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download the wget tool, decompress it, and configure the environment variables.\n  wget https://dlcdn.apache.org/maven/maven-3/3.9.9/binaries/apache-maven-3.9.9-bin.tar.gz && \\\n    tar -zxvf apache-maven-3.9.9-bin.tar.gz && \\\n    mv apache-maven-3.9.9 /opt/software/maven\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"NodeJS"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download the installation package of the arm64 architecture\n  wget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz && \\\n    tar -xvf node-v16.3.0-linux-arm64.tar.xz && \\\n    mv node-v16.3.0-linux-arm64 /opt/software/nodejs\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"LDB-Toolchain"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download LDB-Toolchain ARM version\n  wget https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.21/ldb_toolchain_gen.aarch64.sh && \\\n    sh ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"Configure environment variables (Taking JDK8 as an example)"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'# Configure environment variables\nvim /etc/profile.d/doris.sh\nexport JAVA_HOME=/opt/software/jdk8\nexport MAVEN_HOME=/opt/software/maven\nexport NODE_JS_HOME=/opt/software/nodejs\nexport LDB_HOME=/opt/software/ldb_toolchain\nexport PATH=$JAVA_HOME/bin:$MAVEN_HOME/bin:$NODE_JS_HOME/bin:$LDB_HOME/bin:$PATH\n\n# Save, exit, and refresh environment variables\nsource /etc/profile.d/doris.sh\n\n# Test (Taking JDK8 as an example)\njava -version\n> java version "1.8.0_291"\nmvn -version\n> Apache Maven 3.9.9\nnode --version\n> v16.3.0\ngcc --version\n> gcc-11\n'})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Install other environments and components"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Install required system packages\nsudo yum install -y byacc patch automake libtool make which file ncurses-devel gettext-devel unzip bzip2 bison zip util-linux wget git python2\n\n# Install autoconf-2.69\ncd /opt/tools\nwget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz && \\\n    tar zxf autoconf-2.69.tar.gz && \\\n    mv autoconf-2.69 /opt/software/autoconf && \\\n    cd /opt/software/autoconf && \\\n    ./configure && \\\n    make && \\\n    make install\n"})})]})]}),(0,l.jsxs)(o.Z,{value:"Ubuntu 20.04",label:"Ubuntu 20.04",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Update apt-get repository"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"apt-get update\n"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Check the shell command set"}),"\n"]}),(0,l.jsx)(n.p,{children:"The Ubuntu shell installs dash instead of bash by default. It needs to be switched to bash for proper execution. Run the following command to view the details of sh and confirm which program corresponds to the shell:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"ls -al /bin/sh\n"})}),(0,l.jsx)(n.p,{children:"The shell can be switched back to dash by:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"sudo dpkg-reconfigure dash\n"})}),(0,l.jsx)(n.p,{children:"Then select no to confirm. After these steps, dash will no longer be the default shell tool."})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"Create root directories for packages"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # Create root directory for software download and installation packages\n  mkdir /opt/tools\n  # Create root directory for software installation\n  mkdir /opt/software\n"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Installing dependencies"}),"\n"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Git"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # apt-get install, which can save the trouble of compilation\n  apt-get -y install git\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JDK8"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # Download the installation package of the ARM64 architecture, decompress it, and configure environment variables.\n  cd /opt/tools\n  wget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz && \\\n    tar -zxvf jdk-8u291-linux-aarch64.tar.gz && \\\n    mv jdk1.8.0_291 /opt/software/jdk8\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JDK17"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  # For versions later than 3.0 (inclusive), or the master branch, please use JDK 17\n  apt-get -y install openjdk-17-jdk\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Maven"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download the wget tool, decompress it, and configure the environment variables.\n  wget https://dlcdn.apache.org/maven/maven-3/3.9.9/binaries/apache-maven-3.9.9-bin.tar.gz && \\\n    tar -zxvf apache-maven-3.9.9-bin.tar.gz && \\\n    mv apache-maven-3.9.9 /opt/software/maven\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"NodeJS"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download the installation package of ARM64 architecture.\n  wget https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz && \\\n    tar -xvf node-v16.3.0-linux-arm64.tar.xz && \\\n    mv node-v16.3.0-linux-arm64 /opt/software/nodejs\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ldb-toolchain"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  cd /opt/tools\n  # Download ldb-toolchain ARM version\n  wget https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.21/ldb_toolchain_gen.aarch64.sh && \\\n    sh ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:"Configure environment variables"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'# Configure environment variables (Taking JDK8 as an example)\nvim /etc/profile.d/doris.sh\nexport JAVA_HOME=/opt/software/jdk8\nexport MAVEN_HOME=/opt/software/maven\nexport NODE_JS_HOME=/opt/software/nodejs\nexport LDB_HOME=/opt/software/ldb_toolchain\nexport PATH=$JAVA_HOME/bin:$MAVEN_HOME/bin:$NODE_JS_HOME/bin:$LDB_HOME/bin:$PATH\n\n# Save, exit, and refresh environment variables\nsource /etc/profile.d/doris.sh\n\n# Test (Taking JDK8 as an example)\njava -version\n> java version "1.8.0_291"\nmvn -version\n> Apache Maven 3.9.9\nnode --version\n> v16.3.0\ngcc --version\n> gcc-11\n'})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsx)(n.li,{children:"Install other environments and components"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# Install required system packages\nsudo apt install -y build-essential cmake flex automake bison binutils-dev libiberty-dev zip libncurses5-dev curl ninja-build\nsudo apt-get install -y make\nsudo apt-get install -y unzip\nsudo apt-get install -y python2\nsudo apt-get install -y byacc\nsudo apt-get install -y automake\nsudo apt-get install -y libtool\nsudo apt-get install -y bzip2\nsudo apt-get install -y software-properties-common\nsudo add-apt-repository ppa:ubuntu-toolchain-r/ppa\nsudo apt update\nsudo apt install gcc-11 g++-11\nsudo apt-get -y install autoconf autopoint\n\n# Install autoconf-2.69\ncd /opt/tools\nwget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz && \\\n    tar zxf autoconf-2.69.tar.gz && \\\n    mv autoconf-2.69 /opt/software/autoconf && \\\n    cd /opt/software/autoconf && \\\n    ./configure && \\\n    make && \\\n    make install\n"})})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"compile",children:"Compile"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Currently the only recommended method for ARM environments is to compile with ldb-toolchain, which works for ",(0,l.jsx)(n.a,{href:"https://github.com/apache/doris/commit/7f3564cca62de49c9f2ea67fcf735921dbebb4d1",children:"commit 7f3564"})," for Doris releases after that."]})}),"\n",(0,l.jsx)(n.p,{children:"For more detailed instructions about LDB toolchain download and install, please refer to the earlier section of this document."}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.a,{href:"./compilation-with-ldb-toolchain",children:"Compilation with LDB toolchain"})," for the steps then."]}),"\n",(0,l.jsx)(n.p,{children:"The jdk and nodejs should be replaced with the corresponding aarch64 versions, which has introduced the earlier section of this document."}),"\n",(0,l.jsxs)(n.p,{children:["If you have problems compiling with the downloaded precompiled third-party libraries, please use ",(0,l.jsx)(n.code,{children:"tools/build_thirdparty.sh"})," to compile them by yourself. When compiling the thirdparty library, use gcc:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"export DORIS_TOOLCHAIN=gcc\n"})}),"\n",(0,l.jsxs)(n.p,{children:["When compiling Doris on ARM platforms, ",(0,l.jsx)(n.strong,{children:"please disable AVX2, LIBUNWIND and AZURE tripartite libraries"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"export USE_AVX2=OFF\nexport USE_UNWIND=OFF\nexport DISABLE_BUILD_AZURE=ON\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If you still encounter problems when compiling or starting, please consult the ",(0,l.jsx)(n.a,{href:"#faq",children:"FAQ"}),". If there is no relevant solution, feel free to ",(0,l.jsx)(n.a,{href:"https://github.com/apache/doris/issues",children:"raise an issue"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,l.jsx)(n.h3,{id:"problems-about-compiling",children:"Problems about Compiling"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"File not found when compiling the third-party library libhdfs3.a."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"During the compilation and installation process, the following error occurrs:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"not found lib/libhdfs3.a file or directory"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"The third-party library dependency is improperly downloaded."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use a third-party download repository"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"  export REPOSITORY_URL=https://doris-thirdparty-repo.bj.bcebos.com/thirdparty\n  sh /opt/doris/thirdparty/build-thirdparty.sh\n"})}),"\n",(0,l.jsx)(n.p,{children:"REPOSITORY_URL contains all third-party library source packages and their historical versions."}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"python command not found"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"An exception is thrown when executing build.sh"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"/opt/doris/env.sh: line 46: python: command not found"}),"\n",(0,l.jsx)(n.p,{children:"Python 2.7.18"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsxs)(n.p,{children:["The system uses ",(0,l.jsx)(n.code,{children:"python2.7"}),", ",(0,l.jsx)(n.code,{children:"python3.6"}),", ",(0,l.jsx)(n.code,{children:"python2"}),", ",(0,l.jsx)(n.code,{children:"python3"})," by default to execute python commands. Doris only requires python 2.7+ to install dependencies, so you just need to add a command  ",(0,l.jsx)(n.code,{children:"python"})," to connect."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.p,{children:["Establish a soft link to the ",(0,l.jsx)(n.code,{children:"python"})," command in ",(0,l.jsx)(n.code,{children:"\\usr\\bin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"      # View python installation directory\n      whereis python\n      # Establish soft connection\n      sudo ln -s /usr/bin/python2.7 /usr/bin/python\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"There is no output directory after compilation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cannot find the output folder in the directory after the execution of build.sh."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"Compilation fails. Try again."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"      sh build.sh --clean\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"spark-dpp compilation fails"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"After compiling build.sh, compiling to Spark-DPP fails with an error"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Failed to execute goal on project spark-dpp"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsxs)(n.p,{children:["This error message is caused by download failure (connection to the ",(0,l.jsx)(n.code,{children:"repo.maven.apache.org"})," central repository fails)."]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["Could not transfer artifact org.apache.spark",":spark-sql_2",".12:jar:2.4.6 from/to central (",(0,l.jsx)(n.a,{href:"https://repo.maven.apache.org/maven2",children:"https://repo.maven.apache.org/maven2"}),"): Transfer failed for ",(0,l.jsx)(n.a,{href:"https://repo",children:"https://repo"})," .maven.apache.org/maven2/org/apache/spark/spark-sql_2.12/2.4.6/spark-sql_2.12-2.4.6.jar: Unknown host repo.maven.apache.org"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Rebuild"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"No space left, compilation fails"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Failed to build CXX object during compilation, error message showing no space left"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"fatal error: error writing to /tmp/ccKn4nPK.s: No space left on device"}),"\n",(0,l.jsx)(n.p,{children:"1112 | } // namespace doris::vectorized"}),"\n",(0,l.jsx)(n.p,{children:"compilation terminated."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"Insufficient free space on the device"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsx)(n.p,{children:"Expand the free space on the device by deleting files you don't need, etc."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Could not find pkg.m4 file in pkg.config"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'A "file not found" error occurs during compilation:'}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Couldn't find pkg.m4 from pkg-config. Install the appropriate package for your distribution or set ACLOCAL_PATH to the directory containing pkg.m4."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsxs)(n.p,{children:["There is something wrong with the compilation of the third-party library ",(0,l.jsx)(n.code,{children:"libxml2"})," ."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:(0,l.jsx)(n.strong,{children:"Possible Reasons:"})})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"An exception occurs when the Ubuntu system loads the environment variables so the index under the ldb directory is not successfully loaded."}),"\n",(0,l.jsx)(n.li,{children:"The retrieval of environment variables during libxml2 compilation fails, so the ldb/aclocal directory is not retrieved."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.p,{children:["Copy the ",(0,l.jsx)(n.code,{children:"pkg.m4"})," file in the ldb/aclocal directory into the libxml2/m4 directory, and recompile the third-party library."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"      cp /opt/software/ldb_toolchain/share/aclocal/pkg.m4 /opt/incubator-doris/thirdparty/src/libxml2-v2.9.10/m4\n      sh /opt/incubator-doris/thirdparty/build-thirdparty.sh\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Failed to execute test CURL_HAS_TLS_PROXY"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"An error is reported during the compilation process of the third-party package:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"-- Performing Test CURL_HAS_TLS_PROXY - Failed"}),"\n",(0,l.jsx)(n.p,{children:"CMake Error at cmake/dependencies.cmake:15 (get_property):"}),"\n",(0,l.jsx)(n.p,{children:'INTERFACE_LIBRARY targets may only have whitelisted properties. The property "LINK_LIBRARIES_ALL" is not allowed.'}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The log shows: curl ",(0,l.jsx)(n.code,{children:"No such file or directory"})]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"fatal error: curl/curl.h: No such file or directory"}),"\n",(0,l.jsx)(n.p,{children:"2 |     #include <curl/curl.h>"}),"\n",(0,l.jsx)(n.p,{children:"compilation terminated."}),"\n",(0,l.jsx)(n.p,{children:"ninja: build stopped: subcommand failed."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"There is an error in the compilation environment. The gcc is of version 9.3.0 that comes with the system, so it is not compiled with ldb, so you need to configure the ldb environment variable."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsx)(n.p,{children:"Configure ldb environment variables"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"      # Configure environment variables\n      vim /etc/profile.d/ldb.sh\n      export LDB_HOME=/opt/software/ldb_toolchain\n      export PATH=$LDB_HOME/bin:$PATH\n      # Save, exit, and refresh environment variables\n      source /etc/profile.d/ldb.sh\n      # Test\n      gcc --version\n      > gcc-11\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"8",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:'The compilation process aborts with the words "ninja failed with: signal: killed".'}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"BE or thirdparty failed in the middle of compilation with a message containing"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"ninja failed with: signal: killed"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"Insufficient memory on the machine"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsx)(n.p,{children:"Switch to a machine with more memory(at least 16GB) for compilation"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"problems-about-starting",children:"Problems about Starting"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Failed to start FE, transaction error -20"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"When starting FE, a transaction error 20 is reported with UNKNOWN status."}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"[BDBEnvironment.setup():198] error to open replicated environment. will exit."}),"\n",(0,l.jsxs)(n.p,{children:["com.sleepycat.je.rep.ReplicaWriteException: (JE 18.3.12) Problem closing transaction 20. The current state is",":UNKNOWN",". The node transitioned to this state at",":Fri"," Apr 22 12:48:08 CST 2022"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"Insufficient hard disk space"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsx)(n.p,{children:"Free up hard disk space or mount a new hard disk"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Abnormal BDB environment setting, disk search error"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"An exception is reported when starting FE after migrating the drive letter where FE is located"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"2022-04-22 16:21:44,092 ERROR (MASTER 172.28.7.231_9010_1650606822109(-1)|1) [BDBJEJournal.open():306] catch an exception when setup bdb environment. will exit."}),"\n",(0,l.jsx)(n.p,{children:"com.sleepycat.je.DiskLimitException: (JE 18.3.12) Disk usage is not within je.maxDisk or je.freeDisk limits and write operations are prohibited: maxDiskLimit=0 freeDiskLimit=5,368,709,120 adjustedMaxDiskLimit=0 maxDiskOverage=0 freeDiskShortage=1,536,552,960 diskFreeSpace=3,832,156,160 availableLogSize=-1,536,552,960 totalLogSize=4,665 activeLogSize=4,665 reservedLogSize=0 protectedLogSize=0 protectedLogSizeMap="}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"FE has been migrated to another location, which doesn't match the hard disk information stored in the metadata; or the hard disk is damaged or not mounted"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check if the hard disk is normal, initialized and mounted correctly"}),"\n",(0,l.jsx)(n.li,{children:"Fix FE metadata"}),"\n",(0,l.jsx)(n.li,{children:"If it is a test machine, you can delete the metadata directory and restart"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["BE coredumps at startup and the word ",(0,l.jsx)(n.code,{children:"libc.so"})," or ",(0,l.jsx)(n.code,{children:"glibc-compatibility/"})," is visible in the core stack."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Problem cause\nThe current machine glibc version is too low. You can be confirmed with ",(0,l.jsx)(n.code,{children:"ldd --version"}),". This may occur if the version is less than 2.27."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution\nRecompile the BE, with environment variables added:"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"      export GLIBC_COMPATIBILITY=OFF\n"})}),"\n",(0,l.jsx)(n.h3,{id:"other-component-issues",children:"Other Component Issues"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"The follow error prompts are all due to one root cause."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["bison related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"fseterr.c error when installing bison-3.0.4"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["flex related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"flex command not found"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["cmake related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"cmake command not found"}),"\n",(0,l.jsx)(n.li,{children:"cmake cannot find the dependent library"}),"\n",(0,l.jsx)(n.li,{children:"cmake cannot find CMAKE_ROOT"}),"\n",(0,l.jsx)(n.li,{children:"Compiler set not found in cmake environment variable CXX"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["boost related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Boost.Build build engine failed"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["mysql related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Could not find mysql client dependency a file"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["gcc related","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"GCC version requires 11+"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Cause"}),"\n",(0,l.jsx)(n.p,{children:"Not compiled with ldb-toolchain"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Solution"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check if the ldb-toolchain environment variable is configured"}),"\n",(0,l.jsxs)(n.li,{children:["Check that the gcc version matches the one recommended in the ",(0,l.jsx)(n.a,{href:"./compilation-with-ldb-toolchain",children:"compile-with-ldb-toolchain"})," documentation."]}),"\n",(0,l.jsxs)(n.li,{children:["Delete the ldb directory after the ",(0,l.jsx)(n.code,{children:"ldb_toolchain_gen.aarch64.sh"})," script is executed, re-execute and configure the environment variables, and verify the gcc version"]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},905525:function(e,n,i){i.d(n,{Z:()=>s});var r=i("785893");i("667294");var l=i("74904");function s(e){let{children:n,hidden:i,className:s}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,l.Z)("tabItem_Ymn6",s),hidden:i,children:n})}},247902:function(e,n,i){i.d(n,{Z:()=>g});var r=i("785893"),l=i("667294"),s=i("74904"),t=i("69599"),o=i("616550"),a=i("232000"),c=i("4520"),d=i("38341"),h=i("876009");function p(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||l.isValidElement(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){let{value:n,tabValues:i}=e;return i.some(e=>e.value===n)}var x=i("7227");function j(e){let{className:n,block:i,selectedValue:l,selectValue:o,tabValues:a}=e,c=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.o5)(),h=e=>{let n=e.currentTarget,i=a[c.indexOf(n)].value;i!==l&&(d(n),o(i))},p=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{let i=c.indexOf(e.currentTarget)+1;n=c[i]??c[0];break}case"ArrowLeft":{let i=c.indexOf(e.currentTarget)-1;n=c[i]??c[c.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":i},n),children:a.map(e=>{let{value:n,label:i,attributes:t}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,ref:e=>c.push(e),onKeyDown:p,onClick:h,...t,className:(0,s.Z)("tabs__item","tabItem_LNqP",t?.className,{"tabs__item--active":l===n}),children:i??n},n)})})}function m(e){let{lazy:n,children:i,selectedValue:t}=e,o=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){let e=o.find(e=>e.props.value===t);return e?(0,l.cloneElement)(e,{className:(0,s.Z)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function f(e){let n=function(e){let{defaultValue:n,queryString:i=!1,groupId:r}=e,s=function(e){let{values:n,children:i}=e;return(0,l.useMemo)(()=>{let e=n??p(i).map(e=>{let{props:{value:n,label:i,attributes:r,default:l}}=e;return{value:n,label:i,attributes:r,default:l}});return!function(e){let n=(0,d.lx)(e,(e,n)=>e.value===n.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,i])}(e),[t,x]=(0,l.useState)(()=>(function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:i}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}let r=i.find(e=>e.default)??i[0];if(!r)throw Error("Unexpected error: 0 tabValues");return r.value})({defaultValue:n,tabValues:s})),[j,m]=function(e){let{queryString:n=!1,groupId:i}=e,r=(0,o.k6)(),s=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,c._X)(s),(0,l.useCallback)(e=>{if(!s)return;let n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})},[s,r])]}({queryString:i,groupId:r}),[f,g]=function(e){let{groupId:n}=e,i=n?`docusaurus.tab.${n}`:null,[r,s]=(0,h.Nk)(i);return[r,(0,l.useCallback)(e=>{i&&s.set(e)},[i,s])]}({groupId:r}),b=(()=>{let e=j??f;return u({value:e,tabValues:s})?e:null})();return(0,a.Z)(()=>{b&&x(b)},[b]),{selectedValue:t,selectValue:(0,l.useCallback)(e=>{if(!u({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);x(e),m(e),g(e)},[m,g,s]),tabValues:s}}(e);return(0,r.jsxs)("div",{className:(0,s.Z)("tabs-container","tabList__CuJ"),children:[(0,r.jsx)(j,{...n,...e}),(0,r.jsx)(m,{...n,...e})]})}function g(e){let n=(0,x.Z)();return(0,r.jsx)(f,{...e,children:p(e.children)},String(n))}},250065:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return t}});var r=i(667294);let l={},s=r.createContext(l);function t(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);