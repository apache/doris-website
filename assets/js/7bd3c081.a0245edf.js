"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["618527"],{125971:function(e,r,n){n.r(r),n.d(r,{default:()=>h,frontMatter:()=>l,metadata:()=>t,assets:()=>c,toc:()=>d,contentTitle:()=>i});var t=JSON.parse('{"id":"ai/text-search/search-operators","title":"Full-Text Search and Query Acceleration Support","description":"Explore full-text search operators including MATCH_ANY, MATCH_ALL, MATCH_PHRASE, MATCH_REGEXP, and inverted index query acceleration for high-performance data retrieval in database systems.","source":"@site/versioned_docs/version-4.x/ai/text-search/search-operators.md","sourceDirName":"ai/text-search","slug":"/ai/text-search/search-operators","permalink":"/docs/4.x/ai/text-search/search-operators","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Full-Text Search and Query Acceleration Support","language":"en","description":"Explore full-text search operators including MATCH_ANY, MATCH_ALL, MATCH_PHRASE, MATCH_REGEXP, and inverted index query acceleration for high-performance data retrieval in database systems."},"sidebar":"docs","previous":{"title":"Overview","permalink":"/docs/4.x/ai/text-search/overview"},"next":{"title":"SEARCH Function","permalink":"/docs/4.x/ai/text-search/search-function"}}'),a=n("785893"),s=n("250065");let l={title:"Full-Text Search and Query Acceleration Support",language:"en",description:"Explore full-text search operators including MATCH_ANY, MATCH_ALL, MATCH_PHRASE, MATCH_REGEXP, and inverted index query acceleration for high-performance data retrieval in database systems."},i=void 0,c={},d=[{value:"Full-Text Search Operators",id:"full-text-search-operators",level:2},{value:"MATCH_ANY",id:"match_any",level:3},{value:"MATCH_ALL",id:"match_all",level:3},{value:"MATCH_PHRASE",id:"match_phrase",level:3},{value:"MATCH_PHRASE with slop",id:"match_phrase-with-slop",level:3},{value:"MATCH_PHRASE with strict order",id:"match_phrase-with-strict-order",level:3},{value:"MATCH_PHRASE_PREFIX",id:"match_phrase_prefix",level:3},{value:"MATCH_REGEXP",id:"match_regexp",level:3},{value:"MATCH_PHRASE_EDGE",id:"match_phrase_edge",level:3},{value:"Inverted Index Query Acceleration",id:"inverted-index-query-acceleration",level:2},{value:"Supported Operators and Functions",id:"supported-operators-and-functions",level:3}];function o(e){let r={code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h2,{id:"full-text-search-operators",children:"Full-Text Search Operators"}),"\n",(0,a.jsx)(r.h3,{id:"match_any",children:"MATCH_ANY"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Matches rows containing any of the specified keywords in a field."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ANY 'keyword1 keyword2';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_all",children:"MATCH_ALL"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Matches rows containing all specified keywords in a field."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ALL 'keyword1 keyword2';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_phrase",children:"MATCH_PHRASE"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Phrase match where terms appear adjacent and in order."}),"\n",(0,a.jsxs)(r.li,{children:["Requires index property ",(0,a.jsx)(r.code,{children:'"support_phrase" = "true"'})," for acceleration."]}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_phrase-with-slop",children:"MATCH_PHRASE with slop"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Loose phrase matching that allows gaps between terms up to a maximum distance."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- Allow up to 3 terms between keyword1 and keyword2\nSELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_phrase-with-strict-order",children:"MATCH_PHRASE with strict order"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Combine slop with strict order using ",(0,a.jsx)(r.code,{children:"+"})," to enforce term order."]}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3+';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_phrase_prefix",children:"MATCH_PHRASE_PREFIX"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Phrase match where the last term uses prefix matching."}),"\n",(0,a.jsx)(r.li,{children:"With a single term, it degrades to prefix matching for that term."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- Last term as prefix\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1 key';\n\n-- Single-term prefix match\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_regexp",children:"MATCH_REGEXP"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Regular expression match on the tokenized terms of a field."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_REGEXP '^key_word.*';\n"})}),"\n",(0,a.jsx)(r.h3,{id:"match_phrase_edge",children:"MATCH_PHRASE_EDGE"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Treats the first term as suffix-match, middle terms as exact, last term as prefix-match; terms must be adjacent."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE_EDGE 'search engine optim';\n"})}),"\n",(0,a.jsx)(r.h2,{id:"inverted-index-query-acceleration",children:"Inverted Index Query Acceleration"}),"\n",(0,a.jsx)(r.h3,{id:"supported-operators-and-functions",children:"Supported Operators and Functions"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Equality and set: ",(0,a.jsx)(r.code,{children:"="}),", ",(0,a.jsx)(r.code,{children:"!="}),", ",(0,a.jsx)(r.code,{children:"IN"}),", ",(0,a.jsx)(r.code,{children:"NOT IN"})]}),"\n",(0,a.jsxs)(r.li,{children:["Range: ",(0,a.jsx)(r.code,{children:">"}),", ",(0,a.jsx)(r.code,{children:">="}),", ",(0,a.jsx)(r.code,{children:"<"}),", ",(0,a.jsx)(r.code,{children:"<="}),", ",(0,a.jsx)(r.code,{children:"BETWEEN"})]}),"\n",(0,a.jsxs)(r.li,{children:["Null checks: ",(0,a.jsx)(r.code,{children:"IS NULL"}),", ",(0,a.jsx)(r.code,{children:"IS NOT NULL"})]}),"\n",(0,a.jsxs)(r.li,{children:["Arrays: ",(0,a.jsx)(r.code,{children:"array_contains"}),", ",(0,a.jsx)(r.code,{children:"array_overlaps"})]}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- Examples\nSELECT * FROM t WHERE price >= 100 AND price < 200;          -- range\nSELECT * FROM t WHERE tags IN ('a','b','c');                  -- set\nSELECT * FROM t WHERE array_contains(attributes, 'color');    -- arrays\n"})})]})}function h(e={}){let{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},250065:function(e,r,n){n.d(r,{Z:function(){return i},a:function(){return l}});var t=n(667294);let a={},s=t.createContext(a);function l(e){let r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);