"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["941036"],{90347:function(n,e,t){t.r(e),t.d(e,{default:()=>T,frontMatter:()=>c,metadata:()=>a,assets:()=>r,toc:()=>L,contentTitle:()=>i});var a=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/other-functions/default","title":"DEFAULT","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/other-functions/default.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/other-functions","slug":"/sql-manual/sql-functions/scalar-functions/other-functions/default","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/other-functions/default","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"DEFAULT","language":"en"},"sidebar":"docs","previous":{"title":"ESQUERY","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/other-functions/esquery"},"next":{"title":"FIELD","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/other-functions/field"}}'),l=t("785893"),s=t("250065");let c={title:"DEFAULT",language:"en"},i=void 0,r={},L=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function o(n){let e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"description",children:"Description"}),"\n",(0,l.jsx)(e.p,{children:"Returns the default value of a specific column in a table. If the column has no default value, an error is thrown."}),"\n",(0,l.jsx)(e.p,{children:"This function behaves the same as MySQL's DEFAULT function."}),"\n",(0,l.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"DEFAULT(<column>)\n"})}),"\n",(0,l.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"<column>"})}),(0,l.jsx)(e.td,{children:"The column whose default value is queried. Only columns are accepted; otherwise an error is thrown."})]})})]}),"\n",(0,l.jsx)(e.h2,{id:"return-value",children:"Return Value"}),"\n",(0,l.jsx)(e.p,{children:"Returns the column\u2019s default value, with the same type as the column"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"If a default is set, returns that default value"}),"\n",(0,l.jsx)(e.li,{children:"If no default is set and the column is not NOT NULL, returns NULL"}),"\n",(0,l.jsx)(e.li,{children:"If no default is set and the column is NOT NULL, an error is thrown"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Special cases:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Only columns are allowed as input; if a constant (including NULL) or an expression is provided, an error is thrown"}),"\n",(0,l.jsx)(e.li,{children:"When the input is an auto-increment column or a generated column, an error is thrown"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"/docs/dev/sql-manual/sql-statements/table-and-view/table/CREATE-TABLE#Column-Default-Value-Related-Parameters",children:"Doris-supported default value related parameters"})}),"\n",(0,l.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Non-aggregate types with constant default values"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- setup\n-- Columns without an explicitly defined DEFAULT accept only NULL as the default value\n-- ARRAY type default values only accept `[]` and NULL\nCREATE TABLE test_default_scalar (\n    c_bool                   BOOLEAN                               NULL     DEFAULT 1,\n    c_tinyint                TINYINT                               NULL     DEFAULT 7,\n    c_smallint               SMALLINT                              NULL     DEFAULT 32000,\n    c_int                    INT                                   NULL     DEFAULT 2147483647,\n    c_bigint                 BIGINT                                NULL     DEFAULT 9223372036854775807,\n    c_largeint               LARGEINT                              NULL     DEFAULT '170141183460469231731687303715884105727',\n    c_float                  FLOAT                                 NULL     DEFAULT 3.125,\n    c_double                 DOUBLE                                NULL     DEFAULT 2.718281828,\n    c_decimal                DECIMAL(27, 9)                        NULL     DEFAULT '123456789.123456789',\n    c_decimal_compact        DECIMAL(18, 4)                        NULL     DEFAULT '99999.1234',\n    c_pi                     DOUBLE                                NULL     DEFAULT PI,\n    c_e                      DOUBLE                                NULL     DEFAULT E,\n    c_char                   CHAR(8)                               NULL     DEFAULT 'charDemo',\n    c_varchar                VARCHAR(32)                           NULL     DEFAULT '',\n    c_string                 STRING                                NULL     DEFAULT 'plain string',\n    c_datetime               DATETIME                              NULL     DEFAULT '2025-10-25 11:22:33',\n    c_date                   DATE                                  NULL     DEFAULT '2025-10-31',\n    c_json                   JSON                                  NULL,\n    c_ipv4                   IPV4                                  NULL     DEFAULT '192.168.1.1',\n    c_ipv6                   IPV6                                  NULL     DEFAULT '2001:db8::1',\n    c_array_int              ARRAY<INT>                            NULL     DEFAULT '[]',\n    c_array_string           ARRAY<STRING>                         NULL,\n    c_map_str_int            MAP<STRING, INT>                      NULL,\n    c_struct                 STRUCT<f1:INT,f2:STRING,f3:BOOLEAN>   NULL,\n    c_variant                VARIANT                               NULL\n) PROPERTIES ( 'replication_num' = '1');\n\n-- INSERT statements omitted in the example\nSELECT\n    DEFAULT(c_bool),\n    DEFAULT(c_tinyint),\n    DEFAULT(c_smallint),\n    DEFAULT(c_int),\n    DEFAULT(c_bigint),\n    DEFAULT(c_largeint),\n    DEFAULT(c_float),\n    DEFAULT(c_double),\n    DEFAULT(c_decimal),\n    DEFAULT(c_decimal_compact),\n    DEFAULT(c_pi),\n    DEFAULT(c_e),\n    DEFAULT(c_char),\n    DEFAULT(c_varchar),\n    DEFAULT(c_string),\n    DEFAULT(c_datetime),\n    DEFAULT(c_date),\n    DEFAULT(c_json),\n    DEFAULT(c_ipv4),\n    DEFAULT(c_ipv6),\n    DEFAULT(c_array_int),\n    DEFAULT(c_array_string),\n    DEFAULT(c_map_str_int),\n    DEFAULT(c_struct),\n    DEFAULT(c_variant)\nFROM test_default_scalar\nLIMIT 1;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n| DEFAULT(c_bool) | DEFAULT(c_tinyint) | DEFAULT(c_smallint) | DEFAULT(c_int) | DEFAULT(c_bigint)   | DEFAULT(c_largeint)                     | DEFAULT(c_float) | DEFAULT(c_double) | DEFAULT(c_decimal)  | DEFAULT(c_decimal_compact) | DEFAULT(c_pi)     | DEFAULT(c_e)      | DEFAULT(c_char) | DEFAULT(c_varchar) | DEFAULT(c_string) | DEFAULT(c_datetime) | DEFAULT(c_date) | DEFAULT(c_json) | DEFAULT(c_ipv4) | DEFAULT(c_ipv6) | DEFAULT(c_array_int) | DEFAULT(c_array_string) | DEFAULT(c_map_str_int) | DEFAULT(c_struct) | DEFAULT(c_variant) |\n+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n|               1 |                  7 |               32000 |     2147483647 | 9223372036854775807 | 170141183460469231731687303715884105727 |            3.125 |       2.718281828 | 123456789.123456789 |                 99999.1234 | 3.141592653589793 | 2.718281828459045 | charDemo        |                    | plain string      | 2025-10-25 11:22:33 | 2025-10-31      | NULL            | 192.168.1.1     | 2001:db8::1     | []                   | NULL                    | NULL                   | NULL              | NULL               |\n+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"Aggregate types example"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_default_agg (\n    k_id          INT             NOT NULL COMMENT 'aggregation key',\n    bitmap_col    BITMAP          BITMAP_UNION,\n    hll_col       HLL             HLL_UNION,\n    quantile_col  QUANTILE_STATE QUANTILE_UNION\n) AGGREGATE KEY(k_id)\nPROPERTIES ( 'replication_num' = '1' );\n\nSELECT\n    default(bitmap_col),default(hll_col)\nFROM test_default_agg\nLIMIT 1;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------------------+------------------+\n| default(bitmap_col) | default(hll_col) |\n+---------------------+------------------+\n| NULL                | NULL             |\n+---------------------+------------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:["Non-constant defaults (",(0,l.jsx)(e.code,{children:"CURRENT_TIMESTAMP"}),", ",(0,l.jsx)(e.code,{children:"CURRENT_DATE"}),") example:"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_default_time(\n	tm DATETIME(5) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),\n    dt DATE DEFAULT CURRENT_DATE\n) PROPERTIES( 'replication_num' = '1' );\n\nSELECT DEFAULT(tm), DEFAULT(dt) FROM test_default_time;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------------------------+-------------+\n| DEFAULT(tm)               | DEFAULT(dt) |\n+---------------------------+-------------+\n| 2026-01-23 17:32:10.90500 | 2026-01-23  |\n+---------------------------+-------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"Constant values"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT DEFAULT('hello');\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = \n-- mismatched input ''hello'' expecting {'{', '}', 'ACTIONS', 'AFTER', 'AGG_STATE', 'AGGREGATE', 'ALIAS', 'ANALYZED', 'ARRAY', 'AT', 'AUTHORS', 'AUTO_INCREMENT', 'ALWAYS', 'BACKENDS', 'BACKUP', 'BEGIN', 'BELONG', 'BIN', 'BITAND', 'BITMAP', 'BITMAP_EMPTY', 'BITMAP_UNION', 'BITOR', 'BITXOR', 'BLOB', 'BOOLEAN', 'BRANCH', 'BRIEF', 'BROKER', 'BUCKETS', 'BUILD', 'BUILTIN', 'CACHE', 'CACHED', 'CALL', 'CATALOG', 'CATALOGS', 'CHAIN', CHAR, 'CHARSET', 'CHECK', 'CLUSTER', 'CLUSTERS', 'COLLA\n\nSELECT DEFAULT(NULL);\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = \n-- mismatched input 'NULL' expecting {'{', '}', 'ACTIONS', 'AFTER', 'AGG_STATE', 'AGGREGATE', 'ALIAS', 'ANALYZED', 'ARRAY', 'AT', 'AUTHORS', 'AUTO_INCREMENT', 'ALWAYS', 'BACKENDS', 'BACKUP', 'BEGIN', 'BELONG', 'BIN', 'BITAND', 'BITMAP', 'BITMAP_EMPTY', 'BITMAP_UNION', 'BITOR', 'BITXOR', 'BLOB', 'BOOLEAN', 'BRANCH', 'BRIEF', 'BROKER', 'BUCKETS', 'BUILD', 'BUILTIN', 'CACHE', 'CACHED', 'CALL', 'CATALOG', 'CATALOGS', 'CHAIN', CHAR, 'CHARSET', 'CHECK', 'CLUSTER', 'CLUSTERS', 'COLLATIO\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"Auto-increment column"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_auto_inc (\n      id BIGINT NULL AUTO_INCREMENT,\n      value BIGINT NOT NULL\n) PROPERTIES ('replication_num' = '1' );\n\nINSERT INTO test_auto_inc(value) VALUES (1), (2);\n--ERROR 1105 (HY000): errCode = 2, detailMessage = Column 'id' has no default value and does not allow NULL or column is auto-increment\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"Generated column"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_gen_col (\n    a INT,\n    b INT AS (a + 10)\n) PROPERTIES ('replication_num' = '1' );\n\nSELECT DEFAULT(b) FROM test_gen_col;\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = DEFAULT cannot be used on generated column 'b'\n"})})]})}function T(n={}){let{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},250065:function(n,e,t){t.d(e,{Z:function(){return i},a:function(){return c}});var a=t(667294);let l={},s=a.createContext(l);function c(n){let e=a.useContext(s);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);