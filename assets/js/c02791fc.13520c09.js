"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["63422"],{772178:function(e,i,s){s.r(i),s.d(i,{default:()=>d,frontMatter:()=>n,metadata:()=>a,assets:()=>o,toc:()=>c,contentTitle:()=>l});var a=JSON.parse('{"id":"releasenotes/v3.1/release-3.1.4","title":"Release 3.1.4","description":"Apache Doris 3.1.4 enhances query, data lake, and cloud operations with new features, performance boosts, and critical bug fixes for improved stability and security.","source":"@site/versioned_docs/version-4.x/releasenotes/v3.1/release-3.1.4.md","sourceDirName":"releasenotes/v3.1","slug":"/releasenotes/v3.1/release-3.1.4","permalink":"/docs/4.x/releasenotes/v3.1/release-3.1.4","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"Release 3.1.4","language":"en","description":"Apache Doris 3.1.4 enhances query, data lake, and cloud operations with new features, performance boosts, and critical bug fixes for improved stability and security."},"sidebar":"docs","previous":{"title":"Release 4.0.0","permalink":"/docs/4.x/releasenotes/v4.0/release-4.0.0"},"next":{"title":"Release 3.1.3","permalink":"/docs/4.x/releasenotes/v3.1/release-3.1.3"}}'),r=s("785893"),t=s("250065");let n={title:"Release 3.1.4",language:"en",description:"Apache Doris 3.1.4 enhances query, data lake, and cloud operations with new features, performance boosts, and critical bug fixes for improved stability and security."},l="3.1.4 release note",o={},c=[{value:"New Features",id:"new-features",level:2},{value:"Query Engine",id:"query-engine",level:3},{value:"Data Lake &amp; External Catalogs",id:"data-lake--external-catalogs",level:3},{value:"Observability &amp; Audit",id:"observability--audit",level:3},{value:"Optimizations &amp; Improvements",id:"optimizations--improvements",level:2},{value:"Query Engine",id:"query-engine-1",level:3},{value:"Data Lake &amp; External Catalogs",id:"data-lake--external-catalogs-1",level:3},{value:"Doris Cloud (Compute-Storage Separation)",id:"doris-cloud-compute-storage-separation",level:3},{value:"Security &amp; Stability",id:"security--stability",level:3},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Query Engine (Nereids Optimizer)",id:"query-engine-nereids-optimizer",level:3},{value:"Materialized Views (MV)",id:"materialized-views-mv",level:3},{value:"Data Ingestion",id:"data-ingestion",level:3},{value:"Doris Cloud (Compute-Storage Separation)",id:"doris-cloud-compute-storage-separation-1",level:3}];function h(e){let i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"314-release-note",children:"3.1.4 release note"})}),"\n",(0,r.jsx)(i.h2,{id:"new-features",children:"New Features"}),"\n",(0,r.jsx)(i.h3,{id:"query-engine",children:"Query Engine"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Support Dereference Expressions ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58550",children:"#58550"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"data-lake--external-catalogs",children:"Data Lake & External Catalogs"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Catalog supports loading credentials via ",(0,r.jsx)(i.code,{children:"AwsCredentialsProviderChain"})," ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59054",children:"#59054"})]}),"\n",(0,r.jsxs)(i.li,{children:["Support passing ",(0,r.jsx)(i.code,{children:"credentials_provider_type"})," to BE for S3 access ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59158",children:"#59158"})]}),"\n",(0,r.jsxs)(i.li,{children:["Support Elasticsearch ",(0,r.jsx)(i.code,{children:"flatten"})," data type ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58793",children:"#58793"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"observability--audit",children:"Observability & Audit"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Support encrypting SQL statements stored in audit logs ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58508",children:"#58508"})]}),"\n",(0,r.jsxs)(i.li,{children:["QueryPlanAction supports writing SQL from table query plans into audit logs ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59121",children:"#59121"})]}),"\n",(0,r.jsxs)(i.li,{children:["Generate SQL Digest for statements parsed by Nereids ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59215",children:"#59215"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"optimizations--improvements",children:"Optimizations & Improvements"}),"\n",(0,r.jsx)(i.h3,{id:"query-engine-1",children:"Query Engine"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Adjust type inference and coercion behavior to improve expression consistency ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57961",children:"#57961"})]}),"\n",(0,r.jsxs)(i.li,{children:["Prevent analysis tasks from polluting column statistics cache, improving statistics accuracy ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58742",children:"#58742"})]}),"\n",(0,r.jsxs)(i.li,{children:["Improve execution of queries with multiple DISTINCT aggregate functions ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58973",children:"#58973"})]}),"\n",(0,r.jsxs)(i.li,{children:["Optimize Join / Set / CTE / predicate pushdown rules to avoid unnecessary plan complexity ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58664",children:"#58664"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59141",children:"#59141"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59151",children:"#59151"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"data-lake--external-catalogs-1",children:"Data Lake & External Catalogs"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Accelerate Hive partition pruning and write performance, significantly reducing write latency for large partitioned tables ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58886",children:"#58886"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58932",children:"#58932"})]}),"\n",(0,r.jsxs)(i.li,{children:["Iceberg supports ignoring dangling deletes to improve COUNT pushdown ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59069",children:"#59069"})]}),"\n",(0,r.jsxs)(i.li,{children:["Enhance Iceberg REST Catalog connectivity checks and network timeout handling ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58433",children:"#58433"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58434",children:"#58434"})]}),"\n",(0,r.jsxs)(i.li,{children:["Align Paimon incremental query behavior with Spark in single-snapshot scenarios ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58253",children:"#58253"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"doris-cloud-compute-storage-separation",children:"Doris Cloud (Compute-Storage Separation)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Support dynamically updating tablet rebalancer configuration to improve operational flexibility in cloud environments ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58376",children:"#58376"})]}),"\n",(0,r.jsxs)(i.li,{children:["Optimize TopN queries in compute-storage separation scenarios to avoid unnecessary remote broadcast reads ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58112",children:"#58112"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58155",children:"#58155"})]}),"\n",(0,r.jsxs)(i.li,{children:["Improve tablet performance consistency during upgrade processes, reducing hotspot risks ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58247",children:"#58247"})]}),"\n",(0,r.jsxs)(i.li,{children:["Make File Cache adaptive during Schema Change to reduce cache impact for large tables ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58622",children:"#58622"})]}),"\n",(0,r.jsxs)(i.li,{children:["Add download wait time metrics to query profiles to improve IO observability ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58870",children:"#58870"})]}),"\n",(0,r.jsxs)(i.li,{children:["Enhance File Cache debugging capabilities with LRU dump support ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58871",children:"#58871"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"security--stability",children:"Security & Stability"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Enforce HTTPS for Glue Catalog to improve external catalog security ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58366",children:"#58366"})]}),"\n",(0,r.jsxs)(i.li,{children:["Add SSRF validation for Create Stage ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58874",children:"#58874"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,r.jsx)(i.h3,{id:"query-engine-nereids-optimizer",children:"Query Engine (Nereids Optimizer)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Fix potential infinite loops triggered by TopN / Limit / Join rules in specific scenarios ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58697",children:"#58697"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix logic errors in aggregation, window functions, Repeat, and type conversion ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58080",children:"#58080"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58114",children:"#58114"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58330",children:"#58330"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58548",children:"#58548"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"materialized-views-mv",children:"Materialized Views (MV)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Disallow creating invalid materialized views with value column predicates on MOW tables ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/57937",children:"#57937"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"data-ingestion",children:"Data Ingestion"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Fix undefined behavior caused by multiple invocations of the JSON Reader, preventing potential data corruption ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58192",children:"#58192"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix incorrect behavior related to ",(0,r.jsx)(i.code,{children:"COLUMNS FROM PATH"})," in Broker Load ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58351",children:"#58351"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58904",children:"#58904"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix abnormal behavior of Group Commit when nodes are offline or decommissioned ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59118",children:"#59118"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix failures in Load / Delete / Partial Update under specific edge conditions ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58553",children:"#58553"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58230",children:"#58230"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59096",children:"#59096"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"doris-cloud-compute-storage-separation-1",children:"Doris Cloud (Compute-Storage Separation)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Fix stability issues in compute-storage separation scenarios, including Tablet Drop, Compaction, and slow initial startup ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58157",children:"#58157"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58195",children:"#58195"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58761",children:"#58761"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix crashes and resource leaks in File Cache under abnormal conditions or BE failures ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58196",children:"#58196"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58819",children:"#58819"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59058",children:"#59058"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix abnormal read behavior caused by uncleared Segment Footer Cache after compaction ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/59185",children:"#59185"})]}),"\n",(0,r.jsxs)(i.li,{children:["Fix failures when executing Copy Into with ORC / Parquet formats ",(0,r.jsx)(i.a,{href:"https://github.com/apache/doris/pull/58551",children:"#58551"})]}),"\n"]})]})}function d(e={}){let{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},250065:function(e,i,s){s.d(i,{Z:function(){return l},a:function(){return n}});var a=s(667294);let r={},t=a.createContext(r);function n(e){let i=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),a.createElement(t.Provider,{value:i},e.children)}}}]);