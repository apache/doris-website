"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["854261"],{814943:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>r,metadata:()=>i,assets:()=>d,toc:()=>o,contentTitle:()=>l});var i=JSON.parse('{"id":"sql-manual/sql-functions/table-valued-functions/partitions","title":"PARTITIONS","description":"The table function generates a temporary partition TABLE, which allows you to view the PARTITION list of a certain TABLE.","source":"@site/versioned_docs/version-2.1/sql-manual/sql-functions/table-valued-functions/partitions.md","sourceDirName":"sql-manual/sql-functions/table-valued-functions","slug":"/sql-manual/sql-functions/table-valued-functions/partitions","permalink":"/docs/2.1/sql-manual/sql-functions/table-valued-functions/partitions","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"PARTITIONS","language":"en","description":"The table function generates a temporary partition TABLE, which allows you to view the PARTITION list of a certain TABLE."},"sidebar":"docs","previous":{"title":"PARTITION_VALUES","permalink":"/docs/2.1/sql-manual/sql-functions/table-valued-functions/partition-values"},"next":{"title":"QUERY","permalink":"/docs/2.1/sql-manual/sql-functions/table-valued-functions/query"}}'),s=t("785893"),a=t("250065");let r={title:"PARTITIONS",language:"en",description:"The table function generates a temporary partition TABLE, which allows you to view the PARTITION list of a certain TABLE."},l=void 0,d={},o=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Required Parameters",id:"required-parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function c(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"The table function generates a temporary partition TABLE, which allows you to view the PARTITION list of a certain TABLE."}),"\n",(0,s.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'PARTITIONS(\n    "catalog"="<catalog>",\n    "database"="<database>",\n    "table"="<table>"\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"required-parameters",children:"Required Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<catalog>"})})}),(0,s.jsx)(n.td,{children:"Specify the cluster catalog name to be queried."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<database>"})})}),(0,s.jsx)(n.td,{children:"Specify the cluster database name to be queried."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<table>"})})}),(0,s.jsx)(n.td,{children:"Specify the cluster table name to be queried."})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PartitionId"}),(0,s.jsx)(n.td,{children:"Partition ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PartitionName"}),(0,s.jsx)(n.td,{children:"Name of the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"VisibleVersion"}),(0,s.jsx)(n.td,{children:"Partition version"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"VisibleVersionTime"}),(0,s.jsx)(n.td,{children:"Time when the partition version was committed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"State"}),(0,s.jsx)(n.td,{children:"State of the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PartitionKey"}),(0,s.jsx)(n.td,{children:"Partition key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Range"}),(0,s.jsx)(n.td,{children:"Range of the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DistributionKey"}),(0,s.jsx)(n.td,{children:"Distribution key for partitioning"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Buckets"}),(0,s.jsx)(n.td,{children:"Number of buckets in the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ReplicationNum"}),(0,s.jsx)(n.td,{children:"Number of replicas in the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"StorageMedium"}),(0,s.jsx)(n.td,{children:"Storage medium used for the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CooldownTime"}),(0,s.jsx)(n.td,{children:"Cooldown time for the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"RemoteStoragePolicy"}),(0,s.jsx)(n.td,{children:"Remote storage policy for the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"LastConsistencyCheckTime"}),(0,s.jsx)(n.td,{children:"Time of the last consistency check for the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DataSize"}),(0,s.jsx)(n.td,{children:"Size of the data in the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IsInMemory"}),(0,s.jsx)(n.td,{children:"Whether the partition is stored in memory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ReplicaAllocation"}),(0,s.jsx)(n.td,{children:"Replication strategy for the partition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IsMutable"}),(0,s.jsx)(n.td,{children:"Whether the partition is mutable"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SyncWithBaseTables"}),(0,s.jsx)(n.td,{children:"Whether the partition is synchronized with the base table (for async materialized views)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UnsyncTables"}),(0,s.jsx)(n.td,{children:"Which base table is unsynchronized (for async materialized view partitions)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"View the partition list of example_table under test in the internal catalog"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'select * from partitions("catalog"="internal","database"="test","table"="example_table");\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n| PartitionId | PartitionName | VisibleVersion | VisibleVersionTime  | State  | PartitionKey | Range                                                                          | DistributionKey | Buckets | ReplicationNum | StorageMedium | CooldownTime        | RemoteStoragePolicy | LastConsistencyCheckTime | DataSize | IsInMemory | ReplicaAllocation       | IsMutable | SyncWithBaseTables | UnsyncTables |\n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n|       43209 | p1            |              1 | 2025-01-17 12:35:22 | NORMAL | created_at   | [types: [DATEV2]; keys: [0000-01-01]; ..types: [DATEV2]; keys: [2023-01-01]; ) | id              |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 0.000    |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n|       43210 | p2            |              1 | 2025-01-17 12:35:22 | NORMAL | created_at   | [types: [DATEV2]; keys: [2023-01-01]; ..types: [DATEV2]; keys: [2024-01-01]; ) | id              |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 0.000    |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n|       43211 | p3            |              1 | 2025-01-17 12:35:22 | NORMAL | created_at   | [types: [DATEV2]; keys: [2024-01-01]; ..types: [DATEV2]; keys: [2025-01-01]; ) | id              |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 0.000    |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n|       43212 | p4            |              1 | 2025-01-17 12:35:22 | NORMAL | created_at   | [types: [DATEV2]; keys: [2025-01-01]; ..types: [DATEV2]; keys: [2026-01-01]; ) | id              |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 0.000    |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n"})}),"\n",(0,s.jsx)(n.p,{children:"View the partition information with partition name p1 under example_table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'select * from partitions("catalog"="internal","database"="test","table"="example_table") where PartitionName = "p1";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n| PartitionId | PartitionName | VisibleVersion | VisibleVersionTime  | State  | PartitionKey | Range                                                                          | DistributionKey | Buckets | ReplicationNum | StorageMedium | CooldownTime        | RemoteStoragePolicy | LastConsistencyCheckTime | DataSize | IsInMemory | ReplicaAllocation       | IsMutable | SyncWithBaseTables | UnsyncTables |\n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n|       43209 | p1            |              1 | 2025-01-17 12:35:22 | NORMAL | created_at   | [types: [DATEV2]; keys: [0000-01-01]; ..types: [DATEV2]; keys: [2023-01-01]; ) | id              |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 0.000    |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+--------------------+--------------+\n"})}),"\n",(0,s.jsx)(n.p,{children:"View the partition ID with the partition name p1 under example_table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'select PartitionId from partitions("catalog"="internal","database"="test","table"="example_table") where PartitionName = "p1";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"+-------------+\n| PartitionId |\n+-------------+\n|       43209 |\n+-------------+\n"})})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return r}});var i=t(667294);let s={},a=i.createContext(s);function r(e){let n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);