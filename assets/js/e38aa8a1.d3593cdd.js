"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["175336"],{720104:function(e,s,n){n.r(s),n.d(s,{default:()=>m,frontMatter:()=>l,metadata:()=>a,assets:()=>d,toc:()=>h,contentTitle:()=>c});var a=JSON.parse('{"id":"lakehouse/catalogs/paimon-catalog","title":"Paimon Catalog","description":"Doris currently supports accessing Paimon table metadata through various metadata services and querying Paimon data.","source":"@site/docs/lakehouse/catalogs/paimon-catalog.mdx","sourceDirName":"lakehouse/catalogs","slug":"/lakehouse/catalogs/paimon-catalog","permalink":"/docs/dev/lakehouse/catalogs/paimon-catalog","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Paimon Catalog","language":"en"},"sidebar":"docs","previous":{"title":"Hudi Catalog","permalink":"/docs/dev/lakehouse/catalogs/hudi-catalog"},"next":{"title":"MaxCompute Catalog","permalink":"/docs/dev/lakehouse/catalogs/maxcompute-catalog"}}'),t=n("785893"),i=n("250065"),r=n("247902"),o=n("905525");let l={title:"Paimon Catalog",language:"en"},c=void 0,d={},h=[{value:"Applicable Scenarios",id:"applicable-scenarios",level:2},{value:"Configuring Catalog",id:"configuring-catalog",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Supported Paimon Versions",id:"supported-paimon-versions",level:3},{value:"Supported Paimon Formats",id:"supported-paimon-formats",level:3},{value:"Supported Metadata Services",id:"supported-metadata-services",level:3},{value:"Supported Storage Systems",id:"supported-storage-systems",level:3},{value:"Supported Data Formats",id:"supported-data-formats",level:3},{value:"Column Type Mapping",id:"column-type-mapping",level:2},{value:"Examples",id:"examples",level:2},{value:"Hive Metastore",id:"hive-metastore",level:3},{value:"Aliyun DLF Metastore",id:"aliyun-dlf-metastore",level:3},{value:"FileSystem Metastore",id:"filesystem-metastore",level:3},{value:"Query Operations",id:"query-operations",level:2},{value:"Basic Query",id:"basic-query",level:3},{value:"Batch Incremental Query",id:"batch-incremental-query",level:3},{value:"Time Travel",id:"time-travel",level:3},{value:"Branch and Tag",id:"branch-and-tag",level:3},{value:"System Tables",id:"system-tables",level:2},{value:"schemas",id:"schemas",level:3},{value:"snapshots",id:"snapshots",level:3},{value:"options",id:"options",level:3},{value:"files",id:"files",level:3},{value:"tags",id:"tags",level:3},{value:"branches",id:"branches",level:3},{value:"consumers",id:"consumers",level:3},{value:"manifests",id:"manifests",level:3},{value:"aggregation_fields",id:"aggregation_fields",level:3},{value:"partitions",id:"partitions",level:3},{value:"buckets",id:"buckets",level:3},{value:"statistics",id:"statistics",level:3},{value:"table_indexes",id:"table_indexes",level:3},{value:"System Table Use Cases",id:"system-table-use-cases",level:3},{value:"View the latest snapshot information of a table to understand its current state",id:"view-the-latest-snapshot-information-of-a-table-to-understand-its-current-state",level:4},{value:"View table information for snapshots",id:"view-table-information-for-snapshots",level:4},{value:"View data distribution of buckets",id:"view-data-distribution-of-buckets",level:4},{value:"Appendix",id:"appendix",level:2},{value:"FAQ",id:"faq",level:3}];function p(e){let s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{Details:n}=s;return n||function(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"Doris currently supports accessing Paimon table metadata through various metadata services and querying Paimon data."}),"\n",(0,t.jsx)(s.p,{children:"At present, only read operations on Paimon tables are supported. Write operations to Paimon tables will be supported in the future."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/best-practices/doris-paimon",children:"Quick start with Apache Doris and Apache Paimon"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"applicable-scenarios",children:"Applicable Scenarios"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Scenario"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Query Acceleration"}),(0,t.jsx)(s.td,{children:"Use Doris's distributed computing engine to directly access Paimon data for query acceleration."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Data Integration"}),(0,t.jsx)(s.td,{children:"Read Paimon data and write it into Doris internal tables, or perform ZeroETL operations using the Doris computing engine."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Data Write-back"}),(0,t.jsx)(s.td,{children:"Not supported yet."})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"configuring-catalog",children:"Configuring Catalog"}),"\n",(0,t.jsx)(s.h3,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG [IF NOT EXISTS] catalog_name PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = '<paimon_catalog_type>',\n    'warehouse' = '<paimon_warehouse>'\n    {MetaStoreProperties},\n    {StorageProperties},\n    {PaimonProperties},\n    {CommonProperties}\n);\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"<paimon_catalog_type>"})}),"\n",(0,t.jsx)(s.p,{children:"The type of Paimon Catalog, supporting the following:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"filesystem"}),": Default. Directly accesses metadata stored on the file system."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"hms"}),": Uses Hive Metastore as the metadata service."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"dlf"}),": Uses Alibaba Cloud DLF as the metadata service."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"<paimon_warehouse>"})}),"\n",(0,t.jsxs)(s.p,{children:["The warehouse path for Paimon. This parameter must be specified when ",(0,t.jsx)(s.code,{children:"<paimon_catalog_type>"})," is ",(0,t.jsx)(s.code,{children:"filesystem"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"warehouse"})," path must point to the level above the ",(0,t.jsx)(s.code,{children:"Database"})," path. For example, if your table path is: ",(0,t.jsx)(s.code,{children:"s3://bucket/path/to/db1/table1"}),", then ",(0,t.jsx)(s.code,{children:"warehouse"})," should be: ",(0,t.jsx)(s.code,{children:"s3://bucket/path/to/"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"{MetaStoreProperties}"})}),"\n",(0,t.jsx)(s.p,{children:"The MetaStoreProperties section is used to fill in connection and authentication information for the Metastore metadata service. Refer to the section on [Supported Metadata Services] for details."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"{StorageProperties}"})}),"\n",(0,t.jsx)(s.p,{children:"The StorageProperties section is used to fill in connection and authentication information related to the storage system. Refer to the section on [Supported Storage Systems] for details."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"{PaimonProperties}"})}),"\n",(0,t.jsx)(s.p,{children:"The PaimonProperties section is used to fill Paimon-related properties."}),"\n",(0,t.jsx)(s.p,{children:"When Doris accesses Paimon metadata, it partially uses the Paimon Java SDK, so some custom parameters may need to be passed through to the Paimon Java SDK. You can use the following prefixes:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"paimon.s3.xxx\npaimon.s3a.xxx\npaimon.fs.xxx\n"})}),"\n",(0,t.jsx)(s.p,{children:"These parameters will be automatically converted and passed through. Here are some examples:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Input Parameter"}),(0,t.jsx)(s.th,{children:"Converted Parameter for Paimon Java SDK"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:'"paimon.s3.list.version" = "1"'}),(0,t.jsx)(s.td,{children:'"fs.s3a.list.version" = "1"'})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:'"paimon.s3.paging.maximum" = "100"'}),(0,t.jsx)(s.td,{children:'"fs.s3a.paging.maximum" = "100"'})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:'"paimon.fs.s3.read.ahead.buffer.size" = "1"'}),(0,t.jsx)(s.td,{children:'"fs.s3a.read.ahead.buffer.size" = "1"'})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:'"paimon.s3a.replication.factor" = "3"'}),(0,t.jsx)(s.td,{children:'"fs.s3a.replication.factor" = "3"'})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"{CommonProperties}"})}),"\n",(0,t.jsxs)(s.p,{children:["The CommonProperties section is used to fill in common properties. Please refer to the ",(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/catalog-overview",children:"Catalog Overview"})," section on [Common Properties]."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"supported-paimon-versions",children:"Supported Paimon Versions"}),"\n",(0,t.jsx)(s.p,{children:"The currently dependent Paimon version is 1.0.0."}),"\n",(0,t.jsx)(s.h3,{id:"supported-paimon-formats",children:"Supported Paimon Formats"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Supports reading Paimon Deletion Vector"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"supported-metadata-services",children:"Supported Metadata Services"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/metastores/hive-metastore",children:"Hive Metastore"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/metastores/aliyun-dlf",children:"Aliyun DLF"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/metastores/filesystem",children:"FileSystem"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Note: The service types and parameters supported by different Doris versions are slightly different. Please refer to the [Examples] section."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"supported-storage-systems",children:"Supported Storage Systems"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/hdfs",children:"HDFS"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/s3",children:"AWS S3"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/gcs",children:"Google Cloud Storage"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/aliyun-oss",children:"Alibaba Cloud OSS"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/tencent-cos",children:"Tencent Cloud COS"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/huawei-obs",children:"Huawei Cloud OBS"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/storages/minio",children:"MINIO"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Note: The service types and parameters supported by different Doris versions are slightly different. Please refer to the [Examples] section."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"supported-data-formats",children:"Supported Data Formats"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/file-formats/parquet",children:"Parquet"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/docs/dev/lakehouse/file-formats/orc",children:"ORC"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"column-type-mapping",children:"Column Type Mapping"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Paimon Type"}),(0,t.jsx)(s.th,{children:"Doris Type"}),(0,t.jsx)(s.th,{children:"Comment"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"boolean"}),(0,t.jsx)(s.td,{children:"boolean"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"tinyint"}),(0,t.jsx)(s.td,{children:"tinyint"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"smallint"}),(0,t.jsx)(s.td,{children:"smallint"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"integer"}),(0,t.jsx)(s.td,{children:"int"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"bigint"}),(0,t.jsx)(s.td,{children:"bigint"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"float"}),(0,t.jsx)(s.td,{children:"float"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"double"}),(0,t.jsx)(s.td,{children:"double"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"decimal(P, S)"}),(0,t.jsx)(s.td,{children:"decimal(P, S)"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"varchar"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"char"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"binary"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"varbinary"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"date"}),(0,t.jsx)(s.td,{children:"date"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"timestamp_without_time_zone"}),(0,t.jsx)(s.td,{children:"datetime(N)"}),(0,t.jsx)(s.td,{children:"Mapped according to precision. If precision is greater than 6, it maps to a maximum of 6 (may cause precision loss)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"timestamp_with_local_time_zone"}),(0,t.jsx)(s.td,{children:"datetime(N)"}),(0,t.jsx)(s.td,{children:"Mapped according to precision. If precision is greater than 6, it maps to a maximum of 6 (may cause precision loss)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"array"}),(0,t.jsx)(s.td,{children:"array"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"map"}),(0,t.jsx)(s.td,{children:"map"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"row"}),(0,t.jsx)(s.td,{children:"struct"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"other"}),(0,t.jsx)(s.td,{children:"UNSUPPORTED"}),(0,t.jsx)(s.td,{})]})]})]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Note:"}),"\n",(0,t.jsxs)(s.p,{children:["Doris currently does not support ",(0,t.jsx)(s.code,{children:"Timestamp"})," types with timezone. All ",(0,t.jsx)(s.code,{children:"timestamp_without_time_zone"})," and ",(0,t.jsx)(s.code,{children:"timestamp_with_local_time_zone"})," will be uniformly mapped to ",(0,t.jsx)(s.code,{children:"datetime(N)"})," type. However, during reading, Doris will correctly handle timezones based on the actual source type. For example, after specifying a timezone with ",(0,t.jsx)(s.code,{children:"SET time_zone=<tz>"}),", it will affect the return results of ",(0,t.jsx)(s.code,{children:"timestamp_with_local_time_zone"})," columns."]}),"\n",(0,t.jsxs)(s.p,{children:["You can check whether the source type contains timezone information in the Extra column of the ",(0,t.jsx)(s.code,{children:"DESCRIBE table_name"})," statement. If it displays ",(0,t.jsx)(s.code,{children:"WITH_TIMEZONE"}),", it indicates that the source type is a timezone-aware type. (This feature is supported since 3.0.8)"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.h3,{id:"hive-metastore",children:"Hive Metastore"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 3.1+"}),(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(o.Z,{value:"HDFS",label:"HDFS",default:!0,children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_hdfs_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'hdfs://127.0.0.1:8320/user/hive/warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'fs.defaultFS' = 'hdfs://127.0.0.1:8320',\n    'hadoop.username' = 'doris'\n);\n"})})}),(0,t.jsxs)(o.Z,{value:"S3",label:"S3",children:[(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_aws_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'warehouse' = 's3://bucket/paimon_warehouse',\n    's3.region' = 'ap-east-1',\n    's3.endpoint' = 's3.ap-east-1.amazonaws.com',\n    's3.access_key' = '<ak>',\n    's3.secret_key' = '<sk>'\n);\n"})}),(0,t.jsx)(s.p,{children:"Obtaining S3 access credentials using an IAM Assumed Role (3.1.221+)"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_hms_on_s3_iamrole PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 's3://bucket/warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    's3.region' = 'us-east-1',\n    's3.role_arn' = 'arn:aws:iam::543815668950:role/role'\n);\n"})})]}),(0,t.jsx)(o.Z,{value:"OSS",label:"OSS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_ali_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'warehouse' = 'oss://bucket/regression/paimon_warehouse',\n    'oss.region' = 'cn-beijing',\n    'oss.endpoint' = 'oss-cn-beijing.aliyuncs.com',\n    'oss.access_key' = '<ak>',\n    'oss.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"COS",label:"COS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_tx_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'cosn://bucket/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'cos.region' = 'ap-beijing',\n    'cos.endpoint' = 'cos.ap-beijing.myqcloud.com',\n    'cos.access_key' = '<ak>',\n    'cos.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"OBS",label:"OBS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_hw_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'obs://bucket/regression/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'obs.region' = 'cn-north-4',\n    'obs.endpoint' = 'obs.cn-north-4.myhuaweicloud.com',\n    'obs.access_key' = '<ak>',\n    'obs.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"GCS",label:"GCS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG `paimon_on_gcs` PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'gs://bucket/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'fs.gcs.support' = 'true',\n    'gs.secret_key' = '<sk>',\n    'gs.access_key' = '<ak>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"MinIO",label:"MinIO",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_hms_on_minio_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 's3://test-bucket/paimon-warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'fs.minio.support' = 'true',\n    'minio.endpoint' = 'http://127.0.0.1:19000',\n    'minio.access_key' = 'minioadmin',\n    'minio.secret_key' = 'minioadmin',\n    'minio.use_path_style' = 'true'\n);\n"})})})]})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 2.1 & 3.0"}),(0,t.jsxs)(r.Z,{children:[(0,t.jsxs)(o.Z,{value:"HDFS",label:"HDFS",default:!0,children:[(0,t.jsx)(s.p,{children:"Access HMS without Kerberos authentication"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_hms_on_hdfs_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'warehouse' = 'hdfs://127.0.0.1:8320/user/paimon/warehouse/paimon-hms-hdfs-warehouse',\n    'hadoop.username' = 'doris',\n    'fs.defaultFS' = 'hdfs://127.0.0.1:8320'\n);\n"})}),(0,t.jsx)(s.p,{children:"Access HMS with Kerberos authentication enabled"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_hms_on_hdfs_kerberos_hdfs_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'hdfs://127.0.0.1:8520/paimon-hms-hdfs-warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9583',\n    'hive.metastore.kerberos.principal' = 'hive/hadoop-master@LABS.TERADATA.COM',\n    'hive.metastore.sasl.enabled ' = 'true',\n    'fs.defaultFS' = 'hdfs://127.0.0.1:8520',\n    'hadoop.security.auth_to_local' = 'RULE:[2:\\$1@\\$0](.*@LABS.TERADATA.COM)s/@.*//\n    RULE:[2:\\$1@\\$0](.*@OTHERLABS.TERADATA.COM)s/@.*//\n    RULE:[2:\\$1@\\$0](.*@OTHERREALM.COM)s/@.*//\n    DEFAULT',\n    'hadoop.security.authentication' = 'kerberos',\n    'hadoop.kerberos.principal'='hive/presto-master.docker.cluster@LABS.TERADATA.COM',\n    'hadoop.kerberos.keytab' = '/keytabs/hive-presto-master.keytab'\n);\n"})})]}),(0,t.jsx)(o.Z,{value:"S3",label:"S3",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_aws_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 's3://bucket-hk/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    's3.region' = 'ap-east-1',\n    'paimon.s3.region' = 'ap-east-1',\n    's3.endpoint' = 's3.ap-east-1.amazonaws.com',\n    'paimon.s3.endpoint' = 'ap-east-1',\n    's3.access_key' = '<ak>',\n    'paimon.s3.access-key' = '<ak>',\n    's3.secret_key' = '<sk>',\n    'paimon.s3.secret-key' = '<sk>'    \n);\n"})})}),(0,t.jsx)(o.Z,{value:"OSS",label:"OSS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_ali_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'oss://bucket/regression/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'oss.region' = 'cn-beijing',\n    'oss.endpoint' = 'oss-cn-beijing.aliyuncs.com',\n    'oss.access_key' = '<ak>',\n    'oss.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"COS",label:"COS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_tx_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'cosn://bucket/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'cos.region' = 'ap-beijing',\n    'cos.endpoint' = 'cos.ap-beijing.myqcloud.com',\n    'cos.access_key' = '<ak>',\n    'cos.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"OBS",label:"OBS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_hw_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 'obs://bucket/regression/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    'obs.region' = 'cn-north-4',\n    'obs.endpoint' = 'obs.cn-north-4.myhuaweicloud.com',\n    'obs.access_key' = '<ak>',\n    'obs.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"MinIO",label:"MinIO",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_minio_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 's3://bucket/paimon-warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    's3.endpoint' = 'http://127.0.0.1:19000',\n    'paimon.s3.endpoint' = 'http://127.0.0.1:19000',\n    's3.access_key' = '<ak>',\n    'paimon.s3.access-key' = '<ak>',\n    's3.secret_key' = '<sk>',\n    'paimon.s3.secret-key' = '<sk>',    \n    's3.path.style.access' = 'true'\n);\n"})})})]})]}),"\n",(0,t.jsx)(s.h3,{id:"aliyun-dlf-metastore",children:"Aliyun DLF Metastore"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 3.1+"}),(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(o.Z,{value:"DLF 1.0",label:"DLF 1.0",default:!0,children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_dlf_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'dlf',\n    'warehouse' = 'oss://bucket/p2_regression_case',\n    'dlf.uid' = '772905',\n    'dlf.catalog_id' = 'p2_regression_case',\n    'dlf.region' = 'cn-beijing',\n    'dlf.endpoint' = 'dlf.cn-beijing.aliyuncs.com',\n    'dlf.access_key' = '<ak>',\n    'dlf.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"DLF(2.5+)",label:"DLF(2.5+)",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_dlf_test PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'rest',\n    'uri' = 'http://cn-beijing-vpc.dlf.aliyuncs.com',\n    'warehouse' = 'new_dfl_paimon_catalog',\n    'paimon.rest.token.provider' = 'dlf',\n    'paimon.rest.dlf.access-key-id' = '<ak>',\n    'paimon.rest.dlf.access-key-secret' = '<sk>'\n);\n"})})})]})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 2.1 & 3.0"}),(0,t.jsx)(r.Z,{children:(0,t.jsx)(o.Z,{value:"DLF 1.0",label:"DLF 1.0",default:!0,children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_dlf_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'dlf',\n    'warehouse' = 'oss://bucket/paimon-dlf-oss-warehouse',\n    'dlf.uid' = '7716890',\n    'dlf.catalog.id' = 'p2_regression_case',\n    'dlf.region' = 'cn-beijing',\n    'dlf.endpoint' = 'dlf.cn-beijing.aliyuncs.com',\n    'dlf.access_key' = '<ak>',\n    'dlf.secret_key' = '<sk>'\n);\n"})})})})]}),"\n",(0,t.jsx)(s.h3,{id:"filesystem-metastore",children:"FileSystem Metastore"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 3.1+"}),(0,t.jsxs)(r.Z,{children:[(0,t.jsxs)(o.Z,{value:"HDFS",label:"HDFS",default:!0,children:[(0,t.jsx)(s.p,{children:"Access HMS and HDFS services without Kerberos authentication"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG ctl_test_paimon_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'hdfs://127.0.0.1:8020/user/doris/paimon1',\n    'fs.defaultFS' = 'hdfs://127.0.0.1:8020'\n);\n"})})]}),(0,t.jsxs)(o.Z,{value:"S3",label:"S3",children:[(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_fs_aws_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 's3://bucket/paimon_warehouse',\n    's3.region' = 'ap-east-1',\n    's3.endpoint' = 's3.ap-east-1.amazonaws.com',\n    's3.access_key' = '<ak>',\n    's3.secret_key' = '<sk>'\n);\n"})}),(0,t.jsx)(s.p,{children:"Obtaining S3 access credentials using an IAM Assumed Role (3.1.2+)"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_fs_on_s3_iamrole PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 's3://bucket/warehouse',\n    's3.region' = 'us-east-1',\n    's3.role_arn' = 'arn:aws:iam::543815668950:role/role'\n);\n"})})]}),(0,t.jsx)(o.Z,{value:"OSS",label:"OSS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_oss PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'oss://bucket/regression/paimon1',\n    'oss.region'='cn-beijing',\n    'oss.endpoint'='oss-cn-beijing.aliyuncs.com',\n    'oss.access_key'='<ak>',\n    'oss.secret_key'='<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"COS",label:"COS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_cosn PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'cosn://bucket/regression/paimon1',\n    'cos.region' = 'ap-beijing',\n    'cos.endpoint' = 'cos.ap-beijing.myqcloud.com',\n    'cos.access_key' = '<ak>',\n    'cos.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"OBS",label:"OBS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_obs PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'obs://bucket/regression/paimon1',\n    'obs.region' = 'cn-north-4',\n    'obs.endpoint' = 'obs.cn-north-4.myhuaweicloud.com',\n    'obs.access_key' = '<ak>',\n    'obs.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"GCS",label:"GCS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_on_gcs_s3_fs PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 's3://bucket/paimon_warehouse',\n    'fs.gcs.support' = 'true',\n    'gs.secret_key' = '<sk>',\n    'gs.access_key' = '<ak>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"MinIO",label:"MinIO",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_minio_minio PROPERTIES (\n    'type' = 'paimon',\n    'warehouse' = 's3://warehouse/wh',\n    'fs.minio.support' = 'true',\n    'minio.endpoint' = 'http://127.0.0.1:19001',\n    'minio.access_key' = 'admin',\n    'minio.secret_key' = 'password',\n    'minio.use_path_style' = 'true'\n);\n"})})})]})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Version 2.1 & 3.0"}),(0,t.jsxs)(r.Z,{children:[(0,t.jsxs)(o.Z,{value:"HDFS",label:"HDFS",default:!0,children:[(0,t.jsx)(s.p,{children:"Access HMS and HDFS services without Kerberos authentication"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG ctl_test_paimon_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'hdfs://127.0.0.1:8020/user/doris/paimon1',\n    'fs.defaultFS' = 'hdfs://127.0.0.1:8020'\n);\n"})})]}),(0,t.jsx)(o.Z,{value:"S3",label:"S3",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_fs_aws_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 's3://bucket/paimon_warehouse',\n    's3.region' = 'ap-east-1',\n    's3.endpoint' = 's3.ap-east-1.amazonaws.com',\n    's3.access_key' = '<ak>',\n    's3.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"OSS",label:"OSS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_oss PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'oss://bucket/regression/paimon1',\n    'oss.region'='cn-beijing',\n    'oss.endpoint'='oss-cn-beijing.aliyuncs.com',\n    'oss.access_key'='<ak>',\n    'oss.secret_key'='<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"COS",label:"COS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_cosn PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'cosn://bucket/regression/paimon1',\n    'cos.region' = 'ap-beijing',\n    'cos.endpoint' = 'cos.ap-beijing.myqcloud.com',\n    'cos.access_key' = '<ak>',\n    'cos.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"OBS",label:"OBS",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_obs PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'filesystem',\n    'warehouse' = 'obs://bucket/regression/paimon1',\n    'obs.region' = 'cn-north-4',\n    'obs.endpoint' = 'obs.cn-north-4.myhuaweicloud.com',\n    'obs.access_key' = '<ak>',\n    'obs.secret_key' = '<sk>'\n);\n"})})}),(0,t.jsx)(o.Z,{value:"MinIO",label:"MinIO",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG paimon_base_filesystem_paimon_minio PROPERTIES (\n    'type' = 'paimon',\n    'warehouse' = 's3://warehouse/wh',\n    'paimon.catalog.type' = 'filesystem',\n    's3.endpoint' = 'http://127.0.0.1:19001',\n    's3.access_key' = '<ak>',\n    's3.secret_key' = '<sk>',\n    's3.path.style.access' = 'true'\n);\n"})})})]})]}),"\n",(0,t.jsx)(s.h2,{id:"query-operations",children:"Query Operations"}),"\n",(0,t.jsx)(s.h3,{id:"basic-query",children:"Basic Query"}),"\n",(0,t.jsx)(s.p,{children:"Once the Catalog is configured, you can query the table data in the Catalog as follows:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"-- 1. Switch to catalog, use database, and query\nSWITCH paimon_ctl;\nUSE paimon_db;\nSELECT * FROM paimon_tbl LIMIT 10;\n\n-- 2. Use Paimon database directly\nUSE paimon_ctl.paimon_db;\nSELECT * FROM paimon_tbl LIMIT 10;\n\n-- 3. Use fully qualified name to query\nSELECT * FROM paimon_ctl.paimon_db.paimon_tbl LIMIT 10;\n"})}),"\n",(0,t.jsx)(s.h3,{id:"batch-incremental-query",children:"Batch Incremental Query"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Since version 3.1.0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Supports ",(0,t.jsx)(s.a,{href:"https://paimon.apache.org/docs/master/flink/sql-query/#batch-incremental",children:"Batch Incremental"})," queries for Paimon, similar to Flink."]}),"\n",(0,t.jsx)(s.p,{children:"Supports querying incremental data within specified snapshot or timestamp intervals. The interval is left-closed and right-open."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"-- between snapshots [0, 5)\nSELECT * FROM paimon_table@incr('startSnapshotId'='0', 'endSnapshotId'='5');\n\n-- between snapshots [0, 5) with specified scan mode\nSELECT * FROM paimon_table@incr('startSnapshotId'='0', 'endSnapshotId'='5', 'incrementalBetweenScanMode'='diff');\n\n-- read from start timestamp\nSELECT * FROM paimon_table@incr('startTimestamp'='1750844949000');\n\n-- read between timestamp\nSELECT * FROM paimon_table@incr('startTimestamp'='1750844949000', 'endTimestamp'='1750944949000');\n"})}),"\n",(0,t.jsx)(s.p,{children:"Parameter:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Example"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"startSnapshotId"})}),(0,t.jsxs)(s.td,{children:["Starting snapshot ID, must be greater than 0. Must be specified with ",(0,t.jsx)(s.code,{children:"endSnapshotId"})," together."]}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"'startSnapshotId'='3'"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"endSnapshotId"})}),(0,t.jsxs)(s.td,{children:["Ending snapshot ID, must be greater than ",(0,t.jsx)(s.code,{children:"startSnapshotId"}),". Must be specified with ",(0,t.jsx)(s.code,{children:"startSnapshotId"})," together."]}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"'endSnapshotId'='10'"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"incrementalBetweenScanMode"})}),(0,t.jsxs)(s.td,{children:["Specifies the incremental read mode, default is ",(0,t.jsx)(s.code,{children:"auto"}),", supports ",(0,t.jsx)(s.code,{children:"delta"}),", ",(0,t.jsx)(s.code,{children:"changelog"})," and ",(0,t.jsx)(s.code,{children:"diff"})]}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"'incrementalBetweenScanMode'='delta'"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"startTimestamp"})}),(0,t.jsx)(s.td,{children:"Starting snapshot timestamp, must be greater than or equal to 0. Unit is millisecond."}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"'startTimestamp'='1750844949000'"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"endTimestamp"})}),(0,t.jsxs)(s.td,{children:["Ending snapshot timestamp, must be greater than ",(0,t.jsx)(s.code,{children:"startTimestamp"}),". Optional, if not specified, reads from ",(0,t.jsx)(s.code,{children:"startTimestamp"})," to the latest snapshot. Unit is millisecond."]}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"'endTimestamp'='1750944949000'"})})]})]})]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Notice:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"startSnapshotId"})," and ",(0,t.jsx)(s.code,{children:"endSnapshotId"})," will compose the Paimon parameter ",(0,t.jsx)(s.code,{children:"'incremental-between'='3,10'"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"startTimestamp"})," and ",(0,t.jsx)(s.code,{children:"endTimestamp"})," will compose the Paimon parameter ",(0,t.jsx)(s.code,{children:"'incremental-between-timestamp'='1750844949000,1750944949000'"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"incrementalBetweenScanMode"})," corresponds to the Paimon parameter ",(0,t.jsx)(s.code,{children:"incremental-between-scan-mode"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Refer to the ",(0,t.jsx)(s.a,{href:"https://paimon.apache.org/docs/master/maintenance/configurations/",children:"Paimon documentation"})," for further details about these parameters."]}),"\n",(0,t.jsx)(s.h3,{id:"time-travel",children:"Time Travel"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Since version 3.1.0"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Supports reading specified snapshots of Paimon tables."}),"\n",(0,t.jsx)(s.p,{children:"By default, read requests only read the latest version of snapshots."}),"\n",(0,t.jsxs)(s.p,{children:["You can query snapshots of a specified Paimon table through the ",(0,t.jsx)(s.code,{children:"$snapshots"})," table function:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"Doris > SELECT snapshot_id,commit_time FROM paimon_tbl$snapshots;\n+-------------+-------------------------+\n| snapshot_id | commit_time             |\n+-------------+-------------------------+\n|           1 | 2025-08-17 06:05:52.740 |\n|           2 | 2025-08-17 06:05:52.979 |\n|           3 | 2025-08-17 06:05:53.240 |\n|           4 | 2025-08-17 06:05:53.561 |\n+-------------+-------------------------+\n"})}),"\n",(0,t.jsxs)(s.p,{children:["You can use ",(0,t.jsx)(s.code,{children:"FOR TIME AS OF"})," and ",(0,t.jsx)(s.code,{children:"FOR VERSION AS OF"})," statements to read historical version data based on snapshot ID or the time when the snapshot was created. Examples:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:'-- Notice:\n-- Before 3.1.1, only support format like YYYY-MM-DD HH:MM:SS.SSS\n-- After 3.1.2, support YYYY-MM-DD HH:MM:SS and YYYY-MM-DD\nSELECT * FROM paimon_tbl FOR TIME AS OF "2025-08-17 06:05:52.740";\nSELECT * FROM paimon_tbl FOR TIME AS OF "2025-08-17 06:05:52";\nSELECT * FROM paimon_tbl FOR TIME AS OF "2025-08-17";\n\n-- Notice: The timestamp must be precise down to the millisecond.\nSELECT * FROM paimon_tbl FOR TIME AS OF 1755381952740;\n-- Use snapshot id\nSELECT * FROM paimon_tbl FOR VERSION AS OF 1;\n'})}),"\n",(0,t.jsx)(s.h3,{id:"branch-and-tag",children:"Branch and Tag"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Since version 3.1.0"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Supports reading branches and tags of specified Paimon tables."}),"\n",(0,t.jsxs)(s.p,{children:["You can use the ",(0,t.jsx)(s.code,{children:"$branches"})," and ",(0,t.jsx)(s.code,{children:"$tags"})," system tables to view branches and tags of Paimon tables:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Doris > SELECT * FROM paimon_tbl$branches;\n+-------------+-------------------------+\n| branch_name | create_time             |\n+-------------+-------------------------+\n| b_1         | 2025-08-17 06:34:37.294 |\n| b_2         | 2025-08-17 06:34:37.297 |\n+-------------+-------------------------+\n\nDoris > SELECT * FROM paimon_tbl$tags;\n+----------+-------------+-----------+-------------------------+--------------+-------------+---------------+\n| tag_name | snapshot_id | schema_id | commit_time             | record_count | create_time | time_retained |\n+----------+-------------+-----------+-------------------------+--------------+-------------+---------------+\n| t_1      |           1 |         0 | 2025-08-17 06:05:52.740 |            3 | NULL        | NULL          |\n| t_2      |           2 |         0 | 2025-08-17 06:05:52.979 |            6 | NULL        | NULL          |\n| t_3      |           3 |         0 | 2025-08-17 06:05:53.240 |            9 | NULL        | NULL          |\n| t_4      |           4 |         0 | 2025-08-17 06:05:53.561 |           12 | NULL        | NULL          |\n+----------+-------------+-----------+-------------------------+--------------+-------------+---------------+\n"})}),"\n",(0,t.jsx)(s.p,{children:"Supports various syntax forms to be compatible with systems like Spark/Trino:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:'-- BRANCH\nSELECT * FROM paimon_tbl@branch(branch1);\nSELECT * FROM paimon_tbl@branch("name" = "branch1");\n\n-- TAG\nSELECT * FROM paimon_tbl@tag(tag1);\nSELECT * FROM paimon_tbl@tag("name" = "tag1");\nSELECT * FROM paimon_tbl FOR VERSION AS OF \'tag1\';\n'})}),"\n",(0,t.jsxs)(s.p,{children:["For the ",(0,t.jsx)(s.code,{children:"FOR VERSION AS OF"})," syntax, Doris will automatically determine whether the parameter is a timestamp"]}),"\n",(0,t.jsx)(s.h2,{id:"system-tables",children:"System Tables"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Since version 3.1.0"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Doris supports querying Paimon system tables to retrieve table-related metadata. System tables can be used to view snapshot history, manifest files, data files, partitions, and other information."}),"\n",(0,t.jsxs)(s.p,{children:["To access metadata of a Paimon table, add a ",(0,t.jsx)(s.code,{children:"$"})," symbol after the table name, followed by the system table name:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$system_table_name;\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Note: Doris does not support reading Paimon global system tables, which are only supported in Flink."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"schemas",children:"schemas"}),"\n",(0,t.jsxs)(s.p,{children:["Shows current and historical schema information of the table. When modifying table schema using ",(0,t.jsx)(s.code,{children:"ALTER TABLE"}),", ",(0,t.jsx)(s.code,{children:"CREATE TABLE AS"}),", or ",(0,t.jsx)(s.code,{children:"CREATE DATABASE AS"})," statements, each modification generates a record in the schemas table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$schemas;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:'+-----------+--------------------------------------------------------------------------------------------------------------------+----------------+--------------+---------+---------+-------------------------+\n| schema_id | fields                                                                                                             | partition_keys | primary_keys | options | comment | update_time             |\n+-----------+--------------------------------------------------------------------------------------------------------------------+----------------+--------------+---------+---------+-------------------------+\n|         0 | [{"id":0,"name":"k","type":"INT NOT NULL"},{"id":1,"name":"f0","type":"INT"},{"id":2,"name":"f1","type":"STRING"}] | []             | ["k"]        | {}      |         | 2025-03-04 22:48:41.666 |\n+-----------+--------------------------------------------------------------------------------------------------------------------+----------------+--------------+---------+---------+-------------------------+\n'})}),"\n",(0,t.jsx)(s.h3,{id:"snapshots",children:"snapshots"}),"\n",(0,t.jsx)(s.p,{children:"Shows all valid snapshot information of the table, including snapshot creation time, commit user, operation type, etc.:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$snapshots;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-------------+-----------+--------------------------------------+---------------------+-------------+-------------------------+------------------------------------------------------+------------------------------------------------------+-------------------------+--------------------+--------------------+------------------------+----------------------+\n| snapshot_id | schema_id | commit_user                          | commit_identifier   | commit_kind | commit_time             | base_manifest_list                                   | delta_manifest_list                                  | changelog_manifest_list | total_record_count | delta_record_count | changelog_record_count | watermark            |\n+-------------+-----------+--------------------------------------+---------------------+-------------+-------------------------+------------------------------------------------------+------------------------------------------------------+-------------------------+--------------------+--------------------+------------------------+----------------------+\n|           1 |         0 | d7ea4996-92c7-469f-b9ff-c76525954f1c | 9223372036854775807 | APPEND      | 2025-03-04 22:48:45.575 | manifest-list-dc5490ba-420c-445a-b6f7-6962d394935c-0 | manifest-list-dc5490ba-420c-445a-b6f7-6962d394935c-1 | NULL                    |                  1 |                  1 |                      0 | -9223372036854775808 |\n|           2 |         0 | 34de47f6-31d1-4f06-b378-c85ef4fbca41 | 9223372036854775807 | APPEND      | 2025-07-01 23:11:35.406 | manifest-list-dca6aa5b-6fc6-4b4f-ac22-acfa15bbf171-0 | manifest-list-dca6aa5b-6fc6-4b4f-ac22-acfa15bbf171-1 | NULL                    |                  2 |                  1 |                      0 | -9223372036854775808 |\n|           3 |         0 | 89f67183-a1f8-4ee9-b73c-3f7e992b79a7 | 9223372036854775807 | APPEND      | 2025-07-01 23:11:45.114 | manifest-list-6d624d1b-c774-4d95-905e-8258a7b89ecb-0 | manifest-list-6d624d1b-c774-4d95-905e-8258a7b89ecb-1 | NULL                    |                  3 |                  1 |                      0 | -9223372036854775808 |\n|           4 |         0 | 31924a7c-1389-490c-adf1-3bb805b33cd7 | 9223372036854775807 | APPEND      | 2025-07-01 23:12:42.042 | manifest-list-09097a51-afde-485e-929b-d2cc39eb6eb2-0 | manifest-list-09097a51-afde-485e-929b-d2cc39eb6eb2-1 | NULL                    |                  5 |                  2 |                      0 | -9223372036854775808 |\n|           5 |         0 | 1e90a80b-41cb-4242-b97c-889728f76810 | 9223372036854775807 | APPEND      | 2025-07-01 23:14:26.445 | manifest-list-b8471969-9c4d-41cd-b790-64f6efb2d142-0 | manifest-list-b8471969-9c4d-41cd-b790-64f6efb2d142-1 | NULL                    |                  6 |                  1 |                      0 | -9223372036854775808 |\n|           6 |         0 | 1e90a80b-41cb-4242-b97c-889728f76810 | 9223372036854775807 | COMPACT     | 2025-07-01 23:14:29.317 | manifest-list-b8471969-9c4d-41cd-b790-64f6efb2d142-2 | manifest-list-b8471969-9c4d-41cd-b790-64f6efb2d142-3 | NULL                    |                  5 |                 -1 |                      0 | -9223372036854775808 |\n+-------------+-----------+--------------------------------------+---------------------+-------------+-------------------------+------------------------------------------------------+------------------------------------------------------+-------------------------+--------------------+--------------------+------------------------+----------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"options",children:"options"}),"\n",(0,t.jsx)(s.p,{children:"Shows current configuration options of the table. If a table option is not included in the table, that option is set to its default value:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$options;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+------------------------+--------------------+\n|         key            |        value       |\n+------------------------+--------------------+\n| snapshot.time-retained |         5 h        |\n+------------------------+--------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"files",children:"files"}),"\n",(0,t.jsx)(s.p,{children:"Shows information about all data files pointed to by the current snapshot, including file format, record count, file size, etc.:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$files;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"mysql> SELECT * FROM my_table$files;\n+-----------+--------+------------------------------------------------------------------------------------------------------------------------+-------------+-----------+-------+--------------+--------------------+---------+---------+-------------------+---------------------+---------------------+---------------------+---------------------+-------------------------+-------------+\n| partition | bucket | file_path                                                                                                              | file_format | schema_id | level | record_count | file_size_in_bytes | min_key | max_key | null_value_counts | min_value_stats     | max_value_stats     | min_sequence_number | max_sequence_number | creation_time           | file_source |\n+-----------+--------+------------------------------------------------------------------------------------------------------------------------+-------------+-----------+-------+--------------+--------------------+---------+---------+-------------------+---------------------+---------------------+---------------------+---------------------+-------------------------+-------------+\n| {}        |      0 | s3://paimon-warehouse-dev/test-flink/cookbook.db/my_table/bucket-0/data-b4a49c57-6ef6-4c04-8813-07a4960d987c-0.parquet | parquet     |         0 |     5 |            5 |               1321 | [1]     | [6]     | {f0=0, f1=0, k=0} | {f0=4, f1=111, k=1} | {f0=11, f1=k7, k=6} |                   0 |                   5 | 2025-07-01 23:14:23.967 | COMPACT     |\n+-----------+--------+------------------------------------------------------------------------------------------------------------------------+-------------+-----------+-------+--------------+--------------------+---------+---------+-------------------+---------------------+---------------------+---------------------+---------------------+-------------------------+-------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"tags",children:"tags"}),"\n",(0,t.jsx)(s.p,{children:"Shows all tag information of the table, including tag names and associated snapshots:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$tags;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+----------+-------------+-----------+-------------------------+--------------+--------------+\n| tag_name | snapshot_id | schema_id |             commit_time | record_count |   branches   |\n+----------+-------------+-----------+-------------------------+--------------+--------------+\n|     tag1 |           1 |         0 | 2025-03-04 14:55:29.344 |            3 |      []      |\n|     tag3 |           3 |         0 | 2025-03-04 14:58:24.691 |            7 |  [branch-1]  |\n+----------+-------------+-----------+-------------------------+--------------+--------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"branches",children:"branches"}),"\n",(0,t.jsx)(s.p,{children:"Shows all known branch information of the table:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$branches;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+----------------------+-------------------------+\n|          branch_name |             create_time |\n+----------------------+-------------------------+\n|              branch1 | 2025-03-04 20:31:39.084 |\n|              branch2 | 2025-03-04 21:11:14.373 |\n+----------------------+-------------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"consumers",children:"consumers"}),"\n",(0,t.jsx)(s.p,{children:"Shows consumer information of the table, used to track data consumption:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$consumers;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-------------+------------------+\n| consumer_id | next_snapshot_id |\n+-------------+------------------+\n|         id1 |                1 |\n|         id2 |                3 |\n+-------------+------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"manifests",children:"manifests"}),"\n",(0,t.jsx)(s.p,{children:"Shows manifest file information of the table's current snapshot:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$manifests;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-------------------------------------------------+-----------+-----------------+-------------------+-----------+---------------------+---------------------+\n| file_name                                       | file_size | num_added_files | num_deleted_files | schema_id | min_partition_stats | max_partition_stats |\n+-------------------------------------------------+-----------+-----------------+-------------------+-----------+---------------------+---------------------+\n| manifest-3df9bb64-5c11-4aef-994e-d8717fedfc70-0 |      1949 |               1 |                 0 |         0 | {}                  | {}                  |\n| manifest-d7eb4ec4-7238-478a-9ae6-91a4ccebd561-0 |      1946 |               1 |                 0 |         0 | {}                  | {}                  |\n| manifest-3b6f4079-c893-4413-aedc-1e8fbcea6db1-0 |      1948 |               1 |                 0 |         0 | {}                  | {}                  |\n| manifest-abe5177f-82da-4e86-9864-40efffb391bd-0 |      1964 |               1 |                 0 |         0 | {}                  | {}                  |\n| manifest-ee89dff3-a523-4655-a4b8-d7c9e471a1d6-0 |      1949 |               1 |                 0 |         0 | {}                  | {}                  |\n| manifest-ee89dff3-a523-4655-a4b8-d7c9e471a1d6-1 |      2232 |               1 |                 5 |         0 | {}                  | {}                  |\n+-------------------------------------------------+-----------+-----------------+-------------------+-----------+---------------------+---------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"aggregation_fields",children:"aggregation_fields"}),"\n",(0,t.jsx)(s.p,{children:"Shows aggregation field information of the table, used for field configuration in aggregate tables:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$aggregation_fields;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+------------+--------------+----------+------------------+---------+\n| field_name | field_type   | function | function_options | comment |\n+------------+--------------+----------+------------------+---------+\n| k          | INT NOT NULL | []       | []               | NULL    |\n| f0         | INT          | []       | []               | NULL    |\n| f1         | STRING       | []       | []               | NULL    |\n+------------+--------------+----------+------------------+---------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"partitions",children:"partitions"}),"\n",(0,t.jsx)(s.p,{children:"Shows partition information of the table, including total record count and total file size for each partition:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$partitions;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-----------+--------------+--------------------+------------+-------------------------+\n| partition | record_count | file_size_in_bytes | file_count | last_update_time        |\n+-----------+--------------+--------------------+------------+-------------------------+\n| {}        |            5 |               1321 |          1 | 2025-07-01 23:14:23.967 |\n+-----------+--------------+--------------------+------------+-------------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"buckets",children:"buckets"}),"\n",(0,t.jsx)(s.p,{children:"Shows bucket information of the table, including statistics for each bucket:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$buckets;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-----------+--------+--------------+--------------------+------------+-------------------------+\n| partition | bucket | record_count | file_size_in_bytes | file_count | last_update_time        |\n+-----------+--------+--------------+--------------------+------------+-------------------------+\n| {}        |      0 |            5 |               1321 |          1 | 2025-07-01 23:14:23.967 |\n+-----------+--------+--------------+--------------------+------------+-------------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"statistics",children:"statistics"}),"\n",(0,t.jsx)(s.p,{children:"Shows statistical information of the table, including row count, data size, and other statistics:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$statistics;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+--------------+------------+-----------------------+------------------+----------+\n|  snapshot_id |  schema_id |     mergedRecordCount | mergedRecordSize |  colstat |\n+--------------+------------+-----------------------+------------------+----------+\n|            2 |          0 |              2        |         2        |    {}    |\n+--------------+------------+-----------------------+------------------+----------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"table_indexes",children:"table_indexes"}),"\n",(0,t.jsx)(s.p,{children:"Shows index information of the table:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM my_table$table_indexes;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+--------------------------------+-------------+--------------------------------+--------------------------------+----------------------+----------------------+--------------------------------+\n|                      partition |      bucket |                     index_type |                      file_name |            file_size |            row_count |                      dv_ranges |\n+--------------------------------+-------------+--------------------------------+--------------------------------+----------------------+----------------------+--------------------------------+\n|                   {2025-03-01} |           0 |                           HASH | index-70abfebf-149e-4796-9f... |                   12 |                    3 |                         <NULL> |\n|                   {2025-04-01} |           0 |               DELETION_VECTORS | index-633857e7-cdce-47d2-87... |                   33 |                    1 | [(data-346cb9c8-4032-4d66-a... |\n+--------------------------------+-------------+--------------------------------+--------------------------------+----------------------+----------------------+--------------------------------+\n"})}),"\n",(0,t.jsx)(s.h3,{id:"system-table-use-cases",children:"System Table Use Cases"}),"\n",(0,t.jsx)(s.p,{children:"Through system tables, you can easily accomplish the following operations and monitoring tasks."}),"\n",(0,t.jsx)(s.h4,{id:"view-the-latest-snapshot-information-of-a-table-to-understand-its-current-state",children:"View the latest snapshot information of a table to understand its current state"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT snapshot_id, commit_time, commit_kind, total_record_count FROM catalog_sales$snapshots ORDER BY snapshot_id DESC;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+-------------+-------------------------+-------------+--------------------+\n| snapshot_id | commit_time             | commit_kind | total_record_count |\n+-------------+-------------------------+-------------+--------------------+\n|           1 | 2025-07-01 21:21:54.179 | APPEND      |           14329288 |\n+-------------+-------------------------+-------------+--------------------+\n"})}),"\n",(0,t.jsx)(s.h4,{id:"view-table-information-for-snapshots",children:"View table information for snapshots"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT s.snapshot_id, t.schema_id, t.fields FROM store_sales$snapshots s JOIN store_sales$schemas t ON s.schema_id=t.schema_id;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:'+-------------+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| snapshot_id | schema_id | fields                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |\n+-------------+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|           1 |         0 | [{"id":0,"name":"ss_sold_date_sk","type":"INT"},{"id":1,"name":"ss_item_sk","type":"INT NOT NULL"},{"id":2,"name":"ss_ticket_number","type":"INT NOT NULL"},{"id":3,"name":"ss_sold_time_sk","type":"INT"},{"id":4,"name":"ss_customer_sk","type":"INT"},{"id":5,"name":"ss_cdemo_sk","type":"INT"},{"id":6,"name":"ss_hdemo_sk","type":"INT"},{"id":7,"name":"ss_addr_sk","type":"INT"},{"id":8,"name":"ss_store_sk","type":"INT"},{"id":9,"name":"ss_promo_sk","type":"INT"},{"id":10,"name":"ss_quantity","type":"INT"},{"id":11,"name":"ss_wholesale_cost","type":"DECIMAL(7, 2)"},{"id":12,"name":"ss_list_price","type":"DECIMAL(7, 2)"},{"id":13,"name":"ss_sales_price","type":"DECIMAL(7, 2)"},{"id":14,"name":"ss_ext_discount_amt","type":"DECIMAL(7, 2)"},{"id":15,"name":"ss_ext_sales_price","type":"DECIMAL(7, 2)"},{"id":16,"name":"ss_ext_wholesale_cost","type":"DECIMAL(7, 2)"},{"id":17,"name":"ss_ext_list_price","type":"DECIMAL(7, 2)"},{"id":18,"name":"ss_ext_tax","type":"DECIMAL(7, 2)"},{"id":19,"name":"ss_coupon_amt","type":"DECIMAL(7, 2)"},{"id":20,"name":"ss_net_paid","type":"DECIMAL(7, 2)"},{"id":21,"name":"ss_net_paid_inc_tax","type":"DECIMAL(7, 2)"},{"id":22,"name":"ss_net_profit","type":"DECIMAL(7, 2)"}] |\n|           2 |         0 | [{"id":0,"name":"ss_sold_date_sk","type":"INT"},{"id":1,"name":"ss_item_sk","type":"INT NOT NULL"},{"id":2,"name":"ss_ticket_number","type":"INT NOT NULL"},{"id":3,"name":"ss_sold_time_sk","type":"INT"},{"id":4,"name":"ss_customer_sk","type":"INT"},{"id":5,"name":"ss_cdemo_sk","type":"INT"},{"id":6,"name":"ss_hdemo_sk","type":"INT"},{"id":7,"name":"ss_addr_sk","type":"INT"},{"id":8,"name":"ss_store_sk","type":"INT"},{"id":9,"name":"ss_promo_sk","type":"INT"},{"id":10,"name":"ss_quantity","type":"INT"},{"id":11,"name":"ss_wholesale_cost","type":"DECIMAL(7, 2)"},{"id":12,"name":"ss_list_price","type":"DECIMAL(7, 2)"},{"id":13,"name":"ss_sales_price","type":"DECIMAL(7, 2)"},{"id":14,"name":"ss_ext_discount_amt","type":"DECIMAL(7, 2)"},{"id":15,"name":"ss_ext_sales_price","type":"DECIMAL(7, 2)"},{"id":16,"name":"ss_ext_wholesale_cost","type":"DECIMAL(7, 2)"},{"id":17,"name":"ss_ext_list_price","type":"DECIMAL(7, 2)"},{"id":18,"name":"ss_ext_tax","type":"DECIMAL(7, 2)"},{"id":19,"name":"ss_coupon_amt","type":"DECIMAL(7, 2)"},{"id":20,"name":"ss_net_paid","type":"DECIMAL(7, 2)"},{"id":21,"name":"ss_net_paid_inc_tax","type":"DECIMAL(7, 2)"},{"id":22,"name":"ss_net_profit","type":"DECIMAL(7, 2)"}] |\n+-------------+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n'})}),"\n",(0,t.jsx)(s.h4,{id:"view-data-distribution-of-buckets",children:"View data distribution of buckets"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT `bucket` , COUNT(*) as file_count, SUM(file_size_in_bytes)/1024/1024 as total_size_mb from paimon_s3.tpcds.catalog_sales$files GROUP BY `bucket`  ORDER BY total_size_mb;\n"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Note: Many fields in Paimon system tables are keywords in Doris, so they need to be enclosed in backticks."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Result:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"+--------+------------+--------------------+\n| bucket | file_count | total_size_mb      |\n+--------+------------+--------------------+\n|     35 |          1 | 12.144722938537598 |\n|     81 |          1 | 12.143454551696777 |\n|     37 |          1 |  12.14071273803711 |\n|     36 |          1 | 12.139023780822754 |\n|     63 |          1 | 12.137332916259766 |\n|      7 |          1 | 12.122495651245117 |\n|     15 |          1 | 12.117934226989746 |\n|     11 |          1 | 12.116133689880371 |\n|     12 |          1 |  12.11155891418457 |\n|     46 |          1 | 12.111005783081055 |\n+--------+------------+--------------------+\n"})}),"\n",(0,t.jsx)(s.h2,{id:"appendix",children:"Appendix"}),"\n",(0,t.jsx)(s.h3,{id:"faq",children:"FAQ"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"Could not find a file io implementation for scheme 's3a' in the classpath"})}),"\n",(0,t.jsx)(s.p,{children:"In versions prior to 3.1, when using HMS as metadata storage with 's3a' or 's3' protocol on the storage side, the following error occurs:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"java.io.UncheckedIOException: org.apache.paimon.fs.UnsupportedSchemeException: Could not find a file io implementation for scheme 's3a' in the classpath. Hadoop FileSystem also cannot access this path 's3a://`.\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Versions prior to 3.1"}),"\nVersions prior to 3.1 do not support the ",(0,t.jsx)(s.code,{children:"s3a"})," protocol. If you must use it, you can temporarily add the ",(0,t.jsx)(s.code,{children:"s3a"}),"-related parameters as a workaround."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Version 3.1 and above"}),"\nStarting from version 3.1, explicitly adding ",(0,t.jsx)(s.code,{children:"s3a"})," parameters is no longer necessary. If you need to override Paimon storage parameters, you can add parameters with the ",(0,t.jsx)(s.code,{children:"paimon.fs."})," prefix. Since Paimon internally uses the HDFS API, all ",(0,t.jsx)(s.code,{children:"fs.s3a.*"})," parameters are supported."]}),"\n",(0,t.jsx)(s.p,{children:"For example:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:'CREATE CATALOG `paimon_hms_on_s3a` PROPERTIES (\n    "type" = "paimon",\n    "paimon.catalog.type" = "hms",\n    "hive.metastore.uris" = "thrift://172.20.48.119:9383"\n    "warehouse" = "s3a://bucket/paimon_warehouse",\n    "s3.access_key" = "<ak>",\n    "s3.secret_key" = "<sk>",\n    "s3.region" = "ap-east-1",\n    "s3.endpoint" = "s3.ap-east-1.amazonaws.com",\n    -- explicitly add s3a parameters\n    "fs.s3a.access.key"="<ak>",\n    "fs.s3a.secret.key"="<sk>",\n    "fs.s3a.endpoint.region"="ap-east-1",\n    "fs.s3a.endpoint"="s3.ap-east-1.amazonaws.com",\n    "fs.s3a.impl"= "org.apache.hadoop.fs.s3a.S3AFileSystem",\n); \n'})}),"\n",(0,t.jsxs)(s.p,{children:["When using the ",(0,t.jsx)(s.code,{children:"s3"})," protocol, you need to explicitly add Paimon S3-related parameters, i.e., add the ",(0,t.jsx)(s.code,{children:"paimon."})," prefix. For example:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE CATALOG test_paimon_on_hms_aws_catalog PROPERTIES (\n    'type' = 'paimon',\n    'paimon.catalog.type' = 'hms',\n    'warehouse' = 's3://bucket-hk/paimon_warehouse',\n    'hive.metastore.uris' = 'thrift://127.0.0.1:9383',\n    's3.region' = 'ap-east-1',\n    's3.endpoint' = 's3.ap-east-1.amazonaws.com',\n    's3.access_key' = '<ak>',\n    's3.secret_key' = '<sk>',\n    -- explicitly add s3a parameters\n    'paimon.s3.region' = 'ap-east-1',\n    'paimon.s3.endpoint' = 'ap-east-1',\n    'paimon.s3.access-key' = '<ak>',\n    'paimon.s3.secret-key' = '<sk>'\n);\n"})}),"\n"]}),"\n"]})]})}function m(e={}){let{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},905525:function(e,s,n){n.d(s,{Z:()=>i});var a=n("785893");n("667294");var t=n("74904");function i(e){let{children:s,hidden:n,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.Z)("tabItem_Ymn6",i),hidden:n,children:s})}},247902:function(e,s,n){n.d(s,{Z:()=>f});var a=n("785893"),t=n("667294"),i=n("74904"),r=n("69599"),o=n("616550"),l=n("232000"),c=n("4520"),d=n("38341"),h=n("876009");function p(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||t.isValidElement(e)&&function(e){let{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){let{value:s,tabValues:n}=e;return n.some(e=>e.value===s)}var u=n("7227");function x(e){let{className:s,block:n,selectedValue:t,selectValue:o,tabValues:l}=e,c=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.o5)(),h=e=>{let s=e.currentTarget,n=l[c.indexOf(s)].value;n!==t&&(d(s),o(n))},p=e=>{let s=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{let n=c.indexOf(e.currentTarget)+1;s=c[n]??c[0];break}case"ArrowLeft":{let n=c.indexOf(e.currentTarget)-1;s=c[n]??c[c.length-1]}}s?.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},s),children:l.map(e=>{let{value:s,label:n,attributes:r}=e;return(0,a.jsx)("li",{role:"tab",tabIndex:t===s?0:-1,"aria-selected":t===s,ref:e=>c.push(e),onKeyDown:p,onClick:h,...r,className:(0,i.Z)("tabs__item","tabItem_LNqP",r?.className,{"tabs__item--active":t===s}),children:n??s},s)})})}function j(e){let{lazy:s,children:n,selectedValue:r}=e,o=(Array.isArray(n)?n:[n]).filter(Boolean);if(s){let e=o.find(e=>e.props.value===r);return e?(0,t.cloneElement)(e,{className:(0,i.Z)("margin-top--md",e.props.className)}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:o.map((e,s)=>(0,t.cloneElement)(e,{key:s,hidden:e.props.value!==r}))})}function _(e){let s=function(e){let{defaultValue:s,queryString:n=!1,groupId:a}=e,i=function(e){let{values:s,children:n}=e;return(0,t.useMemo)(()=>{let e=s??p(n).map(e=>{let{props:{value:s,label:n,attributes:a,default:t}}=e;return{value:s,label:n,attributes:a,default:t}});return!function(e){let s=(0,d.lx)(e,(e,s)=>e.value===s.value);if(s.length>0)throw Error(`Docusaurus error: Duplicate values "${s.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[s,n])}(e),[r,u]=(0,t.useState)(()=>(function(e){let{defaultValue:s,tabValues:n}=e;if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!m({value:s,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${s}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return s}let a=n.find(e=>e.default)??n[0];if(!a)throw Error("Unexpected error: 0 tabValues");return a.value})({defaultValue:s,tabValues:i})),[x,j]=function(e){let{queryString:s=!1,groupId:n}=e,a=(0,o.k6)(),i=function(e){let{queryString:s=!1,groupId:n}=e;if("string"==typeof s)return s;if(!1===s)return null;if(!0===s&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:s,groupId:n});return[(0,c._X)(i),(0,t.useCallback)(e=>{if(!i)return;let s=new URLSearchParams(a.location.search);s.set(i,e),a.replace({...a.location,search:s.toString()})},[i,a])]}({queryString:n,groupId:a}),[_,f]=function(e){let{groupId:s}=e,n=s?`docusaurus.tab.${s}`:null,[a,i]=(0,h.Nk)(n);return[a,(0,t.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:a}),g=(()=>{let e=x??_;return m({value:e,tabValues:i})?e:null})();return(0,l.Z)(()=>{g&&u(g)},[g]),{selectedValue:r,selectValue:(0,t.useCallback)(e=>{if(!m({value:e,tabValues:i}))throw Error(`Can't select invalid tab value=${e}`);u(e),j(e),f(e)},[j,f,i]),tabValues:i}}(e);return(0,a.jsxs)("div",{className:(0,i.Z)("tabs-container","tabList__CuJ"),children:[(0,a.jsx)(x,{...s,...e}),(0,a.jsx)(j,{...s,...e})]})}function f(e){let s=(0,u.Z)();return(0,a.jsx)(_,{...e,children:p(e.children)},String(s))}},250065:function(e,s,n){n.d(s,{Z:function(){return o},a:function(){return r}});var a=n(667294);let t={},i=a.createContext(t);function r(e){let s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);