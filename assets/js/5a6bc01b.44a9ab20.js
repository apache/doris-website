"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["418107"],{396936:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>a,metadata:()=>s,assets:()=>o,toc:()=>c,contentTitle:()=>r});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/spatial-functions/st-distance-sphere","title":"ST_DISTANCE_SPHERE","description":"Description","source":"@site/versioned_docs/version-3.x/sql-manual/sql-functions/scalar-functions/spatial-functions/st-distance-sphere.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/spatial-functions","slug":"/sql-manual/sql-functions/scalar-functions/spatial-functions/st-distance-sphere","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/spatial-functions/st-distance-sphere","draft":false,"unlisted":false,"tags":[],"version":"3.x","frontMatter":{"title":"ST_DISTANCE_SPHERE","language":"en"},"sidebar":"docs","previous":{"title":"ST_DISJOINT","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/spatial-functions/st-disjoint"},"next":{"title":"ST_GEOMETRYFROMTEXT","permalink":"/docs/3.x/sql-manual/sql-functions/scalar-functions/spatial-functions/st-geometryfromtext"}}'),i=t("785893"),l=t("250065");let a={title:"ST_DISTANCE_SPHERE",language:"en"},r=void 0,o={},c=[{value:"Description",id:"description",level:2},{value:"Sytax",id:"sytax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Retuen value",id:"retuen-value",level:2},{value:"Example",id:"example",level:2}];function d(e){let n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(n.p,{children:"Calculate the spherical distance between two points on the Earth, in meters. The input parameters are the longitude of point X, latitude of point X, longitude of point Y, and latitude of point Y respectively."}),"\n",(0,i.jsx)(n.h2,{id:"sytax",children:"Sytax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ST_DISTANCE_SPHERE( <x_lng>, <x_lat>, <y_lng>, <y_lat>)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<x_lng>"})}),(0,i.jsx)(n.td,{children:"Longitude of point X, of type DOUBLE, with a valid range of [-180, 180] (returns NULL if out of range)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<y_lng>"})}),(0,i.jsx)(n.td,{children:"Latitude of point X, of type DOUBLE, with a valid range of [-90, 90] (returns NULL if out of range)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<x_lat>"})}),(0,i.jsx)(n.td,{children:"Longitude of point Y, of type DOUBLE, with a valid range of [-180, 180] (returns NULL if out of range)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<y_lat>"})}),(0,i.jsx)(n.td,{children:"Latitude of point Y, of type DOUBLE, with a valid range of [-90, 90] (returns NULL if out of range)."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"retuen-value",children:"Retuen value"}),"\n",(0,i.jsx)(n.p,{children:"Returns the shortest spherical distance between the two points, in meters (of type DOUBLE)."}),"\n",(0,i.jsx)(n.p,{children:"ST_DISTANCE_SPHERE has the following edge cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If any input parameter is NULL, returns NULL."}),"\n",(0,i.jsx)(n.li,{children:"If longitude is out of [-180, 180] or latitude is out of [-90, 90], returns NULL."}),"\n",(0,i.jsx)(n.li,{children:"If the two points are completely identical (with the same longitude and latitude values), returns 0 (distance is 0)."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.p,{children:"Two identical points (returns 0)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select st_distance_sphere(116.35620117, 39.939093, 116.4274406433, 39.9020987219);\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"+----------------------------------------------------------------------------+\n| st_distance_sphere(116.35620117, 39.939093, 116.4274406433, 39.9020987219) |\n+----------------------------------------------------------------------------+\n|                                                         7336.9135549995917 |\n+----------------------------------------------------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"Two points on the equator (longitude difference of 1\xb0, latitude 0\xb0)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"mysql> SELECT ST_DISTANCE_SPHERE(0, 0, 1, 0);\n+--------------------------------+\n| ST_DISTANCE_SPHERE(0, 0, 1, 0) |\n+--------------------------------+\n|             111195.10117748393 |\n+--------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"Actual nearby points with a longitude difference of 20\xb0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"\n-- Point X(170, 0), Point Y(-170, 0) (longitude difference of 20\xb0 instead of 340\xb0, taking the shortest path)\nmysql> SELECT ST_DISTANCE_SPHERE(170, 0, -170, 0);\n+-------------------------------------+\n| ST_DISTANCE_SPHERE(170, 0, -170, 0) |\n+-------------------------------------+\n|                   2223902.023549678 |\n+-------------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"Invalid parameter (latitude out of range)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"mysql> SELECT ST_DISTANCE_SPHERE(116, 39, 120, 91);\n+--------------------------------------+\n| ST_DISTANCE_SPHERE(116, 39, 120, 91) |\n+--------------------------------------+\n|                                 NULL |\n+--------------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"NULL parameter returns NULL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"mysql> SELECT ST_DISTANCE_SPHERE(NULL, 39.9, 116.4, 30);\n+-------------------------------------------+\n| ST_DISTANCE_SPHERE(NULL, 39.9, 116.4, 30) |\n+-------------------------------------------+\n|                                      NULL |\n+-------------------------------------------+\n"})}),"\n",(0,i.jsx)(n.p,{children:"Two identical coordinates return 0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"\nmysql>  SELECT ST_DISTANCE_SPHERE(1,1 , 1, 1);\n+--------------------------------+\n| ST_DISTANCE_SPHERE(1,1 , 1, 1) |\n+--------------------------------+\n|                              0 |\n+--------------------------------+\n"})})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return r},a:function(){return a}});var s=t(667294);let i={},l=s.createContext(i);function a(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);