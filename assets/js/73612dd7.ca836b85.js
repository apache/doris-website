"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["651296"],{195381:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>i,metadata:()=>a,assets:()=>d,toc:()=>c,contentTitle:()=>l});var a=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/date-time-functions/years-diff","title":"YEARS_DIFF","description":"Description","source":"@site/docs/sql-manual/sql-functions/scalar-functions/date-time-functions/years-diff.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/date-time-functions","slug":"/sql-manual/sql-functions/scalar-functions/date-time-functions/years-diff","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/years-diff","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"YEARS_DIFF","language":"en"},"sidebar":"docs","previous":{"title":"YEARS_ADD","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/years-add"},"next":{"title":"YEARS_SUB","permalink":"/docs/dev/sql-manual/sql-functions/scalar-functions/date-time-functions/years-sub"}}'),r=t("785893"),s=t("250065");let i={title:"YEARS_DIFF",language:"en"},l=void 0,d={},c=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return Value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function o(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"The YEARS_DIFF function is used to calculate the complete year difference between two date or time values, with the result being the number of years from the start time to the end time. It supports processing DATE and DATETIME types, and considers the complete time difference (including months, days, hours, minutes, and seconds) when calculating."}),"\n",(0,r.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"YEARS_DIFF(`<date_or_time_expr1>`, `<date_or_time_expr2>`)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<date_or_time_expr1>"})}),(0,r.jsxs)(n.td,{children:["End date, supports date/datetime types. For datetime and date formats, please refer to ",(0,r.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/datetime-conversion",children:"datetime conversion"})," and ",(0,r.jsx)(n.a,{href:"../../../../../docs/sql-manual/basic-element/sql-data-types/conversion/date-conversion",children:"date conversion"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<date_or_time_expr2>"})}),(0,r.jsx)(n.td,{children:"Start date, supports date/datetime types and strings conforming to date-time format"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"return-value",children:"Return Value"}),"\n",(0,r.jsxs)(n.p,{children:["Returns an INT type integer representing the complete year difference between ",(0,r.jsx)(n.code,{children:"<date_or_time_expr1>"})," and ",(0,r.jsx)(n.code,{children:"<date_or_time_expr2>"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.code,{children:"<date_or_time_expr1>"})," is later than ",(0,r.jsx)(n.code,{children:"<date_or_time_expr2>"}),", returns a positive number (must satisfy \"complete year\" condition, e.g., '2022-03-15 08:30:00' and '2021-03-15 09:10:00' actually differ by less than a full year, returns 0)."]}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.code,{children:"<date_or_time_expr1>"})," is earlier than ",(0,r.jsx)(n.code,{children:"<date_or_time_expr2>"}),", returns a negative number (calculation method same as above, result negated)."]}),"\n",(0,r.jsx)(n.li,{children:"If input is DATE type, defaults its time part to 00:00:00."}),"\n",(0,r.jsx)(n.li,{children:"If any parameter is NULL, returns NULL."}),"\n",(0,r.jsx)(n.li,{children:"Special leap year February case (e.g., 2024 is a leap year, February 29th vs February 28th 2023, constitutes a full year)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- Year difference of 1 year, and month-day equal (full year)\nSELECT YEARS_DIFF('2020-12-25', '2019-12-25') AS diff_full_year;\n+----------------+\n| diff_full_year |\n+----------------+\n|              1 |\n+----------------+\n\n-- Year difference of 1 year, but end month-day earlier than start month-day (less than a year)\nSELECT YEARS_DIFF('2020-11-25', '2019-12-25') AS diff_less_than_year;\n+---------------------+\n| diff_less_than_year |\n+---------------------+\n|                   0 |\n+---------------------+\n\n-- DATETIME type with time components\nSELECT YEARS_DIFF('2022-03-15 08:30:00', '2021-03-15 09:10:00') AS diff_datetime;\n+---------------+\n| diff_datetime |\n+---------------+\n|             0 |\n+---------------+\n\n-- Mixed DATE and DATETIME calculation, DATE type input defaults time part to 00:00:00\nSELECT YEARS_DIFF('2024-05-20', '2020-05-20 12:00:00') AS diff_mixed;\n+------------+\n| diff_mixed |\n+------------+\n|          3 |\n+------------+\n\n-- End time earlier than start time, returns negative number\nSELECT YEARS_DIFF('2018-06-10', '2020-06-10') AS diff_negative;\n+---------------+\n| diff_negative |\n+---------------+\n|            -2 |\n+---------------+\n\n-- Special leap year February case (2024 is a leap year, February 29th vs February 28th 2023, constitutes a full year)\nSELECT YEARS_DIFF('2024-02-29', '2023-02-28') AS leap_year_diff;\n+----------------+\n| leap_year_diff |\n+----------------+\n|              1 |\n+----------------+\n\n-- Any parameter is NULL (returns NULL)\nSELECT \n  YEARS_DIFF(NULL, '2023-03-15') AS null_input1,\n  YEARS_DIFF('2023-03-15', NULL) AS null_input2;\n+-------------+-------------+\n| null_input1 | null_input2 |\n+-------------+-------------+\n| NULL        | NULL        |\n+-------------+-------------+\n"})})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return i}});var a=t(667294);let r={},s=a.createContext(r);function i(e){let n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);