(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{484:function(t,a,e){"use strict";e.r(a);var o=e(33),r=Object(o.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"format-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#format-code"}},[t._v("#")]),t._v(" Format Code")]),t._v(" "),e("p",[t._v("To automatically format the code, clang-format is a good choice.")]),t._v(" "),e("h2",{attrs:{id:"code-style"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#code-style"}},[t._v("#")]),t._v(" Code Style")]),t._v(" "),e("p",[t._v("Doris Code Style is based on Google's, makes a few changes. The customized .clang-format\nfile is in the root dir of Doris.\nNow, .clang-format file only works on clang-format-8.0.1+.")]),t._v(" "),e("h2",{attrs:{id:"preparing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#preparing"}},[t._v("#")]),t._v(" Preparing")]),t._v(" "),e("p",[t._v("You should install clang-format, or you can use clang-format plugins which support by IDEs or Editors.")]),t._v(" "),e("h3",{attrs:{id:"install-clang-format"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-clang-format"}},[t._v("#")]),t._v(" Install clang-format")]),t._v(" "),e("p",[t._v("Ubuntu: "),e("code",[t._v("apt-get install clang-format")])]),t._v(" "),e("p",[t._v("The current release is 10.0, you can specify old version, e.g.")]),t._v(" "),e("p",[e("code",[t._v("apt-get install clang-format-9")])]),t._v(" "),e("p",[t._v("Centos 7:")]),t._v(" "),e("p",[t._v("The version of clang-format installed by yum is too old. Compiling clang from source\nis recommended.")]),t._v(" "),e("h3",{attrs:{id:"clang-format-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clang-format-plugins"}},[t._v("#")]),t._v(" Clang-format plugins")]),t._v(" "),e("p",[t._v('Clion IDE supports the plugin "ClangFormat", you can search in '),e("code",[t._v("File->Setting->Plugins")]),t._v("\nand download it.\nBut the version is not match with clang-format. Judging from the options supported,\nthe version is lower than clang-format-9.0.")]),t._v(" "),e("h2",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("h3",{attrs:{id:"cmd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cmd"}},[t._v("#")]),t._v(" CMD")]),t._v(" "),e("p",[e("code",[t._v("clang-format --style=file -i $File$")])]),t._v(" "),e("p",[t._v("When using "),e("code",[t._v("-style=file")]),t._v(", clang-format for each input file will try to find the\n.clang-format file located in the closest parent directory of the input file.\nWhen the standard input is used, the search is started from the current directory.")]),t._v(" "),e("p",[t._v("Note: filter out the files which should not be formatted, when batch clang-formating\nfiles.")]),t._v(" "),e("p",[t._v("A example of how to filter *.h/*.cpp and exclude some dirs:")]),t._v(" "),e("p",[e("code",[t._v('find . -type f -not \\( -wholename ./env/* \\) -regextype posix-egrep -regex ".*\\.(cpp|h)" | xargs clang-format -i -style=file')])]),t._v(" "),e("h3",{attrs:{id:"using-clang-format-in-ides-or-editors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-clang-format-in-ides-or-editors"}},[t._v("#")]),t._v(" Using clang-format in IDEs or Editors")]),t._v(" "),e("h4",{attrs:{id:"clion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clion"}},[t._v("#")]),t._v(" Clion")]),t._v(" "),e("p",[t._v("If using the plugin 'ClangFormat' in Clion, choose "),e("code",[t._v("Reformat Code")]),t._v(" or press the keyboard\nshortcut.")]),t._v(" "),e("h4",{attrs:{id:"vs-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vs-code"}},[t._v("#")]),t._v(" VS Code")]),t._v(" "),e("p",[t._v("VS Code needs install the extension 'Clang-Format', and specify the executable path of\nclang-format in settings.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"clang-format.executable":  "$clang-format path$",\n"clang-format.style": "file"\n')])])]),e("p",[t._v("Then, choose "),e("code",[t._v("Format Document")]),t._v(".")])])}),[],!1,null,null,null);a.default=r.exports}}]);