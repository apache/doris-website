"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["31766"],{45628:function(e,n,i){i.r(n),i.d(n,{default:()=>a,frontMatter:()=>c,metadata:()=>s,assets:()=>l,toc:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"developer-guide/be-clion-dev","title":"Doris BE \u5F00\u53D1\u8C03\u8BD5\u73AF\u5883 -- clion","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs-community/current/developer-guide/be-clion-dev.md","sourceDirName":"developer-guide","slug":"/developer-guide/be-clion-dev","permalink":"/zh-CN/community/developer-guide/be-clion-dev","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Doris BE \u5F00\u53D1\u8C03\u8BD5\u73AF\u5883 -- clion","language":"zh-CN"},"sidebar":"community","previous":{"title":"Doris BE\u5F00\u53D1\u8C03\u8BD5\u73AF\u5883 -- vscode","permalink":"/zh-CN/community/developer-guide/be-vscode-dev"},"next":{"title":"Doris Mac \u5F00\u53D1\u8C03\u8BD5\u51C6\u5907","permalink":"/zh-CN/community/developer-guide/mac-dev/dev-prepare"}}'),r=i("785893"),t=i("250065");let c={title:"Doris BE \u5F00\u53D1\u8C03\u8BD5\u73AF\u5883 -- clion",language:"zh-CN"},o="\u4F7F\u7528 Clion \u8FDB\u884C Apache Doris BE \u8FDC\u7A0B\u5F00\u53D1\u8C03\u8BD5",l={},d=[{value:"\u8FDC\u7A0B\u670D\u52A1\u5668\u4EE3\u7801\u4E0B\u8F7D\u7F16\u8BD1",id:"\u8FDC\u7A0B\u670D\u52A1\u5668\u4EE3\u7801\u4E0B\u8F7D\u7F16\u8BD1",level:2},{value:"\u672C\u5730 Clion \u5B89\u88C5\u914D\u7F6E\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883",id:"\u672C\u5730-clion-\u5B89\u88C5\u914D\u7F6E\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883",level:2},{value:"\u672C\u5730 Clion \u8FD0\u884C\u8C03\u8BD5\u8FDC\u7A0B BE",id:"\u672C\u5730-clion-\u8FD0\u884C\u8C03\u8BD5\u8FDC\u7A0B-be",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4F7F\u7528-clion-\u8FDB\u884C-apache-doris-be-\u8FDC\u7A0B\u5F00\u53D1\u8C03\u8BD5",children:"\u4F7F\u7528 Clion \u8FDB\u884C Apache Doris BE \u8FDC\u7A0B\u5F00\u53D1\u8C03\u8BD5"})}),"\n",(0,r.jsx)(n.h2,{id:"\u8FDC\u7A0B\u670D\u52A1\u5668\u4EE3\u7801\u4E0B\u8F7D\u7F16\u8BD1",children:"\u8FDC\u7A0B\u670D\u52A1\u5668\u4EE3\u7801\u4E0B\u8F7D\u7F16\u8BD1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u4E0B\u8F7D\u4E00\u4EFD Doris \u4EE3\u7801\u3002\u6BD4\u5982 Doris \u6839\u76EE\u5F55\u4E3A ",(0,r.jsx)(n.code,{children:"/mnt/datadisk0/chenqi/doris"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone https://github.com/apache/doris.git\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4FEE\u6539\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A Doris \u4EE3\u7801\u6839\u76EE\u5F55\u4E0B\u7684 env.sh \u6587\u4EF6\uFF0C\u5728\u5F00\u5934\u589E\u52A0 ",(0,r.jsx)(n.code,{children:"DORIS_HOME"})," \u7684\u914D\u7F6E\uFF0C\u6BD4\u5982 ",(0,r.jsx)(n.code,{children:"DORIS_HOME=/mnt/datadisk0/chenqi/doris"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6267\u884C\u76F8\u5173\u547D\u4EE4\u8FDB\u884C\u7F16\u8BD1\u3002\u5176\u4E2D\u8BE6\u7EC6\u7F16\u8BD1\u8FC7\u7A0B\u53EF\u53C2\u8003",(0,r.jsx)(n.a,{href:"https://doris.apache.org/zh-CN/docs/dev/install/source-install/compilation-with-ldb-toolchain",children:"\u7F16\u8BD1\u6587\u6863"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd /mnt/datadisk0/chenqi/doris\n./build.sh\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u672C\u5730-clion-\u5B89\u88C5\u914D\u7F6E\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883",children:"\u672C\u5730 Clion \u5B89\u88C5\u914D\u7F6E\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5728\u672C\u5730\u4E0B\u8F7D\u5B89\u88C5 Clion\uFF0C\u5BFC\u5165 Doris BE \u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728\u672C\u5730\u8BBE\u7F6E\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883\u3002 \u5728 Clion \u4E2D\u6253\u5F00 ",(0,r.jsx)(n.strong,{children:"Preferences -> Build, Execution, Deployment -> Deployment"})," \u4E2D\u6DFB\u52A0\u8FDC\u7A0B\u5F00\u53D1\u73AF\u5883\u3002\n\u4F7F\u7528 ",(0,r.jsx)(n.strong,{children:"SFTP"})," \u6765\u6DFB\u52A0\u4E00\u4E2A\u8FDC\u7A0B\u5F00\u53D1\u670D\u52A1\u5668\u7684\u76F8\u5173\u8FDE\u63A5\u767B\u9646\u4FE1\u606F\u3002\u8BBE\u7F6E ",(0,r.jsx)(n.strong,{children:"Mappings"})," \u8DEF\u5F84\u3002\n\u6BD4\u5982 Local Path \u4E3A\u672C\u5730\u8DEF\u5F84 ",(0,r.jsx)(n.code,{children:"/User/kaka/Programs/doris/be"}),"\uFF0CDeployment Path \u4E3A\u8FDC\u7A0B\u670D\u52A1\u5668\u8DEF\u5F84 ",(0,r.jsx)(n.code,{children:"/mnt/datadisk0/chenqi/clion/doris/be"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Deployment1",src:i(813113).Z+"",width:"2220",height:"1428"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Deployment2",src:i(881981).Z+"",width:"2216",height:"1426"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\u5C06\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u7F16\u8BD1\u5B8C\u6210\u7684 ",(0,r.jsx)(n.code,{children:"gensrc"})," \u8DEF\u5F84\uFF0C\u6BD4\u5982 ",(0,r.jsx)(n.code,{children:"/mnt/datadisk0/chenqi/doris/gensrc"})," \u62F7\u8D1D\u5230 ",(0,r.jsx)(n.strong,{children:"Deployment Path"})," \u7684\u4E0A\u4E00\u7EA7\u76EE\u5F55\u3002\n\u6BD4\u5982\u62F7\u8D1D\u5B8C\u6700\u7EC8\u7684\u76EE\u5F55\u4E3A\u8FDC\u7A0B\u670D\u52A1\u5668\u8DEF\u5F84 ",(0,r.jsx)(n.code,{children:"/mnt/datadisk0/chenqi/clion/doris/gensrc"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cp -R /mnt/datadisk0/chenqi/doris/gensrc /mnt/datadisk0/chenqi/clion/doris/gensrc\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["\u5728 Clion \u4E2D\u6253\u5F00 ",(0,r.jsx)(n.strong,{children:"Preferences -> Build, Execution, Deployment -> Toolchains"})," \u4E2D\u6DFB\u52A0\u8FDC\u7A0B\u73AF\u5883\u7684\u76F8\u5173 Toolchains\uFF0C\u6BD4\u5982 cmake\u3001gcc\u3001g++\u3001gdb \u7B49\u3002\n",(0,r.jsxs)(n.strong,{children:["\u5176\u4E2D\u6700\u5173\u952E\u7684\u4E00\u70B9\u662F\u9700\u8981\u5728 ",(0,r.jsx)(n.strong,{children:"Environment file"})," \u4E2D \u586B\u5199\u8FDC\u7A0B\u670D\u52A1\u5668 Doris \u4EE3\u7801\u4E2D\u7684 ",(0,r.jsx)(n.strong,{children:"env.sh"})," \u6587\u4EF6\u8DEF\u5F84\u3002"]})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Toolchains",src:i(916568).Z+"",width:"2226",height:"1416"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728 Clion \u4E2D\u6253\u5F00 ",(0,r.jsx)(n.strong,{children:"Preferences -> Build, Execution, Deployment -> CMake"})," \uFF0C\u5728CMake options\u4E2D\u6DFB\u52A0\u7F16\u8BD1\u9009\u9879-DDORIS_JAVA_HOME=/path/to/remote/JAVA_HOME\uFF0C\u5C06DORIS_JAVA_HOME\u8BBE\u7F6E\u4E3A\u8FDC\u7A0B\u670D\u52A1\u5668\u7684JAVA_HOME\u8DEF\u5F84\uFF0C\u5426\u5219\u4F1A\u627E\u4E0D\u5230 jni.h\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728 Clion \u4E2D\u53F3\u952E\u70B9\u51FB ",(0,r.jsx)(n.strong,{children:"Load Cmake Project"}),"\u3002\u6B64\u64CD\u4F5C\u4F1A\u540C\u6B65\u4EE3\u7801\u5230\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\uFF0C\u5E76\u4E14\u8C03\u7528\u751F\u6210\u76F8\u5173 Cmake Build Files\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u672C\u5730-clion-\u8FD0\u884C\u8C03\u8BD5\u8FDC\u7A0B-be",children:"\u672C\u5730 Clion \u8FD0\u884C\u8C03\u8BD5\u8FDC\u7A0B BE"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.strong,{children:"Preferences -> Build, Execution, Deployment -> CMake"})," \u4E2D\u914D\u7F6E CMake\u3002\u53EF\u4EE5\u914D\u7F6E\u7C7B\u4F3C\u4E8E Debug / Release \u7B49\u4E0D\u540C\u7684 Target\uFF0C \u5176\u4E2D ",(0,r.jsx)(n.strong,{children:"ToolChain"})," \u9700\u8981\u9009\u62E9\u521A\u624D\u914D\u7F6E\u7684\u3002\n",(0,r.jsxs)(n.strong,{children:["\u5982\u679C\u8981\u8FD0\u884C\u8C03\u8BD5 Unit Test \u7684\u8BDD\uFF0C\u9700\u8981\u5728 CMake Options \u4E2D\u914D\u7F6E\u4E0A ",(0,r.jsx)(n.code,{children:"-DMAKE_TEST=ON"}),"\uFF08\u8BE5\u9009\u9879\u9ED8\u8BA4\u5173\u95ED\uFF0C\u9700\u8981\u6253\u5F00\u624D\u4F1A\u7F16\u8BD1 Test \u4EE3\u7801\uFF09"]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u5C06 Doris \u6E90\u4EE3\u7801\u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"output"})," \u76EE\u5F55\u62F7\u8D1D\u5230\u4E00\u4E2A\u5355\u72EC\u7684\u8DEF\u5F84\u4E0B\uFF0C\u6BD4\u5982 ",(0,r.jsx)(n.code,{children:"/mnt/datadisk0/chenqi/clion/doris/doris_be/"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cp -R /mnt/datadisk0/chenqi/doris/output /mnt/datadisk0/chenqi/clion/doris/doris_be\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Output Tree",src:i(960885).Z+"",width:"814",height:"310"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\u5728 Clion \u4E2D\u9009\u62E9 doris_be \u76F8\u5173\u7684 Target\uFF0C\u6BD4\u5982 ",(0,r.jsx)(n.strong,{children:"Debug"})," \u6216\u8005 ",(0,r.jsx)(n.strong,{children:"Release"}),"\uFF0C\u8FDB\u884C\u914D\u7F6E\u8FD0\u884C\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Run Debug Conf1",src:i(546633).Z+"",width:"2074",height:"1356"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53C2\u7167 Doris \u6839\u76EE\u5F55\u4E0B\u7684 ",(0,r.jsx)(n.code,{children:"be/bin/start_be.sh"})," \u4E2D export \u7684\u73AF\u5883\u53D8\u91CF\u8FDB\u884C\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u3002\u5176\u4E2D\u73AF\u5883\u53D8\u91CF\u7684\u503C\u6307\u5411\u8FDC\u7A0B\u670D\u52A1\u5668\u5BF9\u5E94\u7684\u8DEF\u5F84\u3002\n\u73AF\u5883\u53D8\u91CF\u53C2\u8003\uFF1A"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Run Debug Conf2",src:i(242400).Z+"",width:"3118",height:"796"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["\u70B9\u51FB\u8FD0\u884C\u6216\u8005\u8C03\u8BD5 BE\u3002\u5176\u4E2D\u70B9\u51FB ",(0,r.jsx)(n.strong,{children:"Run"})," \u53EF\u4EE5\u7F16\u8BD1\u8FD0\u884C BE\uFF0C\u800C\u70B9\u51FB ",(0,r.jsx)(n.strong,{children:"Debug"})," \u53EF\u4EE5\u7F16\u8BD1\u8C03\u8BD5 BE\u3002"]}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},813113:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/clion-deployment1-a36f51febb0818fed20a02a71b697a5a.png"},881981:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/clion-deployment2-5887d4af6d031a8b484cc0dcb6399837.png"},546633:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/clion-run-debug-conf1-e57278a1580b0b96f3a9016924613981.png"},242400:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/clion-run-debug-conf2-abdc543704be6a69328c6985b0c7a36f.png"},916568:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/clion-toolchains-6160ba355a369c4a39be6dae1bede1fb.png"},960885:function(e,n,i){i.d(n,{Z:function(){return s}});let s=i.p+"assets/images/doris-dist-output-tree-e5e484ba7fe826861a853756e9cb3cdc.png"},250065:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return c}});var s=i(667294);let r={},t=s.createContext(r);function c(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);