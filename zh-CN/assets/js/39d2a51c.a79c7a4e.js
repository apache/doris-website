"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["197452"],{949331:function(n,e,s){s.r(e),s.d(e,{default:()=>j,frontMatter:()=>r,metadata:()=>d,assets:()=>t,toc:()=>h,contentTitle:()=>i});var d=JSON.parse('{"id":"sql-manual/basic-element/file-path-pattern","title":"\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F","description":"Doris \u8BBF\u95EE\u8FDC\u7A0B\u5B58\u50A8\u7CFB\u7EDF\uFF08\u5982 S3\u3001HDFS \u548C\u5176\u4ED6\u5BF9\u8C61\u5B58\u50A8\uFF09\u4E2D\u6587\u4EF6\u65F6\u652F\u6301\u7684\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F\u548C\u901A\u914D\u7B26\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/sql-manual/basic-element/file-path-pattern.md","sourceDirName":"sql-manual/basic-element","slug":"/sql-manual/basic-element/file-path-pattern","permalink":"/zh-CN/docs/4.x/sql-manual/basic-element/file-path-pattern","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F","language":"zh-CN","description":"Doris \u8BBF\u95EE\u8FDC\u7A0B\u5B58\u50A8\u7CFB\u7EDF\uFF08\u5982 S3\u3001HDFS \u548C\u5176\u4ED6\u5BF9\u8C61\u5B58\u50A8\uFF09\u4E2D\u6587\u4EF6\u65F6\u652F\u6301\u7684\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F\u548C\u901A\u914D\u7B26\u3002"},"sidebar":"docs","previous":{"title":"\u6CE8\u91CA","permalink":"/zh-CN/docs/4.x/sql-manual/basic-element/comments"},"next":{"title":"\u6570\u5B66\u64CD\u4F5C\u7B26","permalink":"/zh-CN/docs/4.x/sql-manual/basic-element/operators/arithmetic-operators"}}'),c=s("785893"),l=s("250065");let r={title:"\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F",language:"zh-CN",description:"Doris \u8BBF\u95EE\u8FDC\u7A0B\u5B58\u50A8\u7CFB\u7EDF\uFF08\u5982 S3\u3001HDFS \u548C\u5176\u4ED6\u5BF9\u8C61\u5B58\u50A8\uFF09\u4E2D\u6587\u4EF6\u65F6\u652F\u6301\u7684\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F\u548C\u901A\u914D\u7B26\u3002"},i=void 0,t={},h=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u652F\u6301\u7684 URI \u683C\u5F0F",id:"\u652F\u6301\u7684-uri-\u683C\u5F0F",level:2},{value:"S3 \u98CE\u683C URI",id:"s3-\u98CE\u683C-uri",level:3},{value:"\u5176\u4ED6\u4E91\u5B58\u50A8 URI",id:"\u5176\u4ED6\u4E91\u5B58\u50A8-uri",level:3},{value:"HDFS URI",id:"hdfs-uri",level:3},{value:"\u901A\u914D\u7B26\u6A21\u5F0F",id:"\u901A\u914D\u7B26\u6A21\u5F0F",level:2},{value:"\u57FA\u672C\u901A\u914D\u7B26",id:"\u57FA\u672C\u901A\u914D\u7B26",level:3},{value:"\u8303\u56F4\u5C55\u5F00\uFF08\u82B1\u62EC\u53F7\u6A21\u5F0F\uFF09",id:"\u8303\u56F4\u5C55\u5F00\u82B1\u62EC\u53F7\u6A21\u5F0F",level:3},{value:"\u7EC4\u5408\u6A21\u5F0F",id:"\u7EC4\u5408\u6A21\u5F0F",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2},{value:"S3 TVF \u793A\u4F8B",id:"s3-tvf-\u793A\u4F8B",level:3},{value:"Broker Load \u793A\u4F8B",id:"broker-load-\u793A\u4F8B",level:3},{value:"INSERT INTO SELECT \u793A\u4F8B",id:"insert-into-select-\u793A\u4F8B",level:3},{value:"\u6027\u80FD\u4F18\u5316\u5EFA\u8BAE",id:"\u6027\u80FD\u4F18\u5316\u5EFA\u8BAE",level:2},{value:"\u4F7F\u7528\u5177\u4F53\u7684\u524D\u7F00",id:"\u4F7F\u7528\u5177\u4F53\u7684\u524D\u7F00",level:3},{value:"\u5BF9\u5DF2\u77E5\u5E8F\u5217\u4F18\u5148\u4F7F\u7528\u8303\u56F4\u6A21\u5F0F",id:"\u5BF9\u5DF2\u77E5\u5E8F\u5217\u4F18\u5148\u4F7F\u7528\u8303\u56F4\u6A21\u5F0F",level:3},{value:"\u907F\u514D\u6DF1\u5C42\u9012\u5F52\u901A\u914D\u7B26",id:"\u907F\u514D\u6DF1\u5C42\u9012\u5F52\u901A\u914D\u7B26",level:3},{value:"\u6545\u969C\u6392\u67E5",id:"\u6545\u969C\u6392\u67E5",level:2},{value:"\u6D4B\u8BD5\u8DEF\u5F84\u6A21\u5F0F",id:"\u6D4B\u8BD5\u8DEF\u5F84\u6A21\u5F0F",level:3}];function x(n){let e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,c.jsx)(e.p,{children:"\u5F53\u8BBF\u95EE\u8FDC\u7A0B\u5B58\u50A8\u7CFB\u7EDF\uFF08S3\u3001HDFS \u548C\u5176\u4ED6 S3 \u517C\u5BB9\u7684\u5BF9\u8C61\u5B58\u50A8\uFF09\u4E2D\u7684\u6587\u4EF6\u65F6\uFF0CDoris \u652F\u6301\u7075\u6D3B\u7684\u6587\u4EF6\u8DEF\u5F84\u6A21\u5F0F\uFF0C\u5305\u62EC\u901A\u914D\u7B26\u548C\u8303\u56F4\u8868\u8FBE\u5F0F\u3002\u672C\u6587\u6863\u63CF\u8FF0\u4E86\u652F\u6301\u7684\u8DEF\u5F84\u683C\u5F0F\u548C\u6A21\u5F0F\u5339\u914D\u8BED\u6CD5\u3002"}),"\n",(0,c.jsx)(e.p,{children:"\u4EE5\u4E0B\u529F\u80FD\u652F\u6301\u8FD9\u4E9B\u8DEF\u5F84\u6A21\u5F0F\uFF1A"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"../sql-functions/table-valued-functions/s3",children:"S3 TVF"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"../sql-functions/table-valued-functions/hdfs",children:"HDFS TVF"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"../../data-operate/import/import-way/broker-load-manual",children:"Broker Load"})}),"\n",(0,c.jsx)(e.li,{children:"INSERT INTO SELECT\uFF08\u4ECE TVF \u5BFC\u5165\uFF09"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u652F\u6301\u7684-uri-\u683C\u5F0F",children:"\u652F\u6301\u7684 URI \u683C\u5F0F"}),"\n",(0,c.jsx)(e.h3,{id:"s3-\u98CE\u683C-uri",children:"S3 \u98CE\u683C URI"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u98CE\u683C"}),(0,c.jsx)(e.th,{children:"\u683C\u5F0F"}),(0,c.jsx)(e.th,{children:"\u793A\u4F8B"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"AWS Client \u98CE\u683C\uFF08Hadoop S3\uFF09"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3://bucket/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"S3A \u98CE\u683C"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3a://bucket/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3a://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"S3N \u98CE\u683C"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3n://bucket/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"s3n://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Virtual Host \u98CE\u683C"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"https://bucket.endpoint/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"https://my-bucket.s3.us-west-1.amazonaws.com/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Path \u98CE\u683C"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"https://endpoint/bucket/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"https://s3.us-west-1.amazonaws.com/my-bucket/data/file.csv"})})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u5176\u4ED6\u4E91\u5B58\u50A8-uri",children:"\u5176\u4ED6\u4E91\u5B58\u50A8 URI"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u4E91\u670D\u52A1\u5546"}),(0,c.jsx)(e.th,{children:"\u534F\u8BAE"}),(0,c.jsx)(e.th,{children:"\u793A\u4F8B"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u963F\u91CC\u4E91 OSS"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"oss://"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"oss://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u817E\u8BAF\u4E91 COS"}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"cos://"}),", ",(0,c.jsx)(e.code,{children:"cosn://"})]}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"cos://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u767E\u5EA6\u4E91 BOS"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"bos://"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"bos://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u534E\u4E3A\u4E91 OBS"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"obs://"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"obs://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Google Cloud Storage"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"gs://"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"gs://my-bucket/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Azure Blob Storage"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"azure://"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"azure://container/data/file.csv"})})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"hdfs-uri",children:"HDFS URI"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u98CE\u683C"}),(0,c.jsx)(e.th,{children:"\u683C\u5F0F"}),(0,c.jsx)(e.th,{children:"\u793A\u4F8B"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6807\u51C6\u683C\u5F0F"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"hdfs://namenode:port/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"hdfs://namenode:8020/user/data/file.csv"})})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"HA \u6A21\u5F0F"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"hdfs://nameservice/path/to/file"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"hdfs://my-ha-cluster/user/data/file.csv"})})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u901A\u914D\u7B26\u6A21\u5F0F",children:"\u901A\u914D\u7B26\u6A21\u5F0F"}),"\n",(0,c.jsx)(e.p,{children:"Doris \u4F7F\u7528 glob \u98CE\u683C\u7684\u6A21\u5F0F\u5339\u914D\u6765\u5339\u914D\u6587\u4EF6\u8DEF\u5F84\u3002\u652F\u6301\u4EE5\u4E0B\u901A\u914D\u7B26\uFF1A"}),"\n",(0,c.jsx)(e.h3,{id:"\u57FA\u672C\u901A\u914D\u7B26",children:"\u57FA\u672C\u901A\u914D\u7B26"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,c.jsx)(e.th,{children:"\u8BF4\u660E"}),(0,c.jsx)(e.th,{children:"\u793A\u4F8B"}),(0,c.jsx)(e.th,{children:"\u5339\u914D"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"*"})}),(0,c.jsx)(e.td,{children:"\u5339\u914D\u8DEF\u5F84\u6BB5\u5185\u7684\u96F6\u4E2A\u6216\u591A\u4E2A\u5B57\u7B26"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"*.csv"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"file.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"data.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"a.csv"})]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"?"})}),(0,c.jsx)(e.td,{children:"\u5339\u914D\u6070\u597D\u4E00\u4E2A\u5B57\u7B26"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"file?.csv"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"file1.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"fileA.csv"}),"\uFF0C\u4F46\u4E0D\u5339\u914D ",(0,c.jsx)(e.code,{children:"file10.csv"})]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"[abc]"})}),(0,c.jsx)(e.td,{children:"\u5339\u914D\u62EC\u53F7\u5185\u7684\u4EFB\u610F\u5355\u4E2A\u5B57\u7B26"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"file[123].csv"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"file1.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"file2.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"file3.csv"})]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"[a-z]"})}),(0,c.jsx)(e.td,{children:"\u5339\u914D\u8303\u56F4\u5185\u7684\u4EFB\u610F\u5355\u4E2A\u5B57\u7B26"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"file[a-c].csv"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"filea.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"fileb.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"filec.csv"})]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"[!abc]"})}),(0,c.jsx)(e.td,{children:"\u5339\u914D\u4E0D\u5728\u62EC\u53F7\u5185\u7684\u4EFB\u610F\u5355\u4E2A\u5B57\u7B26"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"file[!0-9].csv"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"filea.csv"}),"\u3001",(0,c.jsx)(e.code,{children:"fileb.csv"}),"\uFF0C\u4F46\u4E0D\u5339\u914D ",(0,c.jsx)(e.code,{children:"file1.csv"})]})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u8303\u56F4\u5C55\u5F00\u82B1\u62EC\u53F7\u6A21\u5F0F",children:"\u8303\u56F4\u5C55\u5F00\uFF08\u82B1\u62EC\u53F7\u6A21\u5F0F\uFF09"}),"\n",(0,c.jsxs)(e.p,{children:["Doris \u652F\u6301\u4F7F\u7528\u82B1\u62EC\u53F7\u6A21\u5F0F ",(0,c.jsx)(e.code,{children:"{start..end}"})," \u8FDB\u884C\u6570\u5B57\u8303\u56F4\u5C55\u5F00\uFF1A"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u6A21\u5F0F"}),(0,c.jsx)(e.th,{children:"\u5C55\u5F00\u7ED3\u679C"}),(0,c.jsx)(e.th,{children:"\u5339\u914D"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1..3}"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1,2,3}"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"1"}),"\u3001",(0,c.jsx)(e.code,{children:"2"}),"\u3001",(0,c.jsx)(e.code,{children:"3"})]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{01..05}"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1,2,3,4,5}"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"1"}),"\u3001",(0,c.jsx)(e.code,{children:"2"}),"\u3001",(0,c.jsx)(e.code,{children:"3"}),"\u3001",(0,c.jsx)(e.code,{children:"4"}),"\u3001",(0,c.jsx)(e.code,{children:"5"}),"\uFF08\u524D\u5BFC\u96F6\u4E0D\u4F1A\u4FDD\u7559\uFF09"]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{3..1}"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1,2,3}"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"1"}),"\u3001",(0,c.jsx)(e.code,{children:"2"}),"\u3001",(0,c.jsx)(e.code,{children:"3"}),"\uFF08\u652F\u6301\u9006\u5E8F\u8303\u56F4\uFF09"]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{a,b,c}"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{a,b,c}"})}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"a"}),"\u3001",(0,c.jsx)(e.code,{children:"b"}),"\u3001",(0,c.jsx)(e.code,{children:"c"}),"\uFF08\u679A\u4E3E\uFF09"]})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1..3,5,7..9}"})}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"{1,2,3,5,7,8,9}"})}),(0,c.jsx)(e.td,{children:"\u6DF7\u5408\u8303\u56F4\u548C\u503C"})]})]})]}),"\n",(0,c.jsx)(e.admonition,{title:"\u6CE8\u610F",type:"caution",children:(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["Doris \u5C3D\u91CF\u8BA9\u80FD\u591F\u5BFC\u5165\u7684\u6587\u4EF6\u5BFC\u5165\u6210\u529F\u3002\u82B1\u62EC\u53F7\u8868\u8FBE\u5F0F\u4E2D\u65E0\u6548\u7684\u90E8\u5206\u4F1A\u88AB\u9759\u9ED8\u8DF3\u8FC7\uFF0C\u6709\u6548\u90E8\u5206\u4ECD\u4F1A\u6B63\u5E38\u5C55\u5F00\u3002\u4F8B\u5982\uFF0C",(0,c.jsx)(e.code,{children:"file_{a..b,-1..3,4..5}"})," \u4F1A\u5339\u914D\u5230 ",(0,c.jsx)(e.code,{children:"file_4"})," \u548C ",(0,c.jsx)(e.code,{children:"file_5"}),"\uFF08\u65E0\u6548\u7684 ",(0,c.jsx)(e.code,{children:"a..b"})," \u548C\u8D1F\u6570\u8303\u56F4 ",(0,c.jsx)(e.code,{children:"-1..3"})," \u88AB\u8DF3\u8FC7\uFF0C\u4F46 ",(0,c.jsx)(e.code,{children:"4..5"})," \u6B63\u5E38\u5C55\u5F00\uFF09\u3002"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5982\u679C\u6574\u4E2A\u8303\u56F4\u5305\u542B\u8D1F\u6570\uFF08\u5982 ",(0,c.jsx)(e.code,{children:"{-1..2}"}),"\uFF09\uFF0C\u8BE5\u8303\u56F4\u4F1A\u88AB\u8DF3\u8FC7\u3002\u5982\u679C\u4E0E\u6709\u6548\u8303\u56F4\u6DF7\u7528\uFF08\u5982 ",(0,c.jsx)(e.code,{children:"{-1..2,1..3}"}),"\uFF09\uFF0C\u53EA\u6709\u6709\u6548\u8303\u56F4 ",(0,c.jsx)(e.code,{children:"1..3"})," \u4F1A\u88AB\u5C55\u5F00\u3002"]}),"\n",(0,c.jsxs)(e.li,{children:["\u4F7F\u7528\u9017\u53F7\u4E0E\u8303\u56F4\u6DF7\u7528\u65F6\uFF0C\u53EA\u5141\u8BB8\u6DFB\u52A0\u6570\u5B57\u3002\u4F8B\u5982 ",(0,c.jsx)(e.code,{children:"{1..4,a}"})," \u4E2D\uFF0C\u975E\u6570\u5B57\u7684 ",(0,c.jsx)(e.code,{children:"a"})," \u4F1A\u88AB\u5FFD\u7565\uFF0C\u7ED3\u679C\u4E3A ",(0,c.jsx)(e.code,{children:"{1,2,3,4}"}),"\u3002"]}),"\n",(0,c.jsxs)(e.li,{children:["\u7EAF\u679A\u4E3E\u6A21\u5F0F\u5982 ",(0,c.jsx)(e.code,{children:"{a,b,c}"}),"\uFF08\u4E0D\u542B ",(0,c.jsx)(e.code,{children:".."})," \u8303\u56F4\uFF09\u4F1A\u76F4\u63A5\u4F20\u9012\u7ED9 glob \u5339\u914D\uFF0C\u53EF\u4EE5\u6B63\u5E38\u5DE5\u4F5C\u3002"]}),"\n"]})}),"\n",(0,c.jsx)(e.h3,{id:"\u7EC4\u5408\u6A21\u5F0F",children:"\u7EC4\u5408\u6A21\u5F0F"}),"\n",(0,c.jsx)(e.p,{children:"\u53EF\u4EE5\u5728\u5355\u4E2A\u8DEF\u5F84\u4E2D\u7EC4\u5408\u591A\u4E2A\u6A21\u5F0F\uFF1A"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"s3://bucket/data_{1..3}/file_*.csv\n"})}),"\n",(0,c.jsx)(e.p,{children:"\u8FD9\u5C06\u5339\u914D\uFF1A"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.code,{children:"s3://bucket/data_1/file_a.csv"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.code,{children:"s3://bucket/data_1/file_b.csv"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.code,{children:"s3://bucket/data_2/file_a.csv"})}),"\n",(0,c.jsx)(e.li,{children:"\u7B49\u7B49"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,c.jsx)(e.h3,{id:"s3-tvf-\u793A\u4F8B",children:"S3 TVF \u793A\u4F8B"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5339\u914D\u76EE\u5F55\u4E2D\u7684\u6240\u6709 CSV \u6587\u4EF6\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'SELECT * FROM S3(\n    "uri" = "s3://my-bucket/data/*.csv",\n    "s3.access_key" = "xxx",\n    "s3.secret_key" = "xxx",\n    "s3.region" = "us-east-1",\n    "format" = "csv"\n);\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u4F7F\u7528\u6570\u5B57\u8303\u56F4\u5339\u914D\u6587\u4EF6\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'SELECT * FROM S3(\n    "uri" = "s3://my-bucket/logs/data_{1..10}.csv",\n    "s3.access_key" = "xxx",\n    "s3.secret_key" = "xxx",\n    "s3.region" = "us-east-1",\n    "format" = "csv"\n);\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5339\u914D\u65E5\u671F\u5206\u533A\u76EE\u5F55\u4E2D\u7684\u6587\u4EF6\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'SELECT * FROM S3(\n    "uri" = "s3://my-bucket/logs/year=2024/month=*/day=*/data.parquet",\n    "s3.access_key" = "xxx",\n    "s3.secret_key" = "xxx",\n    "s3.region" = "us-east-1",\n    "format" = "parquet"\n);\n'})}),"\n",(0,c.jsx)(e.admonition,{title:"\u96F6\u586B\u5145\u76EE\u5F55",type:"caution",children:(0,c.jsxs)(e.p,{children:["\u5BF9\u4E8E\u96F6\u586B\u5145\u7684\u76EE\u5F55\u540D\u5982 ",(0,c.jsx)(e.code,{children:"month=01"}),"\u3001",(0,c.jsx)(e.code,{children:"month=02"}),"\uFF0C\u8BF7\u4F7F\u7528\u901A\u914D\u7B26\uFF08",(0,c.jsx)(e.code,{children:"*"}),"\uFF09\u800C\u4E0D\u662F\u8303\u56F4\u6A21\u5F0F\u3002\u6A21\u5F0F ",(0,c.jsx)(e.code,{children:"{01..12}"})," \u4F1A\u5C55\u5F00\u4E3A ",(0,c.jsx)(e.code,{children:"{1,2,...,12}"}),"\uFF0C\u65E0\u6CD5\u5339\u914D ",(0,c.jsx)(e.code,{children:"month=01"}),"\u3002"]})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5339\u914D\u7F16\u53F7\u7684\u6587\u4EF6\u5206\u7247\uFF08\u5982 Spark \u8F93\u51FA\uFF09\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'SELECT * FROM S3(\n    "uri" = "s3://my-bucket/output/part-{00000..00099}.csv",\n    "s3.access_key" = "xxx",\n    "s3.secret_key" = "xxx",\n    "s3.region" = "us-east-1",\n    "format" = "csv"\n);\n'})}),"\n",(0,c.jsx)(e.h3,{id:"broker-load-\u793A\u4F8B",children:"Broker Load \u793A\u4F8B"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u52A0\u8F7D\u5339\u914D\u6A21\u5F0F\u7684\u6240\u6709 CSV \u6587\u4EF6\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'LOAD LABEL db.label_wildcard\n(\n    DATA INFILE("s3://my-bucket/data/file_*.csv")\n    INTO TABLE my_table\n    COLUMNS TERMINATED BY ","\n    FORMAT AS "CSV"\n    (col1, col2, col3)\n)\nWITH S3 (\n    "provider" = "S3",\n    "AWS_ENDPOINT" = "s3.us-west-2.amazonaws.com",\n    "AWS_ACCESS_KEY" = "xxx",\n    "AWS_SECRET_KEY" = "xxx",\n    "AWS_REGION" = "us-west-2"\n);\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u4F7F\u7528\u6570\u5B57\u8303\u56F4\u5C55\u5F00\u52A0\u8F7D\u6587\u4EF6\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'LOAD LABEL db.label_range\n(\n    DATA INFILE("s3://my-bucket/exports/data_{1..5}.csv")\n    INTO TABLE my_table\n    COLUMNS TERMINATED BY ","\n    FORMAT AS "CSV"\n    (col1, col2, col3)\n)\nWITH S3 (\n    "provider" = "S3",\n    "AWS_ENDPOINT" = "s3.us-west-2.amazonaws.com",\n    "AWS_ACCESS_KEY" = "xxx",\n    "AWS_SECRET_KEY" = "xxx",\n    "AWS_REGION" = "us-west-2"\n);\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u4ECE HDFS \u52A0\u8F7D\uFF0C\u4F7F\u7528\u901A\u914D\u7B26\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'LOAD LABEL db.label_hdfs_wildcard\n(\n    DATA INFILE("hdfs://namenode:8020/user/data/2024-*/*.csv")\n    INTO TABLE my_table\n    COLUMNS TERMINATED BY ","\n    FORMAT AS "CSV"\n    (col1, col2, col3)\n)\nWITH HDFS (\n    "fs.defaultFS" = "hdfs://namenode:8020",\n    "hadoop.username" = "user"\n);\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u4ECE HDFS \u52A0\u8F7D\uFF0C\u4F7F\u7528\u6570\u5B57\u8303\u56F4\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'LOAD LABEL db.label_hdfs_range\n(\n    DATA INFILE("hdfs://namenode:8020/data/file_{1..3,5,7..9}.csv")\n    INTO TABLE my_table\n    COLUMNS TERMINATED BY ","\n    FORMAT AS "CSV"\n    (col1, col2, col3)\n)\nWITH HDFS (\n    "fs.defaultFS" = "hdfs://namenode:8020",\n    "hadoop.username" = "user"\n);\n'})}),"\n",(0,c.jsx)(e.h3,{id:"insert-into-select-\u793A\u4F8B",children:"INSERT INTO SELECT \u793A\u4F8B"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u4F7F\u7528\u901A\u914D\u7B26\u4ECE S3 \u63D2\u5165\u6570\u636E\uFF1A"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'INSERT INTO my_table (col1, col2, col3)\nSELECT * FROM S3(\n    "uri" = "s3://my-bucket/data/part-*.parquet",\n    "s3.access_key" = "xxx",\n    "s3.secret_key" = "xxx",\n    "s3.region" = "us-east-1",\n    "format" = "parquet"\n);\n'})}),"\n",(0,c.jsx)(e.h2,{id:"\u6027\u80FD\u4F18\u5316\u5EFA\u8BAE",children:"\u6027\u80FD\u4F18\u5316\u5EFA\u8BAE"}),"\n",(0,c.jsx)(e.h3,{id:"\u4F7F\u7528\u5177\u4F53\u7684\u524D\u7F00",children:"\u4F7F\u7528\u5177\u4F53\u7684\u524D\u7F00"}),"\n",(0,c.jsx)(e.p,{children:"Doris \u4F1A\u4ECE\u8DEF\u5F84\u6A21\u5F0F\u4E2D\u63D0\u53D6\u6700\u957F\u7684\u975E\u901A\u914D\u7B26\u524D\u7F00\uFF0C\u4EE5\u4F18\u5316 S3/HDFS \u7684\u5217\u8868\u64CD\u4F5C\u3002\u66F4\u5177\u4F53\u7684\u524D\u7F00\u53EF\u4EE5\u52A0\u5FEB\u6587\u4EF6\u53D1\u73B0\u901F\u5EA6\u3002"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'-- \u63A8\u8350\uFF1A\u5177\u4F53\u7684\u524D\u7F00\u51CF\u5C11\u5217\u8868\u8303\u56F4\n"uri" = "s3://bucket/data/2024/01/15/*.csv"\n\n-- \u4E0D\u63A8\u8350\uFF1A\u5728\u65E9\u671F\u8DEF\u5F84\u6BB5\u4F7F\u7528\u5E7F\u6CDB\u7684\u901A\u914D\u7B26\n"uri" = "s3://bucket/data/**/file.csv"\n'})}),"\n",(0,c.jsx)(e.h3,{id:"\u5BF9\u5DF2\u77E5\u5E8F\u5217\u4F18\u5148\u4F7F\u7528\u8303\u56F4\u6A21\u5F0F",children:"\u5BF9\u5DF2\u77E5\u5E8F\u5217\u4F18\u5148\u4F7F\u7528\u8303\u56F4\u6A21\u5F0F"}),"\n",(0,c.jsx)(e.p,{children:"\u5F53\u60A8\u77E5\u9053\u786E\u5207\u7684\u6587\u4EF6\u7F16\u53F7\u65F6\uFF0C\u4F7F\u7528\u8303\u56F4\u6A21\u5F0F\u800C\u4E0D\u662F\u901A\u914D\u7B26\uFF1A"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'-- \u66F4\u597D\uFF1A\u663E\u5F0F\u8303\u56F4\n"uri" = "s3://bucket/data/part-{0001..0100}.csv"\n\n-- \u8F83\u5DEE\uFF1A\u901A\u914D\u7B26\u5339\u914D\u672A\u77E5\u6587\u4EF6\n"uri" = "s3://bucket/data/part-*.csv"\n'})}),"\n",(0,c.jsx)(e.h3,{id:"\u907F\u514D\u6DF1\u5C42\u9012\u5F52\u901A\u914D\u7B26",children:"\u907F\u514D\u6DF1\u5C42\u9012\u5F52\u901A\u914D\u7B26"}),"\n",(0,c.jsxs)(e.p,{children:["\u6DF1\u5C42\u9012\u5F52\u6A21\u5F0F\u5982 ",(0,c.jsx)(e.code,{children:"**"})," \u53EF\u80FD\u5BFC\u81F4\u5927\u578B\u5B58\u50A8\u6876\u4E0A\u7684\u6587\u4EF6\u5217\u8868\u901F\u5EA6\u53D8\u6162\uFF1A"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'-- \u5C3D\u91CF\u907F\u514D\n"uri" = "s3://bucket/**/*.csv"\n\n-- \u4F18\u5148\u4F7F\u7528\u663E\u5F0F\u8DEF\u5F84\u7ED3\u6784\n"uri" = "s3://bucket/data/year=*/month=*/day=*/*.csv"\n'})}),"\n",(0,c.jsx)(e.h2,{id:"\u6545\u969C\u6392\u67E5",children:"\u6545\u969C\u6392\u67E5"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u95EE\u9898"}),(0,c.jsx)(e.th,{children:"\u539F\u56E0"}),(0,c.jsx)(e.th,{children:"\u89E3\u51B3\u65B9\u6848"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u672A\u627E\u5230\u6587\u4EF6"}),(0,c.jsx)(e.td,{children:"\u6A21\u5F0F\u4E0D\u5339\u914D\u4EFB\u4F55\u6587\u4EF6"}),(0,c.jsx)(e.td,{children:"\u9A8C\u8BC1\u8DEF\u5F84\u548C\u6A21\u5F0F\u8BED\u6CD5\uFF1B\u5148\u7528\u5355\u4E2A\u6587\u4EF6\u6D4B\u8BD5"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6587\u4EF6\u5217\u8868\u7F13\u6162"}),(0,c.jsx)(e.td,{children:"\u901A\u914D\u7B26\u8303\u56F4\u592A\u5E7F\u6216\u6587\u4EF6\u592A\u591A"}),(0,c.jsx)(e.td,{children:"\u4F7F\u7528\u66F4\u5177\u4F53\u7684\u524D\u7F00\uFF1B\u9650\u5236\u901A\u914D\u7B26\u8303\u56F4"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"URI \u65E0\u6548\u9519\u8BEF"}),(0,c.jsx)(e.td,{children:"\u8DEF\u5F84\u8BED\u6CD5\u683C\u5F0F\u9519\u8BEF"}),(0,c.jsx)(e.td,{children:"\u68C0\u67E5 URI \u534F\u8BAE\u548C\u5B58\u50A8\u6876\u540D\u79F0\u683C\u5F0F"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u8BBF\u95EE\u88AB\u62D2\u7EDD"}),(0,c.jsx)(e.td,{children:"\u51ED\u8BC1\u6216\u6743\u9650\u95EE\u9898"}),(0,c.jsx)(e.td,{children:"\u9A8C\u8BC1 S3/HDFS \u51ED\u8BC1\u548C\u5B58\u50A8\u6876\u7B56\u7565"})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u6D4B\u8BD5\u8DEF\u5F84\u6A21\u5F0F",children:"\u6D4B\u8BD5\u8DEF\u5F84\u6A21\u5F0F"}),"\n",(0,c.jsx)(e.p,{children:"\u5728\u8FD0\u884C\u5927\u578B\u52A0\u8F7D\u4F5C\u4E1A\u4E4B\u524D\uFF0C\u5148\u7528\u6709\u9650\u7684\u67E5\u8BE2\u6D4B\u8BD5\u60A8\u7684\u6A21\u5F0F\uFF1A"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'-- \u6D4B\u8BD5\u6587\u4EF6\u662F\u5426\u5B58\u5728\u5E76\u5339\u914D\u6A21\u5F0F\nSELECT * FROM S3(\n    "uri" = "s3://bucket/your/pattern/*.csv",\n    ...\n) LIMIT 1;\n'})}),"\n",(0,c.jsxs)(e.p,{children:["\u4F7F\u7528 ",(0,c.jsx)(e.code,{children:"DESC FUNCTION"})," \u9A8C\u8BC1\u5339\u914D\u6587\u4EF6\u7684 schema\uFF1A"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:'DESC FUNCTION S3(\n    "uri" = "s3://bucket/your/pattern/*.csv",\n    ...\n);\n'})})]})}function j(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(x,{...n})}):x(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return i},a:function(){return r}});var d=s(667294);let c={},l=d.createContext(c);function r(n){let e=d.useContext(l);return d.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),d.createElement(l.Provider,{value:e},n.children)}}}]);