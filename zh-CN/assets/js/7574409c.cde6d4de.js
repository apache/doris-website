"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["630685"],{472886:function(n,e,l){l.r(e),l.d(e,{default:()=>o,frontMatter:()=>i,metadata:()=>t,assets:()=>r,toc:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"sql-manual/sql-functions/aggregate-functions/avg","title":"AVG","description":"\u8BA1\u7B97\u6307\u5B9A\u5217\u6216\u8868\u8FBE\u5F0F\u7684\u6240\u6709\u975E NULL \u503C\u7684\u5E73\u5747\u503C\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/sql-manual/sql-functions/aggregate-functions/avg.md","sourceDirName":"sql-manual/sql-functions/aggregate-functions","slug":"/sql-manual/sql-functions/aggregate-functions/avg","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/aggregate-functions/avg","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"AVG","language":"zh-CN","description":"\u8BA1\u7B97\u6307\u5B9A\u5217\u6216\u8868\u8FBE\u5F0F\u7684\u6240\u6709\u975E NULL \u503C\u7684\u5E73\u5747\u503C\u3002"},"sidebar":"docs","previous":{"title":"ARRAY_AGG","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/aggregate-functions/array-agg"},"next":{"title":"AVG_WEIGHTED","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/aggregate-functions/avg-weighted"}}'),s=l("785893"),a=l("250065");let i={title:"AVG",language:"zh-CN",description:"\u8BA1\u7B97\u6307\u5B9A\u5217\u6216\u8868\u8FBE\u5F0F\u7684\u6240\u6709\u975E NULL \u503C\u7684\u5E73\u5747\u503C\u3002"},c=void 0,r={},d=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u4E3E\u4F8B",id:"\u4E3E\u4F8B",level:2}];function g(n){let e={code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,s.jsx)(e.p,{children:"\u8BA1\u7B97\u6307\u5B9A\u5217\u6216\u8868\u8FBE\u5F0F\u7684\u6240\u6709\u975E NULL \u503C\u7684\u5E73\u5747\u503C\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"AVG([DISTINCT] <expr>)\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"<expr>"})}),(0,s.jsx)(e.td,{children:"\u662F\u4E00\u4E2A\u8868\u8FBE\u5F0F\u6216\u5217\uFF0C\u901A\u5E38\u662F\u4E00\u4E2A\u6570\u503C\u5217\u6216\u8005\u80FD\u591F\u8F6C\u6362\u4E3A\u6570\u503C\u7684\u8868\u8FBE\u5F0F\uFF0C\u652F\u6301\u7C7B\u578B\u4E3A TinyInt\uFF0CSmallInt\uFF0CInteger\uFF0CBigInt\uFF0CLargeInt\uFF0CDouble\uFF0CDecimal \u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"[DISTINCT]"})}),(0,s.jsx)(e.td,{children:"\u662F\u4E00\u4E2A\u53EF\u9009\u7684\u5173\u952E\u5B57\uFF0C\u8868\u793A\u5BF9 expr \u4E2D\u7684\u91CD\u590D\u503C\u8FDB\u884C\u53BB\u91CD\u540E\u518D\u8BA1\u7B97\u5E73\u5747\u503C\u3002"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,s.jsx)(e.p,{children:"\u8FD4\u56DE\u6240\u9009\u5217\u6216\u8868\u8FBE\u5F0F\u7684\u5E73\u5747\u503C\uFF0C\u5982\u679C\u7EC4\u5185\u7684\u6240\u6709\u8BB0\u5F55\u5747\u4E3A NULL\uFF0C\u5219\u8BE5\u51FD\u6570\u8FD4\u56DE NULL \u3002\n\u5BF9\u4E8E Decimal \u7C7B\u578B\u7684\u8F93\u5165\uFF0C\u8FD4\u56DE\u503C\u7C7B\u578B\u4E3A Decimal \u3002\u5176\u4ED6\u6570\u503C\u7C7B\u578B\u7684\u8FD4\u56DE\u503C\u4E3A Double \u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u4E3E\u4F8B",children:"\u4E3E\u4F8B"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:'-- setup\ncreate table t1(\n        k_tinyint tinyint,\n        k_smallint smallint,\n        k_int int,\n        k_bigint bigint,\n        k_largeint largeint,\n        k_double double,\n        k_decimal decimalv3(10, 5),\n        k_null_int int\n) distributed by hash (k_int) buckets 1\nproperties ("replication_num"="1");\ninsert into t1 values \n    (1, 10, 100, 1000, 10000, 1.1, 222.222, null),\n    (2, 20, 200, 2000, 20000, 2.2, 444.444, null),\n    (3, 30, 300, 3000, 30000, 3.3, null, null);\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_tinyint) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"TinyInt \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[1,2,3]\u7684\u5E73\u5747\u503C\u4E3A2\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+----------------+\n| avg(k_tinyint) |\n+----------------+\n|              2 |\n+----------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_smallint) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"SmallInt \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[10,20,30]\u7684\u5E73\u5747\u503C\u4E3A20\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+-----------------+\n| avg(k_smallint) |\n+-----------------+\n|              20 |\n+-----------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_int) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"Integer \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[100,200,300]\u7684\u5E73\u5747\u503C\u4E3A200\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+------------+\n| avg(k_int) |\n+------------+\n|        200 |\n+------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_bigint) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"BigInt \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[1000,2000,3000]\u7684\u5E73\u5747\u503C\u4E3A2000\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+---------------+\n| avg(k_bigint) |\n+---------------+\n|          2000 |\n+---------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_largeint) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"LargeInt \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[10000,20000,30000]\u7684\u5E73\u5747\u503C\u4E3A20000\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+-----------------+\n| avg(k_largeint) |\n+-----------------+\n|           20000 |\n+-----------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_double) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"Double \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[1.1,2.2,3.3]\u7684\u5E73\u5747\u503C\u4E3A2.2\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"| avg(k_double)      |\n+--------------------+\n| 2.1999999999999997 |\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_decimal) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"Decimal \u7C7B\u578B\u7684\u5E73\u5747\u503C\u8BA1\u7B97\uFF0C[222.222,444.444,null]\u7684\u5E73\u5747\u503C\u4E3A333.333\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+----------------+\n| avg(k_decimal) |\n+----------------+\n|      333.33300 |\n+----------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(k_null_int) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5BF9\u4E8E\u8F93\u5165\u6570\u636E\u5747\u4E3A NULL \u503C\u7684\u60C5\u51B5\uFF0C\u8FD4\u56DE NULL \u503C\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+-----------------+\n| avg(k_null_int) |\n+-----------------+\n|            NULL |\n+-----------------+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select avg(distinct k_bigint) from t1;\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4F7F\u7528 DISTINCT \u5173\u952E\u5B57\u8FDB\u884C\u53BB\u91CD\u8BA1\u7B97\uFF0C[1000,2000,3000]\u53BB\u91CD\u540E\u5E73\u5747\u503C\u4E3A2000\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-text",children:"+-----------------------+\n| avg(distinct k_bigint) |\n+-----------------------+\n|                  2000 |\n+-----------------------+\n"})})]})}function o(n={}){let{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(g,{...n})}):g(n)}},250065:function(n,e,l){l.d(e,{Z:function(){return c},a:function(){return i}});var t=l(667294);let s={},a=t.createContext(s);function i(n){let e=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);