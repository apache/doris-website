"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["24793"],{992025:function(e,n,r){r.r(n),r.d(n,{default:()=>A,frontMatter:()=>a,metadata:()=>s,assets:()=>E,toc:()=>d,contentTitle:()=>t});var s=JSON.parse('{"id":"sql-manual/sql-statements/table-and-view/async-materialized-view/ALTER-ASYNC-MATERIALIZED-VIEW","title":"ALTER ASYNC MATERIALIZED VIEW","description":"\u63CF\u8FF0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/sql-manual/sql-statements/table-and-view/async-materialized-view/ALTER-ASYNC-MATERIALIZED-VIEW.md","sourceDirName":"sql-manual/sql-statements/table-and-view/async-materialized-view","slug":"/sql-manual/sql-statements/table-and-view/async-materialized-view/ALTER-ASYNC-MATERIALIZED-VIEW","permalink":"/zh-CN/docs/dev/sql-manual/sql-statements/table-and-view/async-materialized-view/ALTER-ASYNC-MATERIALIZED-VIEW","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"ALTER ASYNC MATERIALIZED VIEW","language":"zh-CN"},"sidebar":"docs","previous":{"title":"SHOW CREATE SYNC MATERIALIZED VIEW","permalink":"/zh-CN/docs/dev/sql-manual/sql-statements/table-and-view/sync-materialized-view/SHOW-CREATE-MATERIALIZED-VIEW"},"next":{"title":"CANCEL MATERIALIZED VIEW TASK","permalink":"/zh-CN/docs/dev/sql-manual/sql-statements/table-and-view/async-materialized-view/CANCEL-MATERIALIZED-VIEW-TASK"}}'),l=r("785893"),i=r("250065");let a={title:"ALTER ASYNC MATERIALIZED VIEW",language:"zh-CN"},t=void 0,E={},d=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:4},{value:"\u8BF4\u660E",id:"\u8BF4\u660E",level:4},{value:"RENAME",id:"rename",level:5},{value:"refreshMethod",id:"refreshmethod",level:5},{value:"refreshTrigger",id:"refreshtrigger",level:5},{value:"SET",id:"set",level:5},{value:"REPLACE",id:"replace",level:5},{value:"\u5173\u952E\u8BCD",id:"\u5173\u952E\u8BCD",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,l.jsx)(n.p,{children:"\u8BE5\u8BED\u53E5\u7528\u4E8E\u4FEE\u6539\u5F02\u6B65\u7269\u5316\u89C6\u56FE\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER MATERIALIZED VIEW mvName=multipartIdentifier ((RENAME newName=identifier)\n       | (REFRESH (refreshMethod | refreshTrigger | refreshMethod refreshTrigger))\n       | REPLACE WITH MATERIALIZED VIEW newName=identifier propertyClause?\n       | (SET  LEFT_PAREN fileProperties=propertyItemList RIGHT_PAREN))\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u8BF4\u660E",children:"\u8BF4\u660E"}),"\n",(0,l.jsx)(n.h5,{id:"rename",children:"RENAME"}),"\n",(0,l.jsx)(n.p,{children:"\u7528\u6765\u66F4\u6539\u7269\u5316\u89C6\u56FE\u7684\u540D\u5B57"}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\uFF1A\u5C06 mv1 \u7684\u540D\u5B57\u6539\u4E3A mv2"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER MATERIALIZED VIEW mv1 rename mv2;\n"})}),"\n",(0,l.jsx)(n.h5,{id:"refreshmethod",children:"refreshMethod"}),"\n",(0,l.jsxs)(n.p,{children:["\u540C",(0,l.jsx)(n.a,{href:"./CREATE-ASYNC-MATERIALIZED-VIEW",children:"\u521B\u5EFA\u5F02\u6B65\u7269\u5316\u89C6\u56FE"})]}),"\n",(0,l.jsx)(n.h5,{id:"refreshtrigger",children:"refreshTrigger"}),"\n",(0,l.jsxs)(n.p,{children:["\u540C",(0,l.jsx)(n.a,{href:"./CREATE-ASYNC-MATERIALIZED-VIEW",children:"\u521B\u5EFA\u5F02\u6B65\u7269\u5316\u89C6\u56FE"})]}),"\n",(0,l.jsx)(n.h5,{id:"set",children:"SET"}),"\n",(0,l.jsx)(n.p,{children:"\u4FEE\u6539\u7269\u5316\u89C6\u56FE\u7279\u6709\u7684 property"}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\u4FEE\u6539 mv1 \u7684 grace_period \u4E3A 3000ms"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'ALTER MATERIALIZED VIEW mv1 set("grace_period"="3000");\n'})}),"\n",(0,l.jsx)(n.h5,{id:"replace",children:"REPLACE"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER MATERIALIZED VIEW [db.]mv1 REPLACE WITH MATERIALIZED VIEW mv2\n[PROPERTIES('swap' = 'true')];\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E24\u4E2A\u7269\u5316\u89C6\u56FE\u8FDB\u884C\u539F\u5B50\u7684\u66FF\u6362\u64CD\u4F5C"}),"\n",(0,l.jsx)(n.p,{children:"swap \u9ED8\u8BA4\u4E3A TRUE"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5982\u679C swap \u53C2\u6570\u4E3A TRUE\uFF0C\u76F8\u5F53\u4E8E\u628A\u7269\u5316\u89C6\u56FE mv1 \u91CD\u547D\u540D\u4E3A mv2 , \u540C\u65F6\u628A mv2 \u91CD\u547D\u540D\u4E3A mv1"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679C swap \u53C2\u6570\u4E3A FALSE\uFF0C\u76F8\u5F53\u4E8E\u628A mv2 \u91CD\u547D\u540D\u4E3A mv1\uFF0C\u539F\u6709\u7684 mv1 \u88AB\u5220\u9664"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\u60F3\u628A mv1 \u548C mv2 \u7684\u540D\u5B57\u4E92\u6362"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER MATERIALIZED VIEW db1.mv1 REPLACE WITH MATERIALIZED VIEW mv2;\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F8B\u5982\u60F3\u628A mv2 \u91CD\u547D\u540D\u4E3A mv1\uFF0C\u5E76\u5220\u9664\u539F\u5148\u7684 mv1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER MATERIALIZED VIEW db1.mv1 REPLACE WITH MATERIALIZED VIEW mv2\nPROPERTIES('swap' = 'false');\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u5173\u952E\u8BCD",children:"\u5173\u952E\u8BCD"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"ALTER, ASYNC, MATERIALIZED, VIEW\n"})})]})}function A(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return t},a:function(){return a}});var s=r(667294);let l={},i=s.createContext(l);function a(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);