"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["261649"],{692779:function(n,e,s){s.r(e),s.d(e,{default:()=>h,frontMatter:()=>d,metadata:()=>r,assets:()=>a,toc:()=>o,contentTitle:()=>c});var r=JSON.parse('{"id":"install/deploy-manually/integrated-storage-compute-deploy-manually","title":"\u624B\u52A8\u90E8\u7F72\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4","description":"\u5728\u5B8C\u6210\u524D\u7F6E\u68C0\u67E5\u53CA\u89C4\u5212\u540E\uFF0C\u5982\u73AF\u5883\u68C0\u67E5\u3001\u64CD\u4F5C\u7CFB\u7EDF\u68C0\u67E5\u3001\u96C6\u7FA4\u89C4\u5212\uFF0C\u53EF\u4EE5\u5F00\u59CB\u90E8\u7F72\u96C6\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/install/deploy-manually/integrated-storage-compute-deploy-manually.md","sourceDirName":"install/deploy-manually","slug":"/install/deploy-manually/integrated-storage-compute-deploy-manually","permalink":"/zh-CN/docs/4.x/install/deploy-manually/integrated-storage-compute-deploy-manually","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"\u624B\u52A8\u90E8\u7F72\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4","language":"zh-CN","description":"\u5728\u5B8C\u6210\u524D\u7F6E\u68C0\u67E5\u53CA\u89C4\u5212\u540E\uFF0C\u5982\u73AF\u5883\u68C0\u67E5\u3001\u64CD\u4F5C\u7CFB\u7EDF\u68C0\u67E5\u3001\u96C6\u7FA4\u89C4\u5212\uFF0C\u53EF\u4EE5\u5F00\u59CB\u90E8\u7F72\u96C6\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u3002"},"sidebar":"docs","previous":{"title":"\u64CD\u4F5C\u7CFB\u7EDF\u68C0\u67E5","permalink":"/zh-CN/docs/4.x/install/preparation/os-checking"},"next":{"title":"\u624B\u52A8\u90E8\u7F72\u5B58\u7B97\u5206\u79BB\u96C6\u7FA4","permalink":"/zh-CN/docs/4.x/install/deploy-manually/separating-storage-compute-deploy-manually"}}'),l=s("785893"),i=s("250065");let d={title:"\u624B\u52A8\u90E8\u7F72\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4",language:"zh-CN",description:"\u5728\u5B8C\u6210\u524D\u7F6E\u68C0\u67E5\u53CA\u89C4\u5212\u540E\uFF0C\u5982\u73AF\u5883\u68C0\u67E5\u3001\u64CD\u4F5C\u7CFB\u7EDF\u68C0\u67E5\u3001\u96C6\u7FA4\u89C4\u5212\uFF0C\u53EF\u4EE5\u5F00\u59CB\u90E8\u7F72\u96C6\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u3002"},c=void 0,a={},o=[{value:"\u7B2C 1 \u6B65\uFF1A\u90E8\u7F72 FE Master \u8282\u70B9",id:"\u7B2C-1-\u6B65\u90E8\u7F72-fe-master-\u8282\u70B9",level:2},{value:"\u7B2C 2 \u6B65\uFF1A\u90E8\u7F72 FE \u96C6\u7FA4\uFF08\u53EF\u9009\uFF09",id:"\u7B2C-2-\u6B65\u90E8\u7F72-fe-\u96C6\u7FA4\u53EF\u9009",level:2},{value:"\u7B2C 3 \u6B65\uFF1A\u90E8\u7F72 BE \u8282\u70B9",id:"\u7B2C-3-\u6B65\u90E8\u7F72-be-\u8282\u70B9",level:2},{value:"\u7B2C 4 \u6B65\uFF1A\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027",id:"\u7B2C-4-\u6B65\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027",level:2}];function t(n){let e={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:["\u5728\u5B8C\u6210\u524D\u7F6E\u68C0\u67E5\u53CA\u89C4\u5212\u540E\uFF0C\u5982",(0,l.jsx)(e.a,{href:"/zh-CN/docs/4.x/install/preparation/env-checking",children:"\u73AF\u5883\u68C0\u67E5"}),"\u3001",(0,l.jsx)(e.a,{href:"/zh-CN/docs/4.x/install/preparation/os-checking",children:"\u64CD\u4F5C\u7CFB\u7EDF\u68C0\u67E5"}),"\u3001",(0,l.jsx)(e.a,{href:"/zh-CN/docs/4.x/install/preparation/cluster-planning",children:"\u96C6\u7FA4\u89C4\u5212"}),"\uFF0C\u53EF\u4EE5\u5F00\u59CB\u90E8\u7F72\u96C6\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u67B6\u6784\u5982\u4E0B\uFF0C\u90E8\u7F72\u5B58\u7B97\u4E00\u4F53\u96C6\u7FA4\u5206\u4E3A\u56DB\u6B65\uFF1A"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u5B58\u7B97\u4E00\u4F53\u67B6\u6784",src:s(248937).Z+"",width:"2560",height:"1224"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u90E8\u7F72 FE Master \u8282\u70B9"}),"\uFF1A\u90E8\u7F72\u7B2C\u4E00\u4E2A FE \u8282\u70B9\u4F5C\u4E3A Master \u8282\u70B9\uFF1B"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u90E8\u7F72 FE \u96C6\u7FA4"}),"\uFF1A\u90E8\u7F72 FE \u96C6\u7FA4\uFF0C\u6DFB\u52A0 Follower \u6216 Observer FE \u8282\u70B9\uFF1B"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u90E8\u7F72 BE \u8282\u70B9"}),"\uFF1A\u5411 FE \u96C6\u7FA4\u4E2D\u6CE8\u518C BE \u8282\u70B9\uFF1B"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027"}),"\uFF1A\u90E8\u7F72\u5B8C\u6210\u540E\u8FDE\u63A5\u5E76\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u5F00\u59CB\u90E8\u7F72\u64CD\u4F5C\u524D\uFF0C\u53EF\u4EE5",(0,l.jsx)(e.a,{href:"https://doris.apache.org/download",children:"\u4E0B\u8F7D"}),"\u5BF9\u5E94\u7684 Doris \u7248\u672C\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"\u7B2C-1-\u6B65\u90E8\u7F72-fe-master-\u8282\u70B9",children:"\u7B2C 1 \u6B65\uFF1A\u90E8\u7F72 FE Master \u8282\u70B9"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u5143\u6570\u636E\u8DEF\u5F84"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u90E8\u7F72 FE \u65F6\uFF0C\u5EFA\u8BAE\u4E0E BE \u8282\u70B9\u6570\u636E\u5B58\u50A8\u5728\u4E0D\u540C\u7684\u786C\u76D8\u4E0A\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u89E3\u538B\u5B89\u88C5\u5305\u65F6\uFF0C\u4F1A\u9ED8\u8BA4\u9644\u5E26 doris-meta \u76EE\u5F55\uFF0C\u5EFA\u8BAE\u4E3A\u5143\u6570\u636E\u521B\u5EFA\u72EC\u7ACB\u76EE\u5F55\uFF0C\u5E76\u5C06\u5176\u8F6F\u8FDE\u63A5\u5230\u9ED8\u8BA4\u7684 ",(0,l.jsx)(e.code,{children:"doris-meta"})," \u76EE\u5F55\u3002\u751F\u4EA7\u73AF\u5883\u5E94\u4F7F\u7528\u5355\u72EC\u7684 SSD \u786C\u76D8\uFF0C\u4E0D\u5EFA\u8BAE\u5C06\u5176\u653E\u5728 Doris \u5B89\u88C5\u76EE\u5F55\u4E0B\uFF1B\u5F00\u53D1\u548C\u6D4B\u8BD5\u73AF\u5883\u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"## Use a separate disk for FE metadata\nmkdir -p <doris_meta_created>\n   \n## Create FE metadata directory symlink\nln -s <doris_meta_created> <doris_meta_original>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4FEE\u6539 FE \u914D\u7F6E\u6587\u4EF6"})}),"\n",(0,l.jsxs)(e.p,{children:["FE \u7684\u914D\u7F6E\u6587\u4EF6\u5728 FE \u90E8\u7F72\u8DEF\u5F84\u4E0B\u7684 conf \u76EE\u5F55\u4E2D\uFF0C\u542F\u52A8 FE \u8282\u70B9\u524D\u9700\u8981\u4FEE\u6539 ",(0,l.jsx)(e.code,{children:"conf/fe.conf"}),"\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u90E8\u7F72 FE \u8282\u70B9\u4E4B\u524D\uFF0C\u5EFA\u8BAE\u8C03\u6574\u4EE5\u4E0B\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:'## modify Java Heap\nJAVA_OPTS="-Xmx16384m -XX:+UseMembar -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction=80 -XX:SoftRefLRUPolicyMSPerMB=0 -Xloggc:$DORIS_HOME/log/fe.gc.log.$DATE"\n   \n## modify case sensitivity\nlower_case_table_names = 1\n  \n## modify network CIDR \npriority_networks = 10.1.3.0/24\n   \n## modify Java Home\nJAVA_HOME = <your-java-home-path>\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u53C2\u6570\u89E3\u91CA\u5982\u4E0B\uFF0C\u66F4\u591A\u8BE6\u7EC6\u914D\u7F6E\u9879\u8BF7\u53C2\u8003 ",(0,l.jsx)(e.a,{href:"../../admin-manual/config/fe-config",children:"FE \u914D\u7F6E\u9879"}),"\uFF1A"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u53C2\u6570"}),(0,l.jsx)(e.th,{children:"\u4FEE\u6539\u5EFA\u8BAE"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"JAVA_OPTS"}),(0,l.jsxs)(e.td,{children:["\u6307\u5B9A\u53C2\u6570 ",(0,l.jsx)(e.code,{children:"-Xmx"})," \u8C03\u6574 Java Heap\uFF0C\u751F\u4EA7\u73AF\u5883\u5EFA\u8BAE 16G \u4EE5\u4E0A\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.a,{href:"../../admin-manual/config/fe-config#lower_case_table_names",children:"lower_case_table_names "})}),(0,l.jsx)(e.td,{children:"\u8BBE\u7F6E\u5927\u5C0F\u5199\u654F\u611F\uFF0C\u5EFA\u8BAE\u8C03\u6574\u4E3A 1\uFF0C\u5373\u5927\u5C0F\u5199\u4E0D\u654F\u611F\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.a,{href:"../../admin-manual/config/fe-config#priority_networks",children:"priority_networks "})}),(0,l.jsx)(e.td,{children:"\u7F51\u7EDC CIDR\uFF0C\u6839\u636E\u7F51\u7EDC IP \u5730\u5740\u6307\u5B9A\u3002\u5728 FQDN \u73AF\u5883\u4E2D\u53EF\u4EE5\u5FFD\u7565\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"JAVA_HOME"}),(0,l.jsx)(e.td,{children:"\u5EFA\u8BAE Doris \u4F7F\u7528\u72EC\u7ACB\u4E8E\u64CD\u4F5C\u7CFB\u7EDF\u7684 JDK \u73AF\u5883\u3002"})]})]})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u542F\u52A8 FE \u8FDB\u7A0B"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\u53EF\u4EE5\u542F\u52A8 FE \u8FDB\u7A0B"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Shell",children:"bin/start_fe.sh --daemon\n"})}),"\n",(0,l.jsxs)(e.p,{children:["FE \u8FDB\u7A0B\u5C06\u5728\u540E\u53F0\u542F\u52A8\uFF0C\u65E5\u5FD7\u9ED8\u8BA4\u4FDD\u5B58\u5728 ",(0,l.jsx)(e.code,{children:"log/"})," \u76EE\u5F55\u3002\u5982\u679C\u542F\u52A8\u5931\u8D25\uFF0C\u53EF\u901A\u8FC7\u67E5\u770B ",(0,l.jsx)(e.code,{children:"log/fe.log"})," \u6216 ",(0,l.jsx)(e.code,{children:"log/fe.out"})," \u6587\u4EF6\u83B7\u53D6\u9519\u8BEF\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u68C0\u67E5 FE \u542F\u52A8\u72B6\u6001"})}),"\n",(0,l.jsxs)(e.p,{children:["\u901A\u8FC7 MySQL \u5BA2\u6237\u7AEF\u8FDE\u63A5 Doris \u96C6\u7FA4\uFF0C\u521D\u59CB\u5316\u7528\u6237\u4E3A ",(0,l.jsx)(e.code,{children:"root"}),"\uFF0C\u9ED8\u8BA4\u5BC6\u7801\u4E3A\u7A7A\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"\nmysql -uroot -P<fe_query_port> -h<fe_ip_address>\n\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u94FE\u63A5\u5230 Doris \u96C6\u7FA4\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"show frontends"})," \u547D\u4EE4\u67E5\u770B FE \u7684\u72B6\u6001\uFF0C\u901A\u5E38\u8981\u786E\u8BA4\u4EE5\u4E0B\u51E0\u9879"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Alive \u4E3A ",(0,l.jsx)(e.code,{children:"true"})," \u8868\u793A\u8282\u70B9\u5B58\u6D3B\uFF1B"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Join \u4E3A ",(0,l.jsx)(e.code,{children:"true"})," \u8868\u793A\u8282\u70B9\u52A0\u5165\u5230\u96C6\u7FA4\u4E2D\uFF0C\u4F46\u4E0D\u4EE3\u8868\u5F53\u524D\u8FD8\u5728\u96C6\u7FA4\u5185\uFF08\u53EF\u80FD\u5DF2\u5931\u8054\uFF09\uFF1B"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"IsMaster \u4E3A true \u8868\u793A\u5F53\u524D\u8282\u70B9\u4E3A Master \u8282\u70B9\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u7B2C-2-\u6B65\u90E8\u7F72-fe-\u96C6\u7FA4\u53EF\u9009",children:"\u7B2C 2 \u6B65\uFF1A\u90E8\u7F72 FE \u96C6\u7FA4\uFF08\u53EF\u9009\uFF09"}),"\n",(0,l.jsx)(e.p,{children:"\u751F\u4EA7\u73AF\u5883\u5EFA\u8BAE\u81F3\u5C11\u90E8\u7F72 3 \u4E2A\u8282\u70B9\u3002\u5728\u90E8\u7F72\u8FC7 FE Master \u8282\u70B9\u540E\uFF0C\u9700\u8981\u518D\u90E8\u7F72\u4E24\u4E2A FE Follower \u8282\u70B9\u3002"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u5143\u6570\u636E\u76EE\u5F55"})}),"\n",(0,l.jsx)(e.p,{children:"\u53C2\u8003\u90E8\u7F72 FE Master \u8282\u70B9\uFF0C\u521B\u5EFA doris-meta \u76EE\u5F55"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4FEE\u6539 FE Follower \u8282\u70B9\u914D\u7F6E\u6587\u4EF6"})}),"\n",(0,l.jsx)(e.p,{children:"\u53C2\u8003\u90E8\u7F72 FE Master \u8282\u70B9\uFF0C\u4FEE\u6539 FE Follower \u8282\u70B9\u914D\u7F6E\u6587\u4EF6\u3002\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u76F4\u63A5\u590D\u5236 FE Master \u8282\u70B9\u7684\u914D\u7F6E\u6587\u4EF6\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5728 Doris \u96C6\u7FA4\u4E2D\u6CE8\u518C\u65B0\u7684 FE Follower \u8282\u70B9"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u542F\u52A8\u65B0\u7684 FE \u8282\u70B9\u524D\uFF0C\u9700\u8981\u5148\u5728 FE \u96C6\u7FA4\u4E2D\u6CE8\u518C\u65B0\u7684 FE \u8282\u70B9\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:'## connect a alive FE node\nmysql -uroot -P<fe_query_port> -h<fe_ip_address>\n\n## registe a new FE follower node\nALTER SYSTEM ADD FOLLOWER "<fe_ip_address>:<fe_edit_log_port>"\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u8981\u6DFB\u52A0 observer \u8282\u70B9\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"ADD OBSERVER"})," \u547D\u4EE4"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:'## register a new FE observer node\nALTER SYSTEM ADD OBSERVER "<fe_ip_address>:<fe_edit_log_port>"\n'})}),"\n",(0,l.jsx)(e.admonition,{title:"\u6CE8\u610F",type:"caution",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"FE Follower\uFF08\u5305\u62EC Master\uFF09\u8282\u70B9\u7684\u6570\u91CF\u5EFA\u8BAE\u4E3A\u5947\u6570\uFF0C\u5EFA\u8BAE\u90E8\u7F72 3 \u4E2A\u7EC4\u6210\u9AD8\u53EF\u7528\u6A21\u5F0F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5F53 FE \u5904\u4E8E\u9AD8\u53EF\u7528\u90E8\u7F72\u65F6\uFF081 \u4E2A Master\uFF0C2 \u4E2A Follower\uFF09\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u901A\u8FC7\u589E\u52A0 Observer FE \u6765\u6269\u5C55 FE \u7684\u8BFB\u670D\u52A1\u80FD\u529B"}),"\n"]}),"\n"]})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u542F\u52A8 FE Follower \u8282\u70B9"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\uFF0C\u53EF\u4EE5\u542F\u52A8 FE Follower \u8282\u70B9\uFF0C\u5E76\u81EA\u52A8\u540C\u6B65\u5143\u6570\u636E\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Shell",children:"bin/start_fe.sh --helper <helper_fe_ip>:<fe_edit_log_port> --daemon\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5176\u4E2D\uFF0Chelper_fe_ip \u662F FE \u96C6\u7FA4\u4E2D\u4EFB\u4F55\u5B58\u6D3B\u8282\u70B9\u7684 IP \u5730\u5740\u3002",(0,l.jsx)(e.code,{children:"--helper"})," \u53C2\u6570\u4EC5\u5728\u7B2C\u4E00\u6B21\u542F\u52A8 FE \u65F6\u9700\u8981\uFF0C\u4E4B\u540E\u91CD\u542F\u65E0\u9700\u6307\u5B9A\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5224\u65AD Follower \u8282\u70B9\u72B6\u6001"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4E0E FE Master \u8282\u70B9\u72B6\u6001\u5224\u65AD\u76F8\u540C\uFF0C\u6DFB\u52A0 Follower \u8282\u70B9\u540E\uFF0C\u53EF\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"show frontends"})," \u547D\u4EE4\u67E5\u770B\u8282\u70B9\u72B6\u6001\uFF0CIsMaster \u5E94\u4E3A false\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u7B2C-3-\u6B65\u90E8\u7F72-be-\u8282\u70B9",children:"\u7B2C 3 \u6B65\uFF1A\u90E8\u7F72 BE \u8282\u70B9"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u6570\u636E\u76EE\u5F55"})}),"\n",(0,l.jsxs)(e.p,{children:["BE \u8FDB\u7A0B\u5E94\u7528\u4E8E\u6570\u636E\u7684\u8BA1\u7B97\u4E0E\u5B58\u50A8\u3002\u6570\u636E\u76EE\u5F55\u9ED8\u8BA4\u653E\u5728 ",(0,l.jsx)(e.code,{children:"be/storage"})," \u4E0B\u3002\u751F\u4EA7\u73AF\u5883\u901A\u5E38\u5C06 BE \u6570\u636E\u4E0E BE \u90E8\u7F72\u6587\u4EF6\u5206\u522B\u5B58\u50A8\u5728\u4E0D\u540C\u7684\u786C\u76D8\u4E0A\u3002BE \u652F\u6301\u6570\u636E\u5206\u5E03\u5728\u591A\u76D8\u4E0A\u4EE5\u66F4\u597D\u7684\u5229\u7528\u591A\u5757\u786C\u76D8\u7684 I/O \u80FD\u529B\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:"## Create a BE data storage directory on each data disk\nmkdir -p <be_storage_root_path>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4FEE\u6539 BE \u914D\u7F6E\u6587\u4EF6"})}),"\n",(0,l.jsxs)(e.p,{children:["BE \u7684\u914D\u7F6E\u6587\u4EF6\u5728 BE \u90E8\u7F72\u8DEF\u5F84\u4E0B\u7684 conf \u76EE\u5F55\u4E2D\uFF0C\u542F\u52A8 BE \u8282\u70B9\u524D\u9700\u8981\u4FEE\u6539 ",(0,l.jsx)(e.code,{children:"conf/be.conf"}),"\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:"## modify storage path for BE node\n\nstorage_root_path=/home/disk1/doris,medium:HDD;/home/disk2/doris,medium:SSD\n\n## modify network CIDR \n\npriority_networks = 10.1.3.0/24\n\n## modify Java Home in be/conf/be.conf\n\nJAVA_HOME = <your-java-home-path>\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u53C2\u6570\u89E3\u91CA\u5982\u4E0B\uFF1A"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u53C2\u6570"}),(0,l.jsx)(e.th,{children:"\u4FEE\u6539\u5EFA\u8BAE"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.a,{href:"../../admin-manual/config/be-config#priority_networks",children:"priority_networks"})}),(0,l.jsx)(e.td,{children:"\u7F51\u7EDC CIDR\uFF0C\u6839\u636E\u7F51\u7EDC IP \u5730\u5740\u6307\u5B9A\u3002\u5728 FQDN \u73AF\u5883\u4E2D\u53EF\u4EE5\u5FFD\u7565\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"JAVA_OPTS"}),(0,l.jsxs)(e.td,{children:["\u6307\u5B9A\u53C2\u6570 ",(0,l.jsx)(e.code,{children:"-Xmx"})," \u8C03\u6574 Java Heap\uFF0C\u751F\u4EA7\u73AF\u5883\u5EFA\u8BAE 2G \u4EE5\u4E0A\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"JAVA_HOME"}),(0,l.jsx)(e.td,{children:"\u5EFA\u8BAE Doris \u4F7F\u7528\u72EC\u7ACB\u4E8E\u64CD\u4F5C\u7CFB\u7EDF\u7684 JDK \u73AF\u5883\u3002"})]})]})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5728 Doris \u4E2D\u6CE8\u518C BE \u8282\u70B9"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u542F\u52A8 BE \u8282\u70B9\u524D\uFF0C\u9700\u8981\u5148\u5728 FE \u96C6\u7FA4\u4E2D\u6CE8\u518C\u8BE5\u8282\u70B9\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:'## connect a alive FE node\nmysql -uroot -P<fe_query_port> -h<fe_ip_address>\n   \n## registe BE node\nALTER SYSTEM ADD BACKEND "<be_ip_address>:<be_heartbeat_service_port>"\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u542F\u52A8 BE \u8FDB\u7A0B"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\u53EF\u4EE5\u542F\u52A8 BE \u8FDB\u7A0B\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:"bin/start_be.sh --daemon\n"})}),"\n",(0,l.jsxs)(e.p,{children:["BE \u8FDB\u7A0B\u5728\u540E\u53F0\u542F\u52A8\uFF0C\u65E5\u5FD7\u9ED8\u8BA4\u4FDD\u5B58\u5728 ",(0,l.jsx)(e.code,{children:"log/"})," \u76EE\u5F55\u3002\u5982\u679C\u542F\u52A8\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5 ",(0,l.jsx)(e.code,{children:"log/be.log"})," \u6216 ",(0,l.jsx)(e.code,{children:"log/be.out"})," \u6587\u4EF6\u4EE5\u83B7\u53D6\u9519\u8BEF\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67E5\u770B BE \u542F\u52A8\u72B6\u6001"})}),"\n",(0,l.jsxs)(e.p,{children:["\u8FDE\u63A5 Doris \u96C6\u7FA4\u540E\uFF0C\u53EF\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"show backends"})," \u547D\u4EE4\u67E5\u770B BE \u8282\u70B9\u7684\u72B6\u6001\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:"## connect a alive FE node\nmysql -uroot -P<fe_query_port> -h<fe_ip_address>\n   \n## check BE node status\nshow backends;\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u901A\u5E38\u60C5\u51B5\u4E0B\u9700\u8981\u6CE8\u610F\u4EE5\u4E0B\u51E0\u9879\u72B6\u6001\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Alive \u4E3A true \u8868\u793A\u8282\u70B9\u5B58\u6D3B"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"TabletNum \u8868\u793A\u8BE5\u8282\u70B9\u4E0A\u7684\u5206\u7247\u6570\u91CF\uFF0C\u65B0\u52A0\u5165\u7684\u8282\u70B9\u4F1A\u8FDB\u884C\u6570\u636E\u5747\u8861\uFF0CTabletNum \u9010\u6E10\u8D8B\u4E8E\u5E73\u5747\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u7B2C-4-\u6B65\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027",children:"\u7B2C 4 \u6B65\uFF1A\u9A8C\u8BC1\u96C6\u7FA4\u6B63\u786E\u6027"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u767B\u5F55\u6570\u636E\u5E93"})}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 MySQL \u5BA2\u6237\u7AEF\u767B\u5F55 Doris \u96C6\u7FA4\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-Bash",children:"## connect a alive fe node\nmysql -uroot -P<fe_query_port> -h<fe_ip_address>\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u68C0\u67E5 Doris \u5B89\u88C5\u4FE1\u606F"})}),"\n",(0,l.jsxs)(e.p,{children:["\u901A\u8FC7 ",(0,l.jsx)(e.code,{children:"show frontends"})," \u4E0E ",(0,l.jsx)(e.code,{children:"show backends"})," \u53EF\u4EE5\u67E5\u770B\u6570\u636E\u5E93\u5404\u5B9E\u4F8B\u7684\u4FE1\u606F\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- check fe status\nshow frontends \\G\n\n-- check be status\nshow backends \\G\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4FEE\u6539 Doris \u96C6\u7FA4\u5BC6\u7801"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u521B\u5EFA Doris \u96C6\u7FA4\u65F6\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A ",(0,l.jsx)(e.code,{children:"root"})," \u7684\u7528\u6237\uFF0C\u5E76\u9ED8\u8BA4\u8BBE\u7F6E\u5176\u5BC6\u7801\u4E3A\u7A7A\u3002\u4E3A\u4E86\u63D0\u9AD8\u5B89\u5168\u6027\uFF0C\u5EFA\u8BAE\u5728\u96C6\u7FA4\u521B\u5EFA\u540E\u7ACB\u5373\u4E3A ",(0,l.jsx)(e.code,{children:"root"})," \u7528\u6237\u8BBE\u7F6E\u4E00\u4E2A\u65B0\u5BC6\u7801\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- check the current user\nselect user();  \n+------------------------+  \n| user()                 |  \n+------------------------+  \n| 'root'@'192.168.88.30' |  \n+------------------------+  \n     \n-- modify the password for current user\nSET PASSWORD = PASSWORD('doris_new_passwd');\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u521B\u5EFA\u6D4B\u8BD5\u8868\u5E76\u63D2\u5165\u6570\u636E"})}),"\n",(0,l.jsx)(e.p,{children:"\u4E3A\u4E86\u9A8C\u8BC1\u96C6\u7FA4\u7684\u6B63\u786E\u6027\uFF0C\u53EF\u4EE5\u5728\u65B0\u521B\u5EFA\u7684\u96C6\u7FA4\u4E2D\u521B\u5EFA\u4E00\u4E2A\u6D4B\u8BD5\u8868\uFF0C\u5E76\u63D2\u5165\u6D4B\u8BD5\u6570\u636E\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:'-- create a test database\ncreate database testdb;\n \n-- create a test table\nCREATE TABLE testdb.table_hash\n(\n    k1 TINYINT,\n    k2 DECIMAL(10, 2) DEFAULT "10.5",\n    k3 VARCHAR(10) COMMENT "string column",\n    k4 INT NOT NULL DEFAULT "1" COMMENT "int column"\n)\nCOMMENT "my first table"\nDISTRIBUTED BY HASH(k1) BUCKETS 32;\n'})}),"\n",(0,l.jsxs)(e.p,{children:["Doris \u517C\u5BB9 MySQL \u534F\u8BAE\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"INSERT"})," \u8BED\u53E5\u63D2\u5165\u6570\u636E\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- insert data\nINSERT INTO testdb.table_hash VALUES\n(1, 10.1, 'AAA', 10),\n(2, 10.2, 'BBB', 20),\n(3, 10.3, 'CCC', 30),\n(4, 10.4, 'DDD', 40),\n(5, 10.5, 'EEE', 50);\n\n-- check the data\nSELECT * from testdb.table_hash;\n+------+-------+------+------+\n| k1   | k2    | k3   | k4   |\n+------+-------+------+------+\n|    3 | 10.30 | CCC  |   30 |\n|    4 | 10.40 | DDD  |   40 |\n|    5 | 10.50 | EEE  |   50 |\n|    1 | 10.10 | AAA  |   10 |\n|    2 | 10.20 | BBB  |   20 |\n+------+-------+------+------+\n"})}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(t,{...n})}):t(n)}},248937:function(n,e,s){s.d(e,{Z:function(){return r}});let r=s.p+"assets/images/apache-doris-technical-overview-b8c5cb11b57d2f6559fa397d9fd0a8a0.png"},250065:function(n,e,s){s.d(e,{Z:function(){return c},a:function(){return d}});var r=s(667294);let l={},i=r.createContext(l);function d(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);