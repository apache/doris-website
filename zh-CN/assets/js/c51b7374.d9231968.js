"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["183272"],{327779:function(e,n,t){t.r(n),t.d(n,{default:()=>x,frontMatter:()=>i,metadata:()=>s,assets:()=>a,toc:()=>c,contentTitle:()=>d});var s=JSON.parse('{"id":"sql-manual/sql-statements/cluster-management/storage-management/CREATE-STORAGE-VAULT","title":"CREATE-STORAGE-VAULT","description":"\u8BE5\u547D\u4EE4\u7528\u4E8E\u521B\u5EFA\u5B58\u50A8\u5E93\u3002\u672C\u6587\u6863\u7684\u4E3B\u9898\u63CF\u8FF0\u4E86\u521B\u5EFA Doris \u81EA\u7BA1\u7406\u5B58\u50A8\u5E93\u7684\u8BED\u6CD5\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/sql-manual/sql-statements/cluster-management/storage-management/CREATE-STORAGE-VAULT.md","sourceDirName":"sql-manual/sql-statements/cluster-management/storage-management","slug":"/sql-manual/sql-statements/cluster-management/storage-management/CREATE-STORAGE-VAULT","permalink":"/zh-CN/docs/4.x/sql-manual/sql-statements/cluster-management/storage-management/CREATE-STORAGE-VAULT","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"CREATE-STORAGE-VAULT","language":"zh-CN","toc_min_heading_level":2,"toc_max_heading_level":4,"description":"\u8BE5\u547D\u4EE4\u7528\u4E8E\u521B\u5EFA\u5B58\u50A8\u5E93\u3002\u672C\u6587\u6863\u7684\u4E3B\u9898\u63CF\u8FF0\u4E86\u521B\u5EFA Doris \u81EA\u7BA1\u7406\u5B58\u50A8\u5E93\u7684\u8BED\u6CD5\u3002"},"sidebar":"docs","previous":{"title":"SHOW COMPUTE GROUPS","permalink":"/zh-CN/docs/4.x/sql-manual/sql-statements/cluster-management/compute-management/SHOW-COMPUTE-GROUPS"},"next":{"title":"ALTER STORAGE VAULT","permalink":"/zh-CN/docs/4.x/sql-manual/sql-statements/cluster-management/storage-management/ALTER-STORAGE-VAULT"}}'),r=t("785893"),l=t("250065");let i={title:"CREATE-STORAGE-VAULT",language:"zh-CN",toc_min_heading_level:2,toc_max_heading_level:4,description:"\u8BE5\u547D\u4EE4\u7528\u4E8E\u521B\u5EFA\u5B58\u50A8\u5E93\u3002\u672C\u6587\u6863\u7684\u4E3B\u9898\u63CF\u8FF0\u4E86\u521B\u5EFA Doris \u81EA\u7BA1\u7406\u5B58\u50A8\u5E93\u7684\u8BED\u6CD5\u3002"},d=void 0,a={},c=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u5FC5\u9009\u53C2\u6570",id:"\u5FC5\u9009\u53C2\u6570",level:2},{value:"\u53EF\u9009\u53C2\u6570",id:"\u53EF\u9009\u53C2\u6570",level:2},{value:"S3 Vault",id:"s3-vault",level:3},{value:"HDFS vault",id:"hdfs-vault",level:3},{value:"\u4E3E\u4F8B",id:"\u4E3E\u4F8B",level:2},{value:"1. \u521B\u5EFA HDFS storage vault\u3002",id:"1-\u521B\u5EFA-hdfs-storage-vault",level:3},{value:"2. \u521B\u5EFA\u963F\u91CC\u4E91 OSS storage vault\u3002",id:"2-\u521B\u5EFA\u963F\u91CC\u4E91-oss-storage-vault",level:3},{value:"3. \u521B\u5EFA\u817E\u8BAF\u4E91 COS storage vault\u3002",id:"3-\u521B\u5EFA\u817E\u8BAF\u4E91-cos-storage-vault",level:3},{value:"4. \u521B\u5EFA\u534E\u4E3A\u4E91 OBS storage vault\u3002",id:"4-\u521B\u5EFA\u534E\u4E3A\u4E91-obs-storage-vault",level:3},{value:"5. \u521B\u5EFA\u767E\u5EA6\u4E91 BOS storage vault\u3002",id:"5-\u521B\u5EFA\u767E\u5EA6\u4E91-bos-storage-vault",level:3},{value:"6. \u521B\u5EFA\u4E9A\u9A6C\u900A\u4E91 S3 storage vault\u3002",id:"6-\u521B\u5EFA\u4E9A\u9A6C\u900A\u4E91-s3-storage-vault",level:3},{value:"7. \u521B\u5EFA MinIO storage vault\u3002",id:"7-\u521B\u5EFA-minio-storage-vault",level:3},{value:"8. \u521B\u5EFA\u5FAE\u8F6F AZURE storage vault\u3002",id:"8-\u521B\u5EFA\u5FAE\u8F6F-azure-storage-vault",level:3},{value:"9. \u521B\u5EFA\u8C37\u6B4C GCP storage vault\u3002",id:"9-\u521B\u5EFA\u8C37\u6B4C-gcp-storage-vault",level:3},{value:"\u5173\u952E\u8BCD",id:"\u5173\u952E\u8BCD",level:2}];function o(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,r.jsx)(n.p,{children:"\u8BE5\u547D\u4EE4\u7528\u4E8E\u521B\u5EFA\u5B58\u50A8\u5E93\u3002\u672C\u6587\u6863\u7684\u4E3B\u9898\u63CF\u8FF0\u4E86\u521B\u5EFA Doris \u81EA\u7BA1\u7406\u5B58\u50A8\u5E93\u7684\u8BED\u6CD5\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE STORAGE VAULT [IF NOT EXISTS] <`vault_name`> [ <`properties`> ]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5FC5\u9009\u53C2\u6570",children:"\u5FC5\u9009\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53C2\u6570"}),(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"vault_name"})}),(0,r.jsx)(n.td,{children:"\u5B58\u50A8\u5E93\u7684\u540D\u79F0\u3002\u8FD9\u662F\u60A8\u8981\u521B\u5EFA\u7684\u65B0\u5B58\u50A8\u5E93\u7684\u552F\u4E00\u6807\u8BC6\u7B26\u3002"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"\u53EF\u9009\u53C2\u6570",children:"\u53EF\u9009\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53C2\u6570"}),(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[IF NOT EXISTS]"})}),(0,r.jsx)(n.td,{children:"\u5982\u679C\u6307\u5B9A\u7684\u5B58\u50A8\u5E93\u5DF2\u7ECF\u5B58\u5728\uFF0C\u5219\u4E0D\u4F1A\u6267\u884C\u521B\u5EFA\u64CD\u4F5C\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u629B\u51FA\u9519\u8BEF\u3002\u8FD9\u53EF\u4EE5\u9632\u6B62\u91CD\u590D\u521B\u5EFA\u76F8\u540C\u7684\u5B58\u50A8\u5E93\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PROPERTIES"})}),(0,r.jsxs)(n.td,{children:["\u4E00\u7EC4\u952E\u503C\u5BF9\uFF0C\u7528\u6765\u8BBE\u7F6E\u6216\u66F4\u65B0\u5B58\u50A8\u5E93\u7684\u5177\u4F53\u5C5E\u6027\u3002\u6BCF\u4E2A\u5C5E\u6027\u7531\u952E\uFF08",(0,r.jsx)(n.code,{children:"<key>"}),"\uFF09\u548C\u503C\uFF08",(0,r.jsx)(n.code,{children:"<value>"}),"\uFF09\u7EC4\u6210\uFF0C\u5E76\u7528\u7B49\u53F7 (",(0,r.jsx)(n.code,{children:"="}),") \u5206\u9694\u3002\u591A\u4E2A\u952E\u503C\u5BF9\u4E4B\u95F4\u7528\u9017\u53F7 (",(0,r.jsx)(n.code,{children:","}),") \u5206\u9694\u3002"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"s3-vault",children:"S3 Vault"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u53C2\u6570"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u662F\u5426\u5FC5\u9700"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u63CF\u8FF0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.endpoint"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u7528\u4E8E\u5BF9\u8C61\u5B58\u50A8\u7684\u7AEF\u70B9\u3002\u5BF9\u4E8E Azure Blob \u5B58\u50A8\uFF0Cendpoint \u662F\u56FA\u5B9A\u7684 blob.core.windows.net\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.region"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684\u5B58\u50A8\u6876\u7684\u533A\u57DF\u3002(\u5982\u679C\u60A8\u4F7F\u7528 GCP \u6216 AZURE,\u5219\u53EF\u586Bus-east-1)\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.root.path"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5B58\u50A8\u6570\u636E\u7684\u8DEF\u5F84\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.bucket"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684\u5BF9\u8C61\u5B58\u50A8\u8D26\u6237\u7684\u5B58\u50A8\u6876\u3002(\u5982\u679C\u60A8\u4F7F\u7528 Azure\uFF0C\u5219\u4E3A StorageAccount)\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.access_key"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684\u5BF9\u8C61\u5B58\u50A8\u8D26\u6237\u7684\u8BBF\u95EE\u5BC6\u94A5\u3002(\u5982\u679C\u60A8\u4F7F\u7528 Azure\uFF0C\u5219\u4E3A AccountName)\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"s3.secret_key"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684\u5BF9\u8C61\u5B58\u50A8\u8D26\u6237\u7684\u79D8\u5BC6\u5BC6\u94A5\u3002(\u5982\u679C\u60A8\u4F7F\u7528 Azure\uFF0C\u5219\u4E3A AccountKey)\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"provider"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["\u63D0\u4F9B\u5BF9\u8C61\u5B58\u50A8\u670D\u52A1\u7684\u4E91\u4F9B\u5E94\u5546\u3002\u652F\u6301\u7684\u503C\u6709",(0,r.jsx)(n.code,{children:"COS"}),"\uFF0C",(0,r.jsx)(n.code,{children:"OSS"}),"\uFF0C",(0,r.jsx)(n.code,{children:"S3"}),"\uFF0C",(0,r.jsx)(n.code,{children:"OBS"}),"\uFF0C",(0,r.jsx)(n.code,{children:"BOS"}),"\uFF0C",(0,r.jsx)(n.code,{children:"AZURE"}),"\uFF0C",(0,r.jsx)(n.code,{children:"GCP"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"use_path_style"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"path-style URL"}),"(\u79C1\u6709\u5316\u90E8\u7F72\u73AF\u5883) \u6216\u8005",(0,r.jsx)(n.code,{children:"virtual-hosted-style URL"}),"(\u516C\u6709\u4E91\u73AF\u5883\u5EFA\u8BAE), \u9ED8\u8BA4\u503C ",(0,r.jsx)(n.code,{children:"true"})," (path-style)"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6CE8\u610F: "})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"s3.endpoint"})," \u5982\u679C\u4E0D\u63D0\u4F9B",(0,r.jsx)(n.code,{children:"http://"})," \u6216 ",(0,r.jsx)(n.code,{children:"https://"})," \u524D\u7F00, \u5219\u9ED8\u8BA4\u4F7F\u7528http; \u5982\u63D0\u4F9B\uFF0C\u5219\u4F1A\u4EE5\u524D\u7F00\u4E3A\u51C6;"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Doris\u4E5F\u652F\u6301",(0,r.jsx)(n.code,{children:"AWS Assume Role"}),"\u7684\u65B9\u5F0F\u521B\u5EFAStorage Vault(\u4EC5\u9650\u4E8EAWS S3)\uFF0C\u914D\u7F6E\u65B9\u5F0F\u8BF7\u53C2\u8003",(0,r.jsx)(n.a,{href:"/zh-CN/docs/4.x/admin-manual/auth/integrations/aws-authentication-and-authorization#assumed-role-authentication",children:"AWS\u96C6\u6210"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"hdfs-vault",children:"HDFS vault"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u53C2\u6570"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u662F\u5426\u5FC5\u9700"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"\u63CF\u8FF0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"fs.defaultFS"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5FC5\u9700"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Hadoop \u914D\u7F6E\u5C5E\u6027\uFF0C\u6307\u5B9A\u8981\u4F7F\u7528\u7684\u9ED8\u8BA4\u6587\u4EF6\u7CFB\u7EDF\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"path_prefix"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u5B58\u50A8\u6570\u636E\u7684\u8DEF\u5F84\u524D\u7F00\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A\u5219\u4F1A\u4F7F\u7528 user \u8D26\u6237\u4E0B\u7684\u9ED8\u8BA4\u8DEF\u5F84\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"hadoop.username"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Hadoop \u914D\u7F6E\u5C5E\u6027\uFF0C\u6307\u5B9A\u8BBF\u95EE\u6587\u4EF6\u7CFB\u7EDF\u7684\u7528\u6237\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A\u5219\u4F1A\u4F7F\u7528\u542F\u52A8 hadoop \u8FDB\u7A0B\u7684 user\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"hadoop.security.authentication"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["\u7528\u4E8E hadoop \u7684\u8BA4\u8BC1\u65B9\u5F0F\u3002\u5982\u679C\u5E0C\u671B\u4F7F\u7528 kerberos \u5219\u53EF\u4EE5\u586B\u5199",(0,r.jsx)(n.code,{children:"kerberos"}),"\u3002"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"hadoop.kerberos.principal"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684 kerberos \u4E3B\u4F53\u7684\u8DEF\u5F84\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"hadoop.kerberos.keytab"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EF\u9009"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"\u60A8\u7684 kerberos keytab \u7684\u8DEF\u5F84\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u4E3E\u4F8B",children:"\u4E3E\u4F8B"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u521B\u5EFA-hdfs-storage-vault",children:"1. \u521B\u5EFA HDFS storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS hdfs_vault_demo\nPROPERTIES (\n    "type" = "hdfs",                                     -- required\n    "fs.defaultFS" = "hdfs://127.0.0.1:8020",            -- required\n    "path_prefix" = "big/data",                          -- optional,  \u4E00\u822C\u6309\u7167\u4E1A\u52A1\u540D\u79F0\u586B\u5199\n    "hadoop.username" = "user"                           -- optional\n    "hadoop.security.authentication" = "kerberos"        -- optional\n    "hadoop.kerberos.principal" = "hadoop/127.0.0.1@XXX" -- optional\n    "hadoop.kerberos.keytab" = "/etc/emr.keytab"         -- optional\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u521B\u5EFA\u963F\u91CC\u4E91-oss-storage-vault",children:"2. \u521B\u5EFA\u963F\u91CC\u4E91 OSS storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS oss_demo_vault\nPROPERTIES (\n    "type" = "S3",                                       -- required\n    "s3.endpoint" = "oss-cn-beijing.aliyuncs.com",       -- required\n    "s3.access_key" = "xxxxxx",                          -- required,  Your OSS access key\n    "s3.secret_key" = "xxxxxx",                          -- required,  Your OSS secret key\n    "s3.region" = "cn-beijing",                          -- required\n    "s3.root.path" = "oss_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                              -- required,  Your OSS bucket name\n    "provider" = "OSS",                                  -- required\n    "use_path_style" = "false"                           -- optional,  OSS \u5EFA\u8BAE\u8BBE\u7F6E false\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u521B\u5EFA\u817E\u8BAF\u4E91-cos-storage-vault",children:"3. \u521B\u5EFA\u817E\u8BAF\u4E91 COS storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS cos_demo_vault\nPROPERTIES (\n    "type" = "S3",\n    "s3.endpoint" = "cos.ap-guangzhou.myqcloud.com",     -- required\n    "s3.access_key" = "xxxxxx",                          -- required,  Your COS access key\n    "s3.secret_key" = "xxxxxx",                          -- required,  Your COS secret key\n    "s3.region" = "ap-guangzhou",                        -- required\n    "s3.root.path" = "cos_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                              -- required,  Your COS bucket name\n    "provider" = "COS",                                  -- required\n    "use_path_style" = "false"                           -- optional,  COS \u5EFA\u8BAE\u8BBE\u7F6E false\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-\u521B\u5EFA\u534E\u4E3A\u4E91-obs-storage-vault",children:"4. \u521B\u5EFA\u534E\u4E3A\u4E91 OBS storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS obs_demo_vault\nPROPERTIES (\n    "type" = "S3",                                       -- required\n    "s3.endpoint" = "obs.cn-north-4.myhuaweicloud.com",  -- required\n    "s3.access_key" = "xxxxxx",                          -- required,  Your OBS access key\n    "s3.secret_key" = "xxxxxx",                          -- required,  Your OBS secret key\n    "s3.region" = "cn-north-4",                          -- required\n    "s3.root.path" = "obs_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                              -- required,  Your OBS bucket name\n    "provider" = "OBS",                                  -- required\n    "use_path_style" = "false"                           -- optional,  OBS \u5EFA\u8BAE\u8BBE\u7F6E false\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-\u521B\u5EFA\u767E\u5EA6\u4E91-bos-storage-vault",children:"5. \u521B\u5EFA\u767E\u5EA6\u4E91 BOS storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS bos_demo_vault\nPROPERTIES (\n    "type" = "S3",                                       -- required\n    "s3.endpoint" = "s3.bj.bcebos.com",                  -- required\n    "s3.access_key" = "xxxxxx",                          -- required,  Your BOS access key\n    "s3.secret_key" = "xxxxxx",                          -- required,  Your BOS secret key\n    "s3.region" = "bj",                                  -- required\n    "s3.root.path" = "bos_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                              -- required,  Your BOS bucket name\n    "provider" = "BOS",                                  -- required\n    "use_path_style" = "false"                           -- optional,  BOS \u5EFA\u8BAE\u8BBE\u7F6E false\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"6-\u521B\u5EFA\u4E9A\u9A6C\u900A\u4E91-s3-storage-vault",children:"6. \u521B\u5EFA\u4E9A\u9A6C\u900A\u4E91 S3 storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS s3_demo_vault\nPROPERTIES (\n    "type" = "S3",                                      -- required\n    "s3.endpoint" = "s3.us-east-1.amazonaws.com",       -- required\n    "s3.access_key" = "xxxxxx",                         -- required,  Your S3 access key\n    "s3.secret_key" = "xxxxxx",                         -- required,  Your S3 secret key\n    "s3.region" = "us-east-1",                          -- required\n    "s3.root.path" = "s3_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                             -- required,  Your S3 bucket name\n    "provider" = "S3",                                  -- required\n    "use_path_style" = "false"                          -- optional,  S3 \u5EFA\u8BAE\u8BBE\u7F6E false\n);\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6CE8\u610F: "})}),"\n",(0,r.jsxs)(n.p,{children:["Doris\u4E5F\u652F\u6301",(0,r.jsx)(n.code,{children:"AWS Assume Role"}),"\u7684\u65B9\u5F0F\u521B\u5EFAStorage Vault(\u4EC5\u9650\u4E8EAWS S3)\uFF0C\u914D\u7F6E\u65B9\u5F0F\u8BF7\u53C2\u8003",(0,r.jsx)(n.a,{href:"../../../../admin-manual/auth/integrations/aws-authentication-and-authorization#assumed-role-authentication",children:"AWS\u96C6\u6210"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"7-\u521B\u5EFA-minio-storage-vault",children:"7. \u521B\u5EFA MinIO storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:' CREATE STORAGE VAULT IF NOT EXISTS minio_demo_vault\n PROPERTIES (\n     "type" = "S3",                                     -- required\n     "s3.endpoint" = "127.0.0.1:9000",                  -- required\n     "s3.access_key" = "xxxxxx",                        -- required,  Your minio access key\n     "s3.secret_key" = "xxxxxx",                        -- required,  Your minio secret key\n     "s3.region" = "us-east-1",                         -- required\n     "s3.root.path" = "minio_demo_vault_prefix",        -- required\n     "s3.bucket" = "xxxxxx",                            -- required,  Your minio bucket name\n     "provider" = "S3",                                 -- required\n     "use_path_style" = "true"                          -- required,  minio \u5EFA\u8BAE\u8BBE\u7F6E true\n );\n'})}),"\n",(0,r.jsx)(n.h3,{id:"8-\u521B\u5EFA\u5FAE\u8F6F-azure-storage-vault",children:"8. \u521B\u5EFA\u5FAE\u8F6F AZURE storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS azure_demo_vault\nPROPERTIES (\n    "type" = "S3",                                       -- required\n    "s3.endpoint" = "blob.core.windows.net",             -- required\n    "s3.access_key" = "xxxxxx",                          -- required,  Your Azure AccountName\n    "s3.secret_key" = "xxxxxx",                          -- required,  Your Azure AccountKey\n    "s3.region" = "us-east-1",                           -- required\n    "s3.root.path" = "azure_demo_vault_prefix",          -- required\n    "s3.bucket" = "xxxxxx",                              -- required,  Your Azure StorageAccount\n    "provider" = "AZURE"                                 -- required\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"9-\u521B\u5EFA\u8C37\u6B4C-gcp-storage-vault",children:"9. \u521B\u5EFA\u8C37\u6B4C GCP storage vault\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'CREATE STORAGE VAULT IF NOT EXISTS gcp_demo_vault\nPROPERTIES (\n    "type" = "S3",                                       -- required\n    "s3.endpoint" = "storage.googleapis.com",            -- required\n    "s3.access_key" = "xxxxxx",                          -- required\n    "s3.secret_key" = "xxxxxx",                          -- required\n    "s3.region" = "us-east-1",                           -- required\n    "s3.root.path" = "gcp_demo_vault_prefix",            -- required\n    "s3.bucket" = "xxxxxx",                              -- required\n    "provider" = "GCP"                                   -- required\n);\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6CE8\u610F"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://cloud.google.com/storage/docs/authentication/hmackeys",children:"s3.access_key\u5BF9\u5E94GCP HMAC key\u7684Access ID"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://cloud.google.com/storage/docs/authentication/hmackeys",children:"s3.secret_key\u5BF9\u5E94GCP HMAC key\u7684Secret"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5173\u952E\u8BCD",children:"\u5173\u952E\u8BCD"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CREATE, STORAGE VAULT\n"})})]})}function x(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return i}});var s=t(667294);let r={},l=s.createContext(r);function i(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);