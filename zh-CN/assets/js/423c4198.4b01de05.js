"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["363859"],{816089:function(n,e,s){s.r(e),s.d(e,{default:()=>h,frontMatter:()=>c,metadata:()=>r,assets:()=>l,toc:()=>t,contentTitle:()=>o});var r=JSON.parse('{"id":"admin-manual/open-api/fe-http/node-action","title":"Node Action","description":"Request","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/admin-manual/open-api/fe-http/node-action.md","sourceDirName":"admin-manual/open-api/fe-http","slug":"/admin-manual/open-api/fe-http/node-action","permalink":"/zh-CN/docs/dev/admin-manual/open-api/fe-http/node-action","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Node Action","language":"zh-CN"},"sidebar":"docs","previous":{"title":"Cluster Action","permalink":"/zh-CN/docs/dev/admin-manual/open-api/fe-http/cluster-action"},"next":{"title":"Query Profile Action","permalink":"/zh-CN/docs/dev/admin-manual/open-api/fe-http/query-profile-action"}}'),d=s("785893"),i=s("250065");let c={title:"Node Action",language:"zh-CN"},o=void 0,l={},t=[{value:"Request",id:"request",level:2},{value:"\u83B7\u53D6 fe, be, broker \u8282\u70B9\u4FE1\u606F",id:"\u83B7\u53D6-fe-be-broker-\u8282\u70B9\u4FE1\u606F",level:2},{value:"Description",id:"description",level:3},{value:"Response",id:"response",level:3},{value:"\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u4FE1\u606F",id:"\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u4FE1\u606F",level:2},{value:"Description",id:"description-1",level:3},{value:"Query parameters",id:"query-parameters",level:3},{value:"Request body",id:"request-body",level:3},{value:"Response",id:"response-1",level:3},{value:"Examples",id:"examples",level:3},{value:"\u4FEE\u6539\u914D\u7F6E\u503C",id:"\u4FEE\u6539\u914D\u7F6E\u503C",level:2},{value:"Description",id:"description-2",level:3},{value:"Request body",id:"request-body-1",level:3},{value:"Response",id:"response-2",level:3},{value:"Examples",id:"examples-1",level:3},{value:"\u64CD\u4F5C be \u8282\u70B9",id:"\u64CD\u4F5C-be-\u8282\u70B9",level:2},{value:"Description",id:"description-3",level:3},{value:"Request body",id:"request-body-2",level:3},{value:"Response",id:"response-3",level:3},{value:"Examples",id:"examples-2",level:3},{value:"\u64CD\u4F5C fe \u8282\u70B9",id:"\u64CD\u4F5C-fe-\u8282\u70B9",level:2},{value:"Description",id:"description-4",level:3},{value:"Request body",id:"request-body-3",level:3},{value:"Response",id:"response-4",level:3},{value:"Examples",id:"examples-3",level:3},{value:"\u64CD\u4F5C broker \u8282\u70B9",id:"\u64CD\u4F5C-broker-\u8282\u70B9",level:2},{value:"Description",id:"description-5",level:3},{value:"Request body",id:"request-body-4",level:3},{value:"Response",id:"response-5",level:3},{value:"Examples",id:"examples-4",level:3}];function a(n){let e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.h2,{id:"request",children:"Request"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/frontends"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/backends"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/brokers"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/set_config/be"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/be"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/fe"})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/broker"})," (3.0.7+)"]}),"\n",(0,d.jsx)(e.h2,{id:"\u83B7\u53D6-fe-be-broker-\u8282\u70B9\u4FE1\u606F",children:"\u83B7\u53D6 fe, be, broker \u8282\u70B9\u4FE1\u606F"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/frontends"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/backends"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/brokers"})}),"\n",(0,d.jsx)(e.h3,{id:"description",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"\u7528\u4E8E\u83B7\u53D6\u96C6\u7FA4\u83B7\u53D6 fe, be, broker \u8282\u70B9\u4FE1\u606F\u3002"}),"\n",(0,d.jsx)(e.h3,{id:"response",children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'frontends:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "Name",\n            "IP",\n            "HostName",\n            "EditLogPort",\n            "HttpPort",\n            "QueryPort",\n            "RpcPort",\n            "ArrowFlightSqlPort",\n            "Role",\n            "IsMaster",\n            "ClusterId",\n            "Join",\n            "Alive",\n            "ReplayedJournalId",\n            "LastHeartbeat",\n            "IsHelper",\n            "ErrMsg",\n            "Version"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'backends:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "BackendId",\n            "Cluster",\n            "IP",\n            "HostName",\n            "HeartbeatPort",\n            "BePort",\n            "HttpPort",\n            "BrpcPort",\n            "LastStartTime",\n            "LastHeartbeat",\n            "Alive",\n            "SystemDecommissioned",\n            "ClusterDecommissioned",\n            "TabletNum",\n            "DataUsedCapacity",\n            "AvailCapacity",\n            "TotalCapacity",\n            "UsedPct",\n            "MaxDiskUsedPct",\n            "ErrMsg",\n            "Version",\n            "Status"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'brokers:\n{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "Name",\n            "IP",\n            "HostName",\n            "Port",\n            "Alive",\n            "LastStartTime",\n            "LastUpdateTime",\n            "ErrMsg"\n        ],\n        "rows": [\n            [\n                ...\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u4FE1\u606F",children:"\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u4FE1\u606F"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(e.h3,{id:"description-1",children:"Description"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"configuration_name"})," \u7528\u4E8E\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u9879\u540D\u79F0\u3002"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"node_list"})," \u7528\u4E8E\u83B7\u53D6\u8282\u70B9\u5217\u8868\u3002"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"configuration_info"})," \u7528\u4E8E\u83B7\u53D6\u8282\u70B9\u914D\u7F6E\u8BE6\u7EC6\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"query-parameters",children:"Query parameters"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.p,{children:"\u65E0"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(e.p,{children:"\u65E0"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"type"}),"\n",(0,d.jsx)(e.p,{children:"\u503C\u4E3A fe \u6216 be\uFF0C\u7528\u4E8E\u6307\u5B9A\u83B7\u53D6 fe \u7684\u914D\u7F6E\u4FE1\u606F\u6216 be \u7684\u914D\u7F6E\u4FE1\u606F\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"request-body",children:"Request body"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.p,{children:"\u65E0"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(e.p,{children:"\u65E0"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n	"conf_name": [\n		""\n	],\n	"node": [\n		""\n	]\n}\n\n\u82E5\u4E0D\u5E26body\uFF0Cbody\u4E2D\u7684\u53C2\u6570\u90FD\u4F7F\u7528\u9ED8\u8BA4\u503C\u3002  \n\nconf_name \u7528\u4E8E\u6307\u5B9A\u8FD4\u56DE\u54EA\u4E9B\u914D\u7F6E\u9879\u7684\u4FE1\u606F\uFF0C \u9ED8\u8BA4\u8FD4\u56DE\u6240\u6709\u914D\u7F6E\u9879\u4FE1\u606F\uFF1B\n\nnode \u7528\u4E8E\u6307\u5B9A\u8FD4\u56DE\u54EA\u4E9B\u8282\u70B9\u7684\u914D\u7F6E\u9879\u4FE1\u606F\uFF0C\u9ED8\u8BA4\u4E3A\u5168\u90E8fe\u8282\u70B9\u6216be\u8282\u70B9\u914D\u7F6E\u9879\u4FE1\u606F\u3002\n'})}),"\n",(0,d.jsx)(e.h3,{id:"response-1",children:"Response"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "backend":[\n            ""\n        ],\n        "frontend":[\n            ""\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/node_list"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "backend": [\n            ""\n        ],\n        "frontend": [\n            ""\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info?type=fe"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "MasterOnly",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                ""\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info?type=be"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                ""\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"examples",children:"Examples"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:["\u83B7\u53D6 fe ",(0,d.jsx)(e.code,{children:"agent_task_resend_wait_time_ms"})," \u914D\u7F6E\u9879\u4FE1\u606F\uFF1A"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/configuration_info?type=fe"})}),"\n",(0,d.jsx)(e.p,{children:"Body:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "conf_name":[\n        "agent_task_resend_wait_time_ms"\n    ]\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "column_names": [\n            "\u914D\u7F6E\u9879",\n            "\u8282\u70B9",\n            "\u8282\u70B9\u7C7B\u578B",\n            "\u914D\u7F6E\u503C\u7C7B\u578B",\n            "MasterOnly",\n            "\u914D\u7F6E\u503C",\n            "\u53EF\u4FEE\u6539"\n        ],\n        "rows": [\n            [\n                "agent_task_resend_wait_time_ms",\n                "127.0.0.1:8030",\n                "FE",\n                "long",\n                "true",\n                "50000",\n                "true"\n            ]\n        ]\n    },\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u4FEE\u6539\u914D\u7F6E\u503C",children:"\u4FEE\u6539\u914D\u7F6E\u503C"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/set_config/be"})}),"\n",(0,d.jsx)(e.h3,{id:"description-2",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"\u7528\u4E8E\u4FEE\u6539 fe \u6216 be \u8282\u70B9\u914D\u7F6E\u503C"}),"\n",(0,d.jsx)(e.h3,{id:"request-body-1",children:"Request body"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n	"config_name":{\n		"node":[\n			""\n		],\n		"value":"",\n		"persist":\n	}\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"config_name"})," \u4E3A\u5BF9\u5E94\u7684\u914D\u7F6E\u9879\uFF1B"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"node"})," \u4E3A\u5173\u952E\u5B57\uFF0C\u8868\u793A\u8981\u4FEE\u6539\u7684\u8282\u70B9\u5217\u8868;"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"value"})," \u4E3A\u914D\u7F6E\u7684\u503C\uFF1B"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"persist"})," \u4E3A true \u8868\u793A\u6C38\u4E45\u4FEE\u6539\uFF0C false \u8868\u793A\u4E34\u65F6\u4FEE\u6539\u3002\u6C38\u4E45\u4FEE\u6539\u91CD\u542F\u540E\u80FD\u751F\u6548\uFF0C \u4E34\u65F6\u4FEE\u6539\u91CD\u542F\u540E\u5931\u6548\u3002"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"response-2",children:"Response"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"GET /rest/v2/manager/node/configuration_name"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n	"msg": "",\n	"code": 0,\n	"data": {\n		"failed":[\n			{\n				"config_name":"name",\n				"value"="",\n				"node":"",\n				"err_info":""\n			}\n		]\n	},\n	"count": 0\n}\n\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"failed"})," \u8868\u793A\u4FEE\u6539\u5931\u8D25\u7684\u914D\u7F6E\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"examples-1",children:"Examples"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsxs)(e.p,{children:["\u4FEE\u6539 fe 127.0.0.1:8030 \u8282\u70B9\u4E2D ",(0,d.jsx)(e.code,{children:"agent_task_resend_wait_time_ms"})," \u548C ",(0,d.jsx)(e.code,{children:"alter_table_timeout_second"})," \u914D\u7F6E\u503C\uFF1A"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/set_config/fe"})}),"\n",(0,d.jsx)(e.p,{children:"Body:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "agent_task_resend_wait_time_ms":{\n        "node":[\n	    	"127.0.0.1:8030"\n	    ],\n	    "value":"10000",\n	    "persist":"true"\n    },\n    "alter_table_timeout_second":{\n        "node":[\n	    	"127.0.0.1:8030"\n	    ],\n	    "value":"true",\n	    "persist":"true"\n    }\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": {\n        "failed": [\n            {\n                "config_name": "alter_table_timeout_second",\n                "node": "10.81.85.89:8837",\n                "err_info": "Unsupported configuration value type.",\n                "value": "true"\n            }\n        ]\n    },\n    "count": 0\n}\n\n'})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.code,{children:"agent_task_resend_wait_time_ms"})," \u914D\u7F6E\u503C\u4FEE\u6539\u6210\u529F\uFF0C",(0,d.jsx)(e.code,{children:"alter_table_timeout_second"})," \u4FEE\u6539\u5931\u8D25\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u64CD\u4F5C-be-\u8282\u70B9",children:"\u64CD\u4F5C be \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/be"})}),"\n",(0,d.jsx)(e.h3,{id:"description-3",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"\u7528\u4E8E\u6DFB\u52A0/\u5220\u9664/\u4E0B\u7EBF be \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:"action\uFF1AADD/DROP/DECOMMISSION"}),"\n",(0,d.jsx)(e.h3,{id:"request-body-2",children:"Request body"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"],\n    "properties": {\n        "tag.location": "test"\n    }\n}\n'})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"hostPorts"})," \u9700\u8981\u64CD\u4F5C\u7684\u4E00\u7EC4 be \u8282\u70B9\u5730\u5740 ",(0,d.jsx)(e.code,{children:"ip:heartbeat_port"})]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"properties"})," \u6DFB\u52A0\u8282\u70B9\u65F6\u4F20\u5165\u7684\u914D\u7F6E\uFF0C\u76EE\u524D\u53EA\u7528\u4E8E\u914D\u7F6E tag, \u4E0D\u4F20\u4F7F\u7528\u9ED8\u8BA4 tag"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"response-3",children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = Same backend already exists[127.0.0.1:9050]",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"examples-2",children:"Examples"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u6DFB\u52A0 be \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/ADD/be"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5220\u9664 be \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/DROP/be"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u4E0B\u7EBF be \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/DECOMMISSION/be"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "hostPorts": ["127.0.0.1:9050"]\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u64CD\u4F5C-fe-\u8282\u70B9",children:"\u64CD\u4F5C fe \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/fe"})}),"\n",(0,d.jsx)(e.h3,{id:"description-4",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"\u7528\u4E8E\u6DFB\u52A0/\u5220\u9664 fe \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:"action\uFF1AADD/DROP"}),"\n",(0,d.jsx)(e.h3,{id:"request-body-3",children:"Request body"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n\nrole FOLLOWER/OBSERVER\nhostPort \u9700\u8981\u64CD\u4F5C\u7684 fe \u8282\u70B9\u5730\u5740 ip:edit_log_port\n'})}),"\n",(0,d.jsx)(e.h3,{id:"response-4",children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = frontend already exists name: 127.0.0.1:9030_1670495889415, role: FOLLOWER, 127.0.0.1:9030",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"examples-3",children:"Examples"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u6DFB\u52A0 FOLLOWER \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/ADD/fe"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5220\u9664 FOLLOWER \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/DROP/fe"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "role": "FOLLOWER",\n    "hostPort": "127.0.0.1:9030"\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u64CD\u4F5C-broker-\u8282\u70B9",children:"\u64CD\u4F5C broker \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/{action}/broker"})}),"\n",(0,d.jsx)(e.p,{children:"\u81EA 3.0.7 \u652F\u6301\u3002"}),"\n",(0,d.jsx)(e.h3,{id:"description-5",children:"Description"}),"\n",(0,d.jsx)(e.p,{children:"\u7528\u4E8E\u6DFB\u52A0/\u5220\u9664 broker \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:"action\uFF1AADD/DROP/DROP_ALL"}),"\n",(0,d.jsx)(e.h3,{id:"request-body-4",children:"Request body"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "brokerName": "your_broker_name",\n    "hostPortList": "broker_ip:broker_port"\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"response-5",children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "Error",\n    "code": 1,\n    "data": "errCode = 2, detailMessage = xxxx",\n    "count": 0\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"examples-4",children:"Examples"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u6DFB\u52A0 BROKER \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/ADD/broker"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": "127.0.0.1:8001"\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5220\u9664 BROKER \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/DROP/broker"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": "127.0.0.1:8001"\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5220\u9664\u4E00\u7EC4 BROKER \u8282\u70B9"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.code,{children:"POST /rest/v2/manager/node/DROP_ALL/broker"})}),"\n",(0,d.jsx)(e.p,{children:"Request"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "brokerName": "hdfs_broker",\n    "hostPortList": ""\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:"Response"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'{\n    "msg": "success",\n    "code": 0,\n    "data": null,\n    "count": 0\n}\n'})}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return o},a:function(){return c}});var r=s(667294);let d={},i=r.createContext(d);function c(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);