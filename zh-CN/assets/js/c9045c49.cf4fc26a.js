"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["228595"],{877326:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>s,metadata:()=>i,assets:()=>d,toc:()=>c,contentTitle:()=>o});var i=JSON.parse('{"id":"developer-guide/mac-dev/dev-prepare","title":"Doris Mac \u5F00\u53D1\u8C03\u8BD5\u51C6\u5907","description":"\x3c!--","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs-community/current/developer-guide/mac-dev/dev-prepare.md","sourceDirName":"developer-guide/mac-dev","slug":"/developer-guide/mac-dev/dev-prepare","permalink":"/zh-CN/community/developer-guide/mac-dev/dev-prepare","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Doris Mac \u5F00\u53D1\u8C03\u8BD5\u51C6\u5907","language":"zh-CN"},"sidebar":"community","previous":{"title":"Doris BE \u5F00\u53D1\u8C03\u8BD5\u73AF\u5883 -- clion","permalink":"/zh-CN/community/developer-guide/be-clion-dev"},"next":{"title":"Doris BE Mac \u5F00\u53D1\u73AF\u5883\u642D\u5EFA - CLion","permalink":"/zh-CN/community/developer-guide/mac-dev/be-clion-dev"}}'),l=r("785893"),t=r("250065");let s={title:"Doris Mac \u5F00\u53D1\u8C03\u8BD5\u51C6\u5907",language:"zh-CN"},o=void 0,d={},c=[{value:"\u5B89\u88C5\u73AF\u5883\u4F9D\u8D56",id:"\u5B89\u88C5\u73AF\u5883\u4F9D\u8D56",level:2},{value:"\u5B89\u88C5 thrift",id:"\u5B89\u88C5-thrift",level:2},{value:"\u62C9\u53D6\u81EA\u5DF1\u7684\u4EE3\u7801",id:"\u62C9\u53D6\u81EA\u5DF1\u7684\u4EE3\u7801",level:2},{value:"\u4E0B\u8F7D Doris \u7F16\u8BD1\u4F9D\u8D56",id:"\u4E0B\u8F7D-doris-\u7F16\u8BD1\u4F9D\u8D56",level:2},{value:"\u4FEE\u6539\u7CFB\u7EDF\u6700\u5927\u6587\u4EF6\u53E5\u67C4\u6570",id:"\u4FEE\u6539\u7CFB\u7EDF\u6700\u5927\u6587\u4EF6\u53E5\u67C4\u6570",level:2},{value:"\u7F16\u8BD1 Doris",id:"\u7F16\u8BD1-doris",level:2},{value:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u9AD8\u7248\u672C\u7684 Node.js \u5BFC\u81F4\u7684\u9519\u8BEF",id:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u9AD8\u7248\u672C\u7684-nodejs-\u5BFC\u81F4\u7684\u9519\u8BEF",level:2},{value:"\u914D\u7F6E Debug \u73AF\u5883",id:"\u914D\u7F6E-debug-\u73AF\u5883",level:2},{value:"\u5F00\u59CB\u7528 IDE \u8FDB\u884C Debug",id:"\u5F00\u59CB\u7528-ide-\u8FDB\u884C-debug",level:2}];function a(e){let n={a:"a",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u5B89\u88C5\u73AF\u5883\u4F9D\u8D56",children:"\u5B89\u88C5\u73AF\u5883\u4F9D\u8D56"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"brew install automake autoconf libtool pkg-config texinfo coreutils gnu-getopt \\\npython@3 cmake ninja ccache bison byacc gettext wget pcre maven llvm@20 openjdk@17 npm\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.em,{children:"\u4F7F\u7528 brew \u5B89\u88C5\u7684 jdk \u7248\u672C\u4E3A 17\uFF0C\u56E0\u4E3A\u5728 macOS \u4E0A\uFF0Carm64 \u7248\u672C\u7684 brew \u9ED8\u8BA4\u6CA1\u6709 8 \u7248\u672C\u7684 jdk"}),"\n",(0,l.jsx)(n.em,{children:"Doris \u76EE\u524D\u53EA\u652F\u6301 jdk8 \u548C jdk17 \u4E24\u4E2A\u7248\u672C"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u4F9D\u8D56\u8BF4\u660E\uFF1A"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Java\u3001Maven \u7B49\u53EF\u4EE5\u5355\u72EC\u4E0B\u8F7D\uFF0C\u65B9\u4FBF\u7BA1\u7406\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Mac \u63A8\u8350 ",(0,l.jsx)(n.a,{href:"https://www.azul.com/downloads/?version=java-8-lts&os=macos&package=jdk#zulu",children:"Zulu JDK8"})]}),"\n",(0,l.jsxs)(n.li,{children:["Maven \u4ECE ",(0,l.jsx)(n.a,{href:"https://maven.apache.org/download.cgi",children:"Maven \u5B98\u7F51\u4E0B\u8F7D"}),"\u5373\u53EF"]}),"\n",(0,l.jsx)(n.li,{children:"\u81EA\u884C\u4E0B\u8F7D\u7684 Java \u4E0E Maven \u9700\u8981\u914D\u7F6E\u73AF\u5883\u53D8\u91CF"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5176\u4ED6\u4F9D\u8D56\u7684\u73AF\u5883\u53D8\u91CF (\u793A\u4F8B\u4E3A Apple Silicon \u82AF\u7247 Mac)\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["llvm: ",(0,l.jsx)(n.code,{children:'export PATH="/opt/homebrew/opt/llvm/bin:$PATH"'})]}),"\n",(0,l.jsxs)(n.li,{children:["bison: ",(0,l.jsx)(n.code,{children:'export PATH = "/opt/homebrew/opt/bison/bin:$PATH'})]}),"\n",(0,l.jsxs)(n.li,{children:["texinfo: ",(0,l.jsx)(n.code,{children:'export PATH = "/opt/homebrew/opt/texinfo/bin:$PATH'})]}),"\n",(0,l.jsxs)(n.li,{children:["python: ",(0,l.jsx)(n.code,{children:"ln -s -f /opt/homebrew/bin/python3 /opt/homebrew/bin/python"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5B89\u88C5-thrift",children:"\u5B89\u88C5 thrift"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6CE8\u610F\uFF1A"})," \u4EC5\u5728\u53EA\u8C03\u8BD5 FE \u7684\u60C5\u51B5\u4E0B\u9700\u8981\u5B89\u88C5 thrift\uFF0C\u540C\u65F6\u8C03\u8BD5 BE \u548C FE \u65F6\uFF0CBE \u7684\u4E09\u65B9\u5E93\u5305\u542B thrift"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"MacOS: \n    1. \u4E0B\u8F7D\uFF1A`brew install thrift@0.16.0`\n    2. \u5EFA\u7ACB\u8F6F\u94FE\u63A5\uFF1A \n        `mkdir -p ./thirdparty/installed/bin`\n        # Apple Silicon \u82AF\u7247 macOS\n        `ln -s /opt/homebrew/Cellar/thrift@0.16.0/0.16.0/bin/thrift ./thirdparty/installed/bin/thrift`\n        # Intel \u82AF\u7247 macOS\n        `ln -s /usr/local/Cellar/thrift@0.16.0/0.16.0/bin/thrift ./thirdparty/installed/bin/thrift`\n\n\u6CE8\uFF1AmacOS \u6267\u884C `brew install thrift@0.16.0` \u53EF\u80FD\u4F1A\u62A5\u627E\u4E0D\u5230\u7248\u672C\u7684\u9519\u8BEF\uFF0C\u89E3\u51B3\u65B9\u6CD5\u5982\u4E0B\uFF0C\u5728\u7EC8\u7AEF\u6267\u884C\uFF1A\n    1. `brew tap homebrew/core --force`\n    2. `brew tap-new $USER/local-tap`\n    3. `brew extract --version='0.16.0' thrift $USER/local-tap`\n    4. `brew install thrift@0.16.0`\n\u53C2\u8003\u94FE\u63A5: `https://gist.github.com/tonydeng/02e571f273d6cce4230dc8d5f394493c`\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u62C9\u53D6\u81EA\u5DF1\u7684\u4EE3\u7801",children:"\u62C9\u53D6\u81EA\u5DF1\u7684\u4EE3\u7801"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u62C9\u53D6\u4EE3\u7801"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"cd ~\nmkdir DorisDev\ncd DorisDev\ngit clone https://github.com/GitHubID/doris.git\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"export DORIS_HOME=~/DorisDev/doris\nexport PATH=$DORIS_HOME/bin:$PATH\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4E0B\u8F7D-doris-\u7F16\u8BD1\u4F9D\u8D56",children:"\u4E0B\u8F7D Doris \u7F16\u8BD1\u4F9D\u8D56"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/apache/doris-thirdparty/releases/tag/automation",children:"Apache Doris Third Party Prebuilt"}),"\u9875\u9762\u6709\u6240\u6709\u7B2C\u4E09\u65B9\u5E93\u7684\u6E90\u7801\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4E0B\u8F7D",(0,l.jsx)(n.a,{href:"https://github.com/apache/doris-thirdparty/releases/download/automation/doris-thirdparty-source.tgz",children:"doris-thirdparty-source.tgz"}),"\u83B7\u5F97\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u53EF\u4EE5\u5728",(0,l.jsx)(n.a,{href:"https://github.com/apache/doris-thirdparty/releases/tag/automation",children:"Apache Doris Third Party Prebuilt"}),"\u9875\u9762\u76F4\u63A5\u4E0B\u8F7D\u9884\u7F16\u8BD1\u597D\u7684\u7B2C\u4E09\u65B9\u5E93\uFF0C\u7701\u53BB\u7F16\u8BD1\u7B2C\u4E09\u65B9\u5E93\u7684\u8FC7\u7A0B\uFF0C\u53C2\u8003\u4E0B\u9762\u7684\u547D\u4EE4\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"cd thirdparty\nrm -rf installed\n\n# Intel \u82AF\u7247\ncurl -L https://github.com/apache/doris-thirdparty/releases/download/automation/doris-thirdparty-prebuilt-darwin-x86_64.tar.xz \\\n    -o - | tar -Jxf -\n\n# Apple Silicon \u82AF\u7247\ncurl -L https://github.com/apache/doris-thirdparty/releases/download/automation/doris-thirdparty-prebuilt-darwin-arm64.tar.xz \\\n    -o - | tar -Jxf -\n\n# \u4FDD\u8BC1 protoc \u548C thrift \u80FD\u591F\u6B63\u5E38\u8FD0\u884C\ncd installed/bin\n\n./protoc --version\n./thrift --version\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u8FD0\u884C",(0,l.jsx)(n.code,{children:"protoc"}),"\u548C",(0,l.jsx)(n.code,{children:"thrift"}),"\u7684\u65F6\u5019\u53EF\u80FD\u4F1A\u9047\u5230",(0,l.jsx)(n.strong,{children:"\u65E0\u6CD5\u6253\u5F00\uFF0C\u56E0\u4E3A\u65E0\u6CD5\u9A8C\u8BC1\u5F00\u53D1\u8005"}),"\u7684\u95EE\u9898\uFF0C\u53EF\u4EE5\u5230\u524D\u5F80",(0,l.jsx)(n.code,{children:"\u5B89\u5168\u6027\u4E0E\u9690\u79C1"}),"\u3002\u70B9\u6309",(0,l.jsx)(n.code,{children:"\u901A\u7528"}),"\u9762\u677F\u4E2D\u7684",(0,l.jsx)(n.code,{children:"\u4ECD\u8981\u6253\u5F00"}),"\u6309\u94AE\uFF0C\u4EE5\u786E\u8BA4\u6253\u7B97\u6253\u5F00\u8BE5\u4E8C\u8FDB\u5236\u3002\u53C2\u8003",(0,l.jsx)(n.a,{href:"https://support.apple.com/zh-cn/HT202491",children:"https://support.apple.com/zh-cn/HT202491"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4FEE\u6539\u7CFB\u7EDF\u6700\u5927\u6587\u4EF6\u53E5\u67C4\u6570",children:"\u4FEE\u6539\u7CFB\u7EDF\u6700\u5927\u6587\u4EF6\u53E5\u67C4\u6570"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# bash\necho 'ulimit -n 65536' >>~/.bashrc\n    \n# zsh\necho 'ulimit -n 65536' >>~/.zshrc\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u7F16\u8BD1-doris",children:"\u7F16\u8BD1 Doris"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"cd $DORIS_HOME\nsh build.sh\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u9AD8\u7248\u672C\u7684-nodejs-\u5BFC\u81F4\u7684\u9519\u8BEF",children:"\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u9AD8\u7248\u672C\u7684 Node.js \u5BFC\u81F4\u7684\u9519\u8BEF"}),"\n",(0,l.jsxs)(n.p,{children:["opensslErrorStack: ['error:03000086:digital envelope routines::initialization error']\nlibrary: 'digital envelope routines'\nreason: 'unsupported'\ncode: 'ERR_OSSL_EVP_UNSUPPORTED'\n\u4EE5\u4E0B\u547D\u4EE4\u89E3\u51B3\u95EE\u9898\u3002\u53C2\u8003",(0,l.jsx)(n.a,{href:"https://stackoverflow.com/questions/74726224/opensslerrorstack-error03000086digital-envelope-routinesinitialization-e",children:"https://stackoverflow.com/questions/74726224/opensslerrorstack-error03000086digital-envelope-routinesinitialization-e"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"#\u6307\u793ANode.js\u4F7F\u7528\u65E7\u7248\u7684OpenSSL\u63D0\u4F9B\u7A0B\u5E8F\nexport NODE_OPTIONS=--openssl-legacy-provider\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u914D\u7F6E-debug-\u73AF\u5883",children:"\u914D\u7F6E Debug \u73AF\u5883"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# \u5C06\u7F16\u8BD1\u597D\u7684\u5305cp\u51FA\u6765\n    \ncp -r output ../doris-run\n    \n# \u914D\u7F6EFE/BE\u7684conf\n1\u3001IP\u3001\u76EE\u5F55\n2\u3001BE \u989D\u5916\u914D\u7F6E min_file_descriptor_number = 10000\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u5F00\u59CB\u7528-ide-\u8FDB\u884C-debug",children:"\u5F00\u59CB\u7528 IDE \u8FDB\u884C Debug"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"/zh-CN/community/developer-guide/mac-dev/be-clion-dev",children:"CLion Mac \u8C03\u8BD5 BE"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"/zh-CN/community/developer-guide/mac-dev/fe-idea-dev",children:"IntelliJ IDEA Mac \u8C03\u8BD5 FE"})})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return o},a:function(){return s}});var i=r(667294);let l={},t=i.createContext(l);function s(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);