"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["988270"],{476587:function(n,a,r){r.r(a),r.d(a,{default:()=>u,frontMatter:()=>l,metadata:()=>e,assets:()=>t,toc:()=>d,contentTitle:()=>i});var e=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/array-functions/array-concat","title":"ARRAY_CONCAT","description":"\u5C06\u8F93\u5165\u7684\u6240\u6709\u6570\u7EC4\u62FC\u63A5\u4E3A\u4E00\u4E2A\u6570\u7EC4\u3002\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u6216\u66F4\u591A\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u6309\u7167\u53C2\u6570\u987A\u5E8F\u5C06\u5B83\u4EEC\u8FDE\u63A5\u6210\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/sql-manual/sql-functions/scalar-functions/array-functions/array-concat.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/array-functions","slug":"/sql-manual/sql-functions/scalar-functions/array-functions/array-concat","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-concat","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"ARRAY_CONCAT","language":"zh-CN","description":"\u5C06\u8F93\u5165\u7684\u6240\u6709\u6570\u7EC4\u62FC\u63A5\u4E3A\u4E00\u4E2A\u6570\u7EC4\u3002\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u6216\u66F4\u591A\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u6309\u7167\u53C2\u6570\u987A\u5E8F\u5C06\u5B83\u4EEC\u8FDE\u63A5\u6210\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u3002"},"sidebar":"docs","previous":{"title":"ARRAY_COMPACT","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-compact"},"next":{"title":"ARRAY_CONTAINS","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/array-functions/array-contains"}}'),c=r("785893"),s=r("250065");let l={title:"ARRAY_CONCAT",language:"zh-CN",description:"\u5C06\u8F93\u5165\u7684\u6240\u6709\u6570\u7EC4\u62FC\u63A5\u4E3A\u4E00\u4E2A\u6570\u7EC4\u3002\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u6216\u66F4\u591A\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u6309\u7167\u53C2\u6570\u987A\u5E8F\u5C06\u5B83\u4EEC\u8FDE\u63A5\u6210\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u3002"},i=void 0,t={},d=[{value:"array_concat",id:"array_concat",level:2},{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:3},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:3},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:3},{value:"keywords",id:"keywords",level:3}];function o(n){let a={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",version:"version",...(0,s.a)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.h2,{id:"array_concat",children:"array_concat"}),"\n",(0,c.jsx)(a.version,{since:"2.0.0",children:"\n"}),"\n",(0,c.jsx)(a.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,c.jsx)(a.p,{children:"\u5C06\u8F93\u5165\u7684\u6240\u6709\u6570\u7EC4\u62FC\u63A5\u4E3A\u4E00\u4E2A\u6570\u7EC4\u3002\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u6216\u66F4\u591A\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u6309\u7167\u53C2\u6570\u987A\u5E8F\u5C06\u5B83\u4EEC\u8FDE\u63A5\u6210\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u3002"}),"\n",(0,c.jsx)(a.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"array_concat(ARRAY<T> arr1, [ARRAY<T> arr2, ...])\n"})}),"\n",(0,c.jsx)(a.h3,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n",(0,c.jsxs)(a.ul,{children:["\n",(0,c.jsxs)(a.li,{children:[(0,c.jsx)(a.code,{children:"arr1, arr2, ..."}),"\uFF1AARRAY<T> \u7C7B\u578B\uFF0C\u8981\u62FC\u63A5\u7684\u6570\u7EC4\u3002\u652F\u6301\u5217\u540D\u6216\u5E38\u91CF\u503C\u3002"]}),"\n"]}),"\n",(0,c.jsx)(a.p,{children:(0,c.jsx)(a.strong,{children:"T \u652F\u6301\u7684\u7C7B\u578B\uFF1A"})}),"\n",(0,c.jsxs)(a.ul,{children:["\n",(0,c.jsx)(a.li,{children:"\u6570\u503C\u7C7B\u578B\uFF1ATINYINT\u3001SMALLINT\u3001INT\u3001BIGINT\u3001LARGEINT\u3001FLOAT\u3001DOUBLE\u3001DECIMAL"}),"\n",(0,c.jsx)(a.li,{children:"\u5B57\u7B26\u4E32\u7C7B\u578B\uFF1ACHAR\u3001VARCHAR\u3001STRING"}),"\n",(0,c.jsx)(a.li,{children:"\u65E5\u671F\u65F6\u95F4\u7C7B\u578B\uFF1ADATE\u3001DATETIME\u3001DATEV2\u3001DATETIMEV2"}),"\n",(0,c.jsx)(a.li,{children:"\u5E03\u5C14\u7C7B\u578B\uFF1ABOOLEAN"}),"\n",(0,c.jsx)(a.li,{children:"IP \u7C7B\u578B\uFF1AIPV4\u3001IPV6"}),"\n",(0,c.jsx)(a.li,{children:"\u590D\u6742\u6570\u636E\u7C7B\u578B\uFF1AARRAY\u3001MAP\u3001STRUCT"}),"\n"]}),"\n",(0,c.jsx)(a.h3,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,c.jsx)(a.p,{children:"\u8FD4\u56DE\u7C7B\u578B\uFF1AARRAY<T>"}),"\n",(0,c.jsx)(a.p,{children:"\u8FD4\u56DE\u503C\u542B\u4E49\uFF1A"}),"\n",(0,c.jsxs)(a.ul,{children:["\n",(0,c.jsx)(a.li,{children:"\u62FC\u63A5\u540E\u7684\u65B0\u6570\u7EC4\uFF0C\u5305\u542B\u6240\u6709\u8F93\u5165\u6570\u7EC4\u7684\u5143\u7D20\uFF0C\u987A\u5E8F\u4FDD\u6301\u4E0D\u53D8"}),"\n",(0,c.jsx)(a.li,{children:"NULL\uFF1A\u5982\u679C\u4EFB\u4F55\u4E00\u4E2A\u8F93\u5165\u6570\u7EC4\u4E3A NULL"}),"\n"]}),"\n",(0,c.jsx)(a.p,{children:"\u4F7F\u7528\u8BF4\u660E\uFF1A"}),"\n",(0,c.jsxs)(a.ul,{children:["\n",(0,c.jsx)(a.li,{children:"\u7A7A\u6570\u7EC4\u4F1A\u88AB\u5FFD\u7565\uFF0C\u4E0D\u6DFB\u52A0\u4EFB\u4F55\u5143\u7D20"}),"\n",(0,c.jsx)(a.li,{children:"\u53EA\u6709\u4E00\u4E2A\u6570\u7EC4\u4E14\u4E3A\u7A7A\u6570\u7EC4\u65F6\uFF0C\u8FD4\u56DE\u7A7A\u6570\u7EC4\uFF1B\u53EA\u6709\u4E00\u4E2A\u53C2\u6570\u4E14\u4E3A NULL \u65F6\uFF0C\u8FD4\u56DE NULL"}),"\n",(0,c.jsx)(a.li,{children:"\u590D\u6742\u7C7B\u578B\uFF08\u5D4C\u5957\u6570\u7EC4\u3001MAP\u3001STRUCT\uFF09\u62FC\u63A5\u65F6\u8981\u6C42\u7ED3\u6784\u5B8C\u5168\u4E00\u81F4\uFF0C\u5426\u5219\u62A5\u9519"}),"\n",(0,c.jsx)(a.li,{children:"\u5BF9\u6570\u7EC4\u5143\u7D20\u4E2D\u7684 null \u503C\uFF1Anull \u5143\u7D20\u4F1A\u88AB\u6B63\u5E38\u4FDD\u7559\u5728\u62FC\u63A5\u7ED3\u679C\u4E2D"}),"\n"]}),"\n",(0,c.jsx)(a.h3,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"CREATE TABLE array_concat_test (\n    id INT,\n    int_array1 ARRAY<INT>,\n    int_array2 ARRAY<INT>,\n    string_array1 ARRAY<STRING>,\n    string_array2 ARRAY<STRING>\n)\nDUPLICATE KEY(id)\nDISTRIBUTED BY HASH(id) BUCKETS 3\nPROPERTIES (\n    \"replication_num\" = \"1\"\n);\n\nINSERT INTO array_concat_test VALUES\n(1, [1, 2, 3], [4, 5, 6], ['a', 'b'], ['c', 'd']),\n(2, [10, 20], [30, 40], [], ['x', 'y']),\n(3, NULL, [100, 200], NULL, ['z']),\n(4, [], [], [], []),\n(5, [1, null, 3], [null, 5, 6], ['a', null, 'c'], ['d', 'e']);\n"})}),"\n",(0,c.jsx)(a.p,{children:(0,c.jsx)(a.strong,{children:"\u67E5\u8BE2\u793A\u4F8B\uFF1A"})}),"\n",(0,c.jsx)(a.p,{children:"\u591A\u4E2A\u6570\u7EC4\u5B57\u9762\u91CF\u62FC\u63A5\uFF1A"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat([1, 2], [7, 8], [5, 6]);\n+--------------------------------------+\n| array_concat([1, 2], [7, 8], [5, 6]) |\n+--------------------------------------+\n| [1, 2, 7, 8, 5, 6]                   |\n+--------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u5B57\u7B26\u4E32\u6570\u7EC4\u62FC\u63A5\uFF1A"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:'SELECT array_concat(string_array1, string_array2) FROM array_concat_test WHERE id = 1;\n+--------------------------------------------+\n| array_concat(string_array1, string_array2) |\n+--------------------------------------------+\n| ["a", "b", "c", "d"]                       |\n+--------------------------------------------+\n'})}),"\n",(0,c.jsx)(a.p,{children:"\u7A7A\u6570\u7EC4\u62FC\u63A5\uFF1A"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat([], []);\n+----------------------+\n| array_concat([], []) |\n+----------------------+\n| []                   |\n+----------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"NULL \u6570\u7EC4\u62FC\u63A5\uFF1A"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat(int_array1, int_array2) FROM array_concat_test WHERE id = 3;\n+--------------------------------------+\n| array_concat(int_array1, int_array2) |\n+--------------------------------------+\n| NULL                                 |\n+--------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u5305\u542B null \u5143\u7D20\u7684\u6570\u7EC4\u62FC\u63A5\uFF1Anull \u5143\u7D20\u4F1A\u88AB\u6B63\u5E38\u4FDD\u7559\u5728\u62FC\u63A5\u7ED3\u679C\u4E2D\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat(int_array1, int_array2) FROM array_concat_test WHERE id = 5;\n+--------------------------------------+\n| array_concat(int_array1, int_array2) |\n+--------------------------------------+\n| [1, null, 3, null, 5, 6]             |\n+--------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u7C7B\u578B\u517C\u5BB9\u6027\u793A\u4F8B\uFF1Aint_array1 \u548C string_array1 \u62FC\u63A5\uFF0Cstring \u5143\u7D20\u65E0\u6CD5\u8F6C\u6362\u4E3A int\uFF0C\u7ED3\u679C\u4E3A null\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat(int_array1, string_array1) FROM array_concat_test WHERE id = 1;\n+-----------------------------------------+\n| array_concat(int_array1, string_array1) |\n+-----------------------------------------+\n| [1, 2, 3, null, null]                   |\n+-----------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u590D\u6742\u7C7B\u578B\u793A\u4F8B\uFF1A"}),"\n",(0,c.jsx)(a.p,{children:"\u5D4C\u5957\u6570\u7EC4\u62FC\u63A5\uFF0C\u7ED3\u6784\u4E00\u81F4\u65F6\u53EF\u62FC\u63A5\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat([[1,2],[3,4]], [[5,6],[7,8]]);\n+--------------------------------------------+\n| array_concat([[1,2],[3,4]], [[5,6],[7,8]]) |\n+--------------------------------------------+\n| [[1, 2], [3, 4], [5, 6], [7, 8]]           |\n+--------------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u5D4C\u5957\u6570\u7EC4\u7ED3\u6784\u4E0D\u4E00\u81F4\u65F6\uFF0C\u62A5\u9519\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat([[1,2]], [{'k':1}]);\nERROR 1105 (HY000): errCode = 2, detailMessage = can not cast from origin type ARRAY<ARRAY<INT>> to target type=ARRAY<DOUBLE>\n"})}),"\n",(0,c.jsx)(a.p,{children:"map \u7C7B\u578B\u62FC\u63A5\uFF0C\u7ED3\u6784\u4E00\u81F4\u65F6\u53EF\u62FC\u63A5\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat([{'k':1}], [{'k':2}]);\n+------------------------------------+\n| array_concat([{'k':1}], [{'k':2}]) |\n+------------------------------------+\n| [{\"k\":1}, {\"k\":2}]                 |\n+------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"struct \u7C7B\u578B\u62FC\u63A5\uFF0C\u7ED3\u6784\u4E00\u81F4\u65F6\u53EF\u62FC\u63A5\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat(array(named_struct('name','Alice','age',20)), array(named_struct('name','Bob','age',30)));\n+--------------------------------------------------------------------------------------------------------+\n| array_concat(array(named_struct('name','Alice','age',20)), array(named_struct('name','Bob','age',30))) |\n+--------------------------------------------------------------------------------------------------------+\n| [{\"name\":\"Alice\", \"age\":20}, {\"name\":\"Bob\", \"age\":30}]                                                 |\n+--------------------------------------------------------------------------------------------------------+\n"})}),"\n",(0,c.jsx)(a.p,{children:"struct \u7ED3\u6784\u4E0D\u4E00\u81F4\u65F6\uFF0C\u62A5\u9519\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat(array(named_struct('name','Alice','age',20)), array(named_struct('id',1,'score',95.5,'age',10)));\nERROR 1105 (HY000): errCode = 2, detailMessage = can not cast from origin type ARRAY<STRUCT<name:VARCHAR(5),age:TINYINT>> to target type=ARRAY<DOUBLE>\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u53C2\u6570\u6570\u91CF\u9519\u8BEF\u4F1A\u62A5\u9519\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat();\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not found function 'array_concat' which has 0 arity. Candidate functions are: [array_concat(Expression, Expression, ...)]\n"})}),"\n",(0,c.jsx)(a.p,{children:"\u4F20\u5165\u975E\u6570\u7EC4\u7C7B\u578B\u65F6\u4F1A\u62A5\u9519\u3002"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-sql",children:"SELECT array_concat('not_an_array');\nERROR 1105 (HY000): errCode = 2, detailMessage = Can not find the compatibility function signature: array_concat(VARCHAR(12))\n"})}),"\n",(0,c.jsx)(a.h3,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,c.jsx)(a.p,{children:"\u786E\u4FDD\u6240\u6709\u8F93\u5165\u6570\u7EC4\u7684\u5143\u7D20\u7C7B\u578B\u517C\u5BB9,\u7279\u522B\u662F\u5D4C\u5957\u590D\u6742\u7C7B\u578B\u7684\u7ED3\u6784\u6700\u597D\u4E00\u81F4,\u907F\u514D\u5728\u8FD0\u884C\u65F6\u51FA\u73B0\u7C7B\u578B\u8F6C\u6362\u9519\u8BEF"}),"\n",(0,c.jsx)(a.h3,{id:"keywords",children:"keywords"}),"\n",(0,c.jsx)(a.p,{children:"ARRAY, CONCAT, ARRAY_CONCAT"})]})}function u(n={}){let{wrapper:a}={...(0,s.a)(),...n.components};return a?(0,c.jsx)(a,{...n,children:(0,c.jsx)(o,{...n})}):o(n)}},250065:function(n,a,r){r.d(a,{Z:function(){return i},a:function(){return l}});var e=r(667294);let c={},s=e.createContext(c);function l(n){let a=e.useContext(s);return e.useMemo(function(){return"function"==typeof n?n(a):{...a,...n}},[a,n])}function i(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:l(n.components),e.createElement(s.Provider,{value:a},n.children)}}}]);