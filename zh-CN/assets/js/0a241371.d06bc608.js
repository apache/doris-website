"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["29094"],{313770:function(e,n,i){i.r(n),i.d(n,{default:()=>u,frontMatter:()=>o,metadata:()=>d,assets:()=>r,toc:()=>c,contentTitle:()=>t});var d=JSON.parse('{"id":"admin-manual/fe/debug-point-action","title":"\u4EE3\u7801\u6253\u6869","description":"\u4EE3\u7801\u6253\u6869\u662F\u4EE3\u7801\u6D4B\u8BD5\u4F7F\u7528\u7684\u3002\u6FC0\u6D3B\u6728\u6869\u540E\uFF0C\u53EF\u4EE5\u6267\u884C\u6728\u6869\u4EE3\u7801\u3002\u6728\u6869\u7684\u540D\u5B57\u662F\u4EFB\u610F\u53D6\u7684\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-2.0/admin-manual/fe/debug-point-action.md","sourceDirName":"admin-manual/fe","slug":"/admin-manual/fe/debug-point-action","permalink":"/zh-CN/docs/2.0/admin-manual/fe/debug-point-action","draft":false,"unlisted":false,"tags":[],"version":"2.0","frontMatter":{"title":"\u4EE3\u7801\u6253\u6869","language":"zh-CN"},"sidebar":"docs","previous":{"title":"Meta Info Action","permalink":"/zh-CN/docs/2.0/admin-manual/fe/meta-info-action-V2"},"next":{"title":"Statistic Action","permalink":"/zh-CN/docs/2.0/admin-manual/fe/statistic-action"}}'),s=i("785893"),l=i("250065");let o={title:"\u4EE3\u7801\u6253\u6869",language:"zh-CN"},t=void 0,r={},c=[{value:"\u6728\u6869\u4EE3\u7801\u793A\u4F8B",id:"\u6728\u6869\u4EE3\u7801\u793A\u4F8B",level:2},{value:"\u603B\u5F00\u5173",id:"\u603B\u5F00\u5173",level:2},{value:"\u6253\u5F00\u6728\u6869",id:"\u6253\u5F00\u6728\u6869",level:2},{value:"API",id:"api",level:3},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:3},{value:"Request body",id:"request-body",level:3},{value:"Response",id:"response",level:3},{value:"\u4E3E\u4F8Bs",id:"\u4E3E\u4F8Bs",level:2},{value:"\u5173\u95ED\u6728\u6869",id:"\u5173\u95ED\u6728\u6869",level:2},{value:"API",id:"api-1",level:3},{value:"\u53C2\u6570",id:"\u53C2\u6570-1",level:3},{value:"Request body",id:"request-body-1",level:3},{value:"Response",id:"response-1",level:3},{value:"\u4E3E\u4F8Bs",id:"\u4E3E\u4F8Bs-1",level:2},{value:"\u6E05\u9664\u6240\u6709\u6728\u6869",id:"\u6E05\u9664\u6240\u6709\u6728\u6869",level:2},{value:"API",id:"api-2",level:3},{value:"Request body",id:"request-body-2",level:3},{value:"Response",id:"response-2",level:3},{value:"\u4E3E\u4F8Bs",id:"\u4E3E\u4F8Bs-2",level:2}];function a(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u4EE3\u7801\u6253\u6869\u662F\u4EE3\u7801\u6D4B\u8BD5\u4F7F\u7528\u7684\u3002\u6FC0\u6D3B\u6728\u6869\u540E\uFF0C\u53EF\u4EE5\u6267\u884C\u6728\u6869\u4EE3\u7801\u3002\u6728\u6869\u7684\u540D\u5B57\u662F\u4EFB\u610F\u53D6\u7684\u3002"}),"\n",(0,s.jsx)(n.p,{children:"FE \u548C BE \u90FD\u652F\u6301\u4EE3\u7801\u6253\u6869\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u6728\u6869\u4EE3\u7801\u793A\u4F8B",children:"\u6728\u6869\u4EE3\u7801\u793A\u4F8B"}),"\n",(0,s.jsx)(n.p,{children:"FE \u6869\u5B50\u793A\u4F8B\u4EE3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'private Status foo() {  \n	// dbug_fe_foo_do_nothing \u662F\u4E00\u4E2A\u6728\u6869\u540D\u5B57\uFF0C\n	// \u6253\u5F00\u8FD9\u4E2A\u6728\u6869\u4E4B\u540E\uFF0CDebugPointUtil.isEnable("dbug_fe_foo_do_nothing") \u5C06\u4F1A\u8FD4\u56DE true\n	if (DebugPointUtil.isEnable("dbug_fe_foo_do_nothing")) {\n		return Status.Nothing;\n	}\n      	\n     do_foo_action();\n     \n     return Status.Ok;\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"BE \u6869\u5B50\u793A\u4F8B\u4EE3\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c++",children:'void Status foo() {\n\n     // dbug_be_foo_do_nothing \u662F\u4E00\u4E2A\u6728\u6869\u540D\u5B57\uFF0C\n     // \u6253\u5F00\u8FD9\u4E2A\u6728\u6869\u4E4B\u540E\uFF0CDEBUG_EXECUTE_IF \u5C06\u4F1A\u6267\u884C\u5B8F\u53C2\u6570\u4E2D\u7684\u4EE3\u7801\u5757\n     DEBUG_EXECUTE_IF("dbug_be_foo_do_nothing",  { return Status.Nothing; });\n   \n     do_foo_action();\n     \n     return Status.Ok;\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u603B\u5F00\u5173",children:"\u603B\u5F00\u5173"}),"\n",(0,s.jsxs)(n.p,{children:["\u9700\u8981\u628A\u6728\u6869\u603B\u5F00\u5173 ",(0,s.jsx)(n.code,{children:"enable_debug_points"})," \u6253\u5F00\u4E4B\u540E\uFF0C\u624D\u80FD\u6FC0\u6D3B\u6728\u6869\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6728\u6869\u603B\u5F00\u5173\u662F\u5173\u95ED\u7684\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u603B\u5F00\u5173",(0,s.jsx)(n.code,{children:"enable_debug_points"})," \u5206\u522B\u5728 FE \u7684 fe.conf \u548C BE \u7684 be.conf \u4E2D\u914D\u7F6E\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6253\u5F00\u6728\u6869",children:"\u6253\u5F00\u6728\u6869"}),"\n",(0,s.jsx)(n.h3,{id:"api",children:"API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"	POST /api/debug_point/add/{debug_point_name}[?timeout=<int>&execute=<int>]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"debug_point_name"}),"\n\u6728\u6869\u540D\u5B57\u3002\u5FC5\u586B\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"timeout"}),"\n\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u79D2\u3002\u8D85\u65F6\u4E4B\u540E\uFF0C\u6728\u6869\u5931\u6D3B\u3002\u9ED8\u8BA4\u503C -1 \u8868\u793A\u6C38\u8FDC\u4E0D\u8D85\u65F6\u3002\u53EF\u586B\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"execute"}),"\n\u6728\u6869\u6700\u5927\u6FC0\u6D3B\u6B21\u6570\u3002\u9ED8\u8BA4\u503C -1 \u8868\u793A\u4E0D\u9650\u6FC0\u6D3B\u6B21\u6570\u3002\u53EF\u586B\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"request-body",children:"Request body"}),"\n",(0,s.jsx)(n.p,{children:"\u65E0"}),"\n",(0,s.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'```\n{\n    msg: "OK",\n    code: 0\n}\n```\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u4E3E\u4F8Bs",children:"\u4E3E\u4F8Bs"}),"\n",(0,s.jsxs)(n.p,{children:["\u6253\u5F00\u6728\u6869 ",(0,s.jsx)(n.code,{children:"foo"}),"\uFF0C\u6700\u591A\u6FC0\u6D3B 5 \u6B21\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'```\ncurl -X POST "http://127.0.0.1:8030/api/debug_point/add/foo?execute=5"\n\n```\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5173\u95ED\u6728\u6869",children:"\u5173\u95ED\u6728\u6869"}),"\n",(0,s.jsx)(n.h3,{id:"api-1",children:"API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"	POST /api/debug_point/remove/{debug_point_name}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u53C2\u6570-1",children:"\u53C2\u6570"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"debug_point_name"}),"\n\u6728\u6869\u540D\u5B57\u3002\u5FC5\u586B\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"request-body-1",children:"Request body"}),"\n",(0,s.jsx)(n.p,{children:"\u65E0"}),"\n",(0,s.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'    {\n        msg: "OK",\n        code: 0\n    }\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u4E3E\u4F8Bs-1",children:"\u4E3E\u4F8Bs"}),"\n",(0,s.jsxs)(n.p,{children:["\u5173\u95ED\u6728\u6869",(0,s.jsx)(n.code,{children:"foo"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'```\ncurl -X POST "http://127.0.0.1:8030/api/debug_point/remove/foo"\n\n```\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u6E05\u9664\u6240\u6709\u6728\u6869",children:"\u6E05\u9664\u6240\u6709\u6728\u6869"}),"\n",(0,s.jsx)(n.h3,{id:"api-2",children:"API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"	POST /api/debug_point/clear\n"})}),"\n",(0,s.jsx)(n.h3,{id:"request-body-2",children:"Request body"}),"\n",(0,s.jsx)(n.p,{children:"\u65E0"}),"\n",(0,s.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'```\n{\n    msg: "OK",\n    code: 0\n}\n```\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u4E3E\u4F8Bs-2",children:"\u4E3E\u4F8Bs"}),"\n",(0,s.jsx)(n.p,{children:"\u6E05\u9664\u6240\u6709\u6728\u6869\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'```\ncurl -X POST "http://127.0.0.1:8030/api/debug_point/clear"\n```\n'})})]})}function u(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},250065:function(e,n,i){i.d(n,{Z:function(){return t},a:function(){return o}});var d=i(667294);let s={},l=d.createContext(s);function o(e){let n=d.useContext(l);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);