"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["541485"],{386753:function(n,e,l){l.r(e),l.d(e,{default:()=>t,frontMatter:()=>i,metadata:()=>s,assets:()=>o,toc:()=>d,contentTitle:()=>r});var s=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/json-functions/json-search","title":"JSON_SEARCH","description":"\u63CF\u8FF0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/sql-manual/sql-functions/scalar-functions/json-functions/json-search.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/json-functions","slug":"/sql-manual/sql-functions/scalar-functions/json-functions/json-search","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/json-functions/json-search","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"JSON_SEARCH","language":"zh-CN"},"sidebar":"docs","previous":{"title":"JSON_REMOVE","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/json-functions/json-remove"},"next":{"title":"JSON_SET","permalink":"/zh-CN/docs/dev/sql-manual/sql-functions/scalar-functions/json-functions/json-set"}}'),a=l("785893"),c=l("250065");let i={title:"JSON_SEARCH",language:"zh-CN"},r=void 0,o={},d=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u5FC5\u9009\u53C2\u6570",id:"\u5FC5\u9009\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2}];function h(n){let e={blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"JSON_SEARCH"})," \u51FD\u6570\u7528\u4E8E\u5728 JSON \u6587\u6863\u4E2D\u67E5\u627E\u6307\u5B9A\u7684\u503C\u3002\u5982\u679C\u627E\u5230\u8BE5\u503C\uFF0C\u5219\u8FD4\u56DE\u503C\u7684\u8DEF\u5F84\u3002\u5982\u679C\u6CA1\u6709\u627E\u5230\u8BE5\u503C\uFF0C\u5219\u8FD4\u56DE NULL\u3002\u8BE5\u51FD\u6570\u53EF\u4EE5\u5728 JSON \u6570\u636E\u7ED3\u6784\u4E2D\u9012\u5F52\u67E5\u627E\u3002"]}),"\n",(0,a.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"JSON_SEARCH( <json_object>, <one_or_all>, <search_value> )\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u5FC5\u9009\u53C2\u6570",children:"\u5FC5\u9009\u53C2\u6570"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"<json_object>"}),": JSON \u7C7B\u578B\uFF0C\u9700\u8981\u641C\u7D22\u7684 JSON \u6587\u6863\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"<one_or_all>"}),": String \u7C7B\u578B\uFF0C\u6307\u5B9A\u662F\u5426\u67E5\u627E\u6240\u6709\u5339\u914D\u7684\u503C\u3002\u53EF\u4EE5\u53D6\u503C 'one' \u6216 'all'\u3002"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"<search_value>"}),": String \u7C7B\u578B\uFF0C\u9700\u8981\u67E5\u627E\u7684\u503C\uFF0C\u641C\u7D22\u76EE\u6807\u3002\u652F\u6301 '%'\uFF08\u5339\u914D\u4EFB\u610F\u4E2A\u6570\u7684\u4EFB\u610F\u5B57\u7B26\uFF09\u548C '_'(\u5339\u914D\u4EFB\u610F\u5355\u4E2A\u5B57\u7B26) \u4F5C\u4E3A\u901A\u914D\u7B26\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"Nullable(JSON)"}),"\uFF1A \u6839\u636E\u53C2\u6570 ",(0,a.jsx)(e.code,{children:"<one_or_all>"})," \u4E0D\u540C\u6709\u4E24\u79CD\u60C5\u51B5\uFF1A"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"1. 'one' \u5982\u679C\u627E\u5230\u5339\u914D\u7684\u503C\uFF0C\u8FD4\u56DE\u4E00\u4E2A JSON \u8DEF\u5F84\uFF0C\u6307\u5411\u5339\u914D\u7684\u503C\u3002 \u5982\u679C\u6CA1\u6709\u627E\u5230\u5339\u914D\u7684\u503C\uFF0C\u8FD4\u56DE NULL\u3002\n2. 'all' \u8FD4\u56DE\u6240\u6709\u5339\u914D\u503C\u7684\u8DEF\u5F84\uFF0C\u5982\u679C\u6709\u591A\u4E2A\u503C\uFF0C\u4EE5 JSON \u6570\u7EC4\u7684\u5F62\u5F0F\u8FD4\u56DE\uFF0C\u5982\u679C\u6CA1\u6709\u5339\u914D\u8FD4\u56DE NULL\u3002\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"one_or_all"})," \u53C2\u6570\u51B3\u5B9A\u4E86\u662F\u5426\u67E5\u627E\u6240\u6709\u5339\u914D\u7684\u503C\u3002'one' \u4F1A\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u5339\u914D\u7684\u8DEF\u5F84\uFF0C'all' \u4F1A\u8FD4\u56DE\u6240\u6709\u5339\u914D\u7684\u8DEF\u5F84\u3002 \u5982\u679C\u662F\u5176\u4ED6\u503C\uFF0C\u4F1A\u5F97\u5230\u62A5\u9519\u3002"]}),"\n",(0,a.jsx)(e.li,{children:"\u5982\u679C\u6CA1\u6709\u627E\u5230\u5339\u914D\u503C\uFF0C\u51FD\u6570\u4F1A\u8FD4\u56DE NULL\u3002"}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"<json_object>"}),", ",(0,a.jsx)(e.code,{children:"<one_or_all>"}),", ",(0,a.jsx)(e.code,{children:"<search_value>"})," \u4EFB\u610F\u4E00\u4E2A\u4E3A NULL \u65F6\u8FD4\u56DE NULL."]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u67E5\u627E\u4E00\u4E2A\u503C\uFF08one\uFF09"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'John');\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30}\', \'one\', \'John\') |\n+-----------------------------------------------------------+\n| "$.name"                                                  |\n+-----------------------------------------------------------+\n\n'})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u67E5\u627E\u4E00\u4E2A\u503C\uFF08one\uFF09\uFF0C\u5373\u4F7F\u6709\u591A\u4E2A\u5339\u914D\u4E5F\u53EA\u8FD4\u56DE\u4E00\u4E2A\u8DEF\u5F84"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'one\', \'John\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+----------------------------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'one\', \'John\') |\n+----------------------------------------------------------------------------+\n| "$.name"                                                                   |\n+----------------------------------------------------------------------------+\n'})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u67E5\u627E\u6240\u6709\u5339\u914D\u7684\u503C\uFF08all\uFF09"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'all\', \'John\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+----------------------------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'all\', \'John\') |\n+----------------------------------------------------------------------------+\n| ["$.alias","$.name"]                                                       |\n+----------------------------------------------------------------------------+\n'})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"'%' \u4F5C\u4E3A\u901A\u914D\u7B26"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'all\', \'%\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+-------------------------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "John"}\', \'all\', \'%\') |\n+-------------------------------------------------------------------------+\n| ["$.alias","$.name"]                                                    |\n+-------------------------------------------------------------------------+\n'})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"'_' \u4F5C\u4E3A\u901A\u914D\u7B26"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "Jihn"}\', \'all\', \'J_hn\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+----------------------------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "Jihn"}\', \'all\', \'J_hn\') |\n+----------------------------------------------------------------------------+\n| ["$.alias","$.name"]                                                       |\n+----------------------------------------------------------------------------+\n'})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u901A\u914D\u7B26\u8F6C\u4E49"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "J_hn"}\', \'all\', \'J\\_hn\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30, "alias": "J_hn"}\', \'all\', \'J\\_hn\') |\n+-----------------------------------------------------------------------------+\n| "$.alias"                                                                   |\n+-----------------------------------------------------------------------------+\n'})}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:'\'J_hn\' \u53EA\u5339\u914D\u4E86 "J_hn" \u800C\u6CA1\u6709\u5339\u914D "John"\u3002'}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u6CA1\u6709\u627E\u5230\u5339\u914D\u503C"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'Alice');\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"+------------------------------------------------------------+\n| JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'one', 'Alice') |\n+------------------------------------------------------------+\n| NULL                                                       |\n+------------------------------------------------------------+\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"NULL \u53C2\u6570"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30}\', NULL, \'Alice\');\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30}\', NULL, \'Alice\') |\n+-----------------------------------------------------------+\n| NULL                                                      |\n+-----------------------------------------------------------+\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:'SELECT JSON_SEARCH(\'{"name": "John", "age": 30}\', \'one\', NULL);\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:'+---------------------------------------------------------+\n| JSON_SEARCH(\'{"name": "John", "age": 30}\', \'one\', NULL) |\n+---------------------------------------------------------+\n| NULL                                                    |\n+---------------------------------------------------------+\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT JSON_SEARCH(NULL, 'one', 'Alice');\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"+-----------------------------------+\n| JSON_SEARCH(NULL, 'one', 'Alice') |\n+-----------------------------------+\n| NULL                              |\n+-----------------------------------+\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["\u975E\u6CD5\u7684 ",(0,a.jsx)(e.code,{children:"<one_or_all>"})," \u53C2\u6570"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-sql",children:"SELECT JSON_SEARCH('{\"name\": \"John\", \"age\": 30}', 'three', 'Alice');\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-text",children:"ERROR 1105 (HY000): errCode = 2, detailMessage = [INVALID_ARGUMENT]the one_or_all argument three is not 'one' not 'all'\n"})}),"\n"]}),"\n"]})]})}function t(n={}){let{wrapper:e}={...(0,c.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},250065:function(n,e,l){l.d(e,{Z:function(){return r},a:function(){return i}});var s=l(667294);let a={},c=s.createContext(a);function i(n){let e=s.useContext(c);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);