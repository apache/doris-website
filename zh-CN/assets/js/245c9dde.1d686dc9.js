"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["591431"],{111357:function(e,n,i){i.r(n),i.d(n,{default:()=>m,frontMatter:()=>d,metadata:()=>t,assets:()=>a,toc:()=>l,contentTitle:()=>o});var t=JSON.parse('{"id":"table-design/tiered-storage/tiered-ssd-hdd","title":"SSD \u548C HDD \u5C42\u7EA7\u5B58\u50A8","description":"Doris \u652F\u6301\u5728\u4E0D\u540C\u78C1\u76D8\u7C7B\u578B\uFF08SSD \u548C HDD\uFF09\u4E4B\u95F4\u8FDB\u884C\u5206\u5C42\u5B58\u50A8\uFF0C\u7ED3\u5408\u52A8\u6001\u5206\u533A\u529F\u80FD\uFF0C\u6839\u636E\u51B7\u70ED\u6570\u636E\u7684\u7279\u6027\u5C06\u6570\u636E\u4ECE SSD \u52A8\u6001\u8FC1\u79FB\u5230 HDD\u3002\u8FD9\u79CD\u65B9\u5F0F\u65E2\u964D\u4F4E\u4E86\u5B58\u50A8\u6210\u672C\uFF0C\u53C8\u5728\u70ED\u6570\u636E\u7684\u8BFB\u5199\u4E0A\u4FDD\u6301\u4E86\u9AD8\u6027\u80FD\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-2.1/table-design/tiered-storage/tiered-ssd-hdd.md","sourceDirName":"table-design/tiered-storage","slug":"/table-design/tiered-storage/tiered-ssd-hdd","permalink":"/zh-CN/docs/2.1/table-design/tiered-storage/tiered-ssd-hdd","draft":false,"unlisted":false,"tags":[],"version":"2.1","lastUpdatedAt":1770477659000,"frontMatter":{"title":"SSD \u548C HDD \u5C42\u7EA7\u5B58\u50A8","language":"zh-CN","description":"Doris \u652F\u6301\u5728\u4E0D\u540C\u78C1\u76D8\u7C7B\u578B\uFF08SSD \u548C HDD\uFF09\u4E4B\u95F4\u8FDB\u884C\u5206\u5C42\u5B58\u50A8\uFF0C\u7ED3\u5408\u52A8\u6001\u5206\u533A\u529F\u80FD\uFF0C\u6839\u636E\u51B7\u70ED\u6570\u636E\u7684\u7279\u6027\u5C06\u6570\u636E\u4ECE SSD \u52A8\u6001\u8FC1\u79FB\u5230 HDD\u3002\u8FD9\u79CD\u65B9\u5F0F\u65E2\u964D\u4F4E\u4E86\u5B58\u50A8\u6210\u672C\uFF0C\u53C8\u5728\u70ED\u6570\u636E\u7684\u8BFB\u5199\u4E0A\u4FDD\u6301\u4E86\u9AD8\u6027\u80FD\u3002"},"sidebar":"docs","previous":{"title":"\u51B7\u70ED\u6570\u636E\u5206\u5C42\u6982\u8FF0","permalink":"/zh-CN/docs/2.1/table-design/tiered-storage/overview"},"next":{"title":"\u8FDC\u7A0B\u5B58\u50A8","permalink":"/zh-CN/docs/2.1/table-design/tiered-storage/remote-storage"}}'),r=i("785893"),s=i("250065");let d={title:"SSD \u548C HDD \u5C42\u7EA7\u5B58\u50A8",language:"zh-CN",description:"Doris \u652F\u6301\u5728\u4E0D\u540C\u78C1\u76D8\u7C7B\u578B\uFF08SSD \u548C HDD\uFF09\u4E4B\u95F4\u8FDB\u884C\u5206\u5C42\u5B58\u50A8\uFF0C\u7ED3\u5408\u52A8\u6001\u5206\u533A\u529F\u80FD\uFF0C\u6839\u636E\u51B7\u70ED\u6570\u636E\u7684\u7279\u6027\u5C06\u6570\u636E\u4ECE SSD \u52A8\u6001\u8FC1\u79FB\u5230 HDD\u3002\u8FD9\u79CD\u65B9\u5F0F\u65E2\u964D\u4F4E\u4E86\u5B58\u50A8\u6210\u672C\uFF0C\u53C8\u5728\u70ED\u6570\u636E\u7684\u8BFB\u5199\u4E0A\u4FDD\u6301\u4E86\u9AD8\u6027\u80FD\u3002"},o=void 0,a={},l=[{value:"\u52A8\u6001\u5206\u533A\u4E0E\u5C42\u7EA7\u5B58\u50A8",id:"\u52A8\u6001\u5206\u533A\u4E0E\u5C42\u7EA7\u5B58\u50A8",level:2},{value:"\u53C2\u6570\u8BF4\u660E",id:"\u53C2\u6570\u8BF4\u660E",level:2},{value:"<code>dynamic_partition.hot_partition_num</code>",id:"dynamic_partitionhot_partition_num",level:3},{value:"<code>dynamic_partition.storage_medium</code>",id:"dynamic_partitionstorage_medium",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2},{value:"1. \u521B\u5EFA\u4E00\u4E2A\u5206\u5C42\u5B58\u50A8\u8868",id:"1-\u521B\u5EFA\u4E00\u4E2A\u5206\u5C42\u5B58\u50A8\u8868",level:3},{value:"2. \u68C0\u67E5\u5206\u533A\u5B58\u50A8\u4ECB\u8D28",id:"2-\u68C0\u67E5\u5206\u533A\u5B58\u50A8\u4ECB\u8D28",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Doris \u652F\u6301\u5728\u4E0D\u540C\u78C1\u76D8\u7C7B\u578B\uFF08SSD \u548C HDD\uFF09\u4E4B\u95F4\u8FDB\u884C\u5206\u5C42\u5B58\u50A8\uFF0C\u7ED3\u5408\u52A8\u6001\u5206\u533A\u529F\u80FD\uFF0C\u6839\u636E\u51B7\u70ED\u6570\u636E\u7684\u7279\u6027\u5C06\u6570\u636E\u4ECE SSD \u52A8\u6001\u8FC1\u79FB\u5230 HDD\u3002\u8FD9\u79CD\u65B9\u5F0F\u65E2\u964D\u4F4E\u4E86\u5B58\u50A8\u6210\u672C\uFF0C\u53C8\u5728\u70ED\u6570\u636E\u7684\u8BFB\u5199\u4E0A\u4FDD\u6301\u4E86\u9AD8\u6027\u80FD\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u52A8\u6001\u5206\u533A\u4E0E\u5C42\u7EA7\u5B58\u50A8",children:"\u52A8\u6001\u5206\u533A\u4E0E\u5C42\u7EA7\u5B58\u50A8"}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u914D\u7F6E\u52A8\u6001\u5206\u533A\u53C2\u6570\uFF0C\u7528\u6237\u53EF\u4EE5\u8BBE\u7F6E\u54EA\u4E9B\u5206\u533A\u5B58\u50A8\u5728 SSD \u4E0A\uFF0C\u4EE5\u53CA\u51B7\u5374\u540E\u81EA\u52A8\u8FC1\u79FB\u5230 HDD \u4E0A\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u70ED\u5206\u533A"}),"\uFF1A\u6700\u8FD1\u6D3B\u8DC3\u7684\u5206\u533A\uFF0C\u4F18\u5148\u5B58\u50A8\u5728 SSD \u4E0A\uFF0C\u4FDD\u8BC1\u9AD8\u6027\u80FD\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u51B7\u5206\u533A"}),"\uFF1A\u8F83\u5C11\u8BBF\u95EE\u7684\u5206\u533A\uFF0C\u4F1A\u9010\u6B65\u8FC1\u79FB\u5230 HDD\uFF0C\u4EE5\u964D\u4F4E\u5B58\u50A8\u5F00\u9500\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6709\u5173\u52A8\u6001\u5206\u533A\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u8003\uFF1A",(0,r.jsx)(n.a,{href:"../../table-design/data-partitioning/dynamic-partitioning",children:"\u6570\u636E\u5212\u5206 - \u52A8\u6001\u5206\u533A"}),"\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u53C2\u6570\u8BF4\u660E",children:"\u53C2\u6570\u8BF4\u660E"}),"\n",(0,r.jsx)(n.h3,{id:"dynamic_partitionhot_partition_num",children:(0,r.jsx)(n.code,{children:"dynamic_partition.hot_partition_num"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u529F\u80FD"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6307\u5B9A\u6700\u8FD1\u7684\u591A\u5C11\u4E2A\u5206\u533A\u4E3A\u70ED\u5206\u533A\uFF0C\u8FD9\u4E9B\u5206\u533A\u5B58\u50A8\u5728 SSD \u4E0A\uFF0C\u5176\u4F59\u5206\u533A\u5B58\u50A8\u5728 HDD \u4E0A\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5FC5\u987B\u540C\u65F6\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"dynamic_partition.storage_medium = HDD"}),"\uFF0C\u5426\u5219\u6B64\u53C2\u6570\u4E0D\u4F1A\u751F\u6548\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u5B58\u50A8\u8DEF\u5F84\u4E0B\u6CA1\u6709 SSD \u8BBE\u5907\uFF0C\u5219\u8BE5\u914D\u7F6E\u4F1A\u5BFC\u81F4\u5206\u533A\u521B\u5EFA\u5931\u8D25\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B\u8BF4\u660E"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5047\u8BBE\u5F53\u524D\u65E5\u671F\u4E3A ",(0,r.jsx)(n.strong,{children:"2021-05-20"}),"\uFF0C\u6309\u5929\u5206\u533A\uFF0C\u52A8\u6001\u5206\u533A\u914D\u7F6E\u5982\u4E0B\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"dynamic_partition.hot_partition_num = 2\ndynamic_partition.start = -3\ndynamic_partition.end = 3\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u521B\u5EFA\u4EE5\u4E0B\u5206\u533A\uFF0C\u5E76\u914D\u7F6E\u5176\u5B58\u50A8\u4ECB\u8D28\u548C\u51B7\u5374\u65F6\u95F4\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-Plain",children:'p20210517\uFF1A["2021-05-17", "2021-05-18") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\np20210518\uFF1A["2021-05-18", "2021-05-19") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\np20210519\uFF1A["2021-05-19", "2021-05-20") storage_medium=SSD storage_cooldown_time=2021-05-21 00:00:00\np20210520\uFF1A["2021-05-20", "2021-05-21") storage_medium=SSD storage_cooldown_time=2021-05-22 00:00:00\np20210521\uFF1A["2021-05-21", "2021-05-22") storage_medium=SSD storage_cooldown_time=2021-05-23 00:00:00\np20210522\uFF1A["2021-05-22", "2021-05-23") storage_medium=SSD storage_cooldown_time=2021-05-24 00:00:00\np20210523\uFF1A["2021-05-23", "2021-05-24") storage_medium=SSD storage_cooldown_time=2021-05-25 00:00:00\n'})}),"\n",(0,r.jsx)(n.h3,{id:"dynamic_partitionstorage_medium",children:(0,r.jsx)(n.code,{children:"dynamic_partition.storage_medium"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u529F\u80FD"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6307\u5B9A\u52A8\u6001\u5206\u533A\u7684\u6700\u7EC8\u5B58\u50A8\u4ECB\u8D28\u3002\u9ED8\u8BA4\u662F HDD\uFF0C\u53EF\u9009\u62E9 SSD\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5F53\u8BBE\u7F6E\u4E3A SSD \u65F6\uFF0C",(0,r.jsx)(n.code,{children:"hot_partition_num"})," \u5C5E\u6027\u5C06\u4E0D\u518D\u751F\u6548\uFF0C\u6240\u6709\u5206\u533A\u5C06\u9ED8\u8BA4\u4E3A SSD \u5B58\u50A8\u4ECB\u8D28\u5E76\u4E14\u51B7\u5374\u65F6\u95F4\u4E3A 9999-12-31 23:59:59\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u521B\u5EFA\u4E00\u4E2A\u5206\u5C42\u5B58\u50A8\u8868",children:"1. \u521B\u5EFA\u4E00\u4E2A\u5206\u5C42\u5B58\u50A8\u8868"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'    CREATE TABLE tiered_table (k DATE)\n    PARTITION BY RANGE(k)()\n    DISTRIBUTED BY HASH (k) BUCKETS 5\n    PROPERTIES\n    (\n        "dynamic_partition.storage_medium" = "hdd",\n        "dynamic_partition.enable" = "true",\n        "dynamic_partition.time_unit" = "DAY",\n        "dynamic_partition.hot_partition_num" = "2",\n        "dynamic_partition.end" = "3",\n        "dynamic_partition.prefix" = "p",\n        "dynamic_partition.buckets" = "5",\n        "dynamic_partition.create_history_partition"= "true",\n        "dynamic_partition.start" = "-3"\n    );\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u68C0\u67E5\u5206\u533A\u5B58\u50A8\u4ECB\u8D28",children:"2. \u68C0\u67E5\u5206\u533A\u5B58\u50A8\u4ECB\u8D28"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"    SHOW PARTITIONS FROM tiered_table;\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53EF\u4EE5\u770B\u89C1 7 \u4E2A\u5206\u533A\uFF0C5 \u4E2A\u4F7F\u7528 SSD, \u5176\u5B83\u7684 2 \u4E2A\u4F7F\u7528 HDD\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-Plain",children:'  p20210517\uFF1A["2021-05-17", "2021-05-18") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\n  p20210518\uFF1A["2021-05-18", "2021-05-19") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\n  p20210519\uFF1A["2021-05-19", "2021-05-20") storage_medium=SSD storage_cooldown_time=2021-05-21 00:00:00\n  p20210520\uFF1A["2021-05-20", "2021-05-21") storage_medium=SSD storage_cooldown_time=2021-05-22 00:00:00\n  p20210521\uFF1A["2021-05-21", "2021-05-22") storage_medium=SSD storage_cooldown_time=2021-05-23 00:00:00\n  p20210522\uFF1A["2021-05-22", "2021-05-23") storage_medium=SSD storage_cooldown_time=2021-05-24 00:00:00\n  p20210523\uFF1A["2021-05-23", "2021-05-24") storage_medium=SSD storage_cooldown_time=2021-05-25 00:00:00\n'})})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},250065:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return d}});var t=i(667294);let r={},s=t.createContext(r);function d(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);