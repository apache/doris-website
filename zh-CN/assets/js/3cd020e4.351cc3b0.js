"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["639111"],{813524:function(e,n,l){l.r(n),l.d(n,{default:()=>o,frontMatter:()=>i,metadata:()=>s,assets:()=>a,toc:()=>t,contentTitle:()=>d});var s=JSON.parse('{"id":"ai/text-search/search-operators","title":"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301","description":"Apache Doris\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u529F\u80FD\u8BE6\u89E3\uFF1A\u652F\u6301MATCH_ANY/ALL/PHRASE/REGEXP\u7B498\u79CD\u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF0C\u63D0\u4F9B\u77ED\u8BED\u5339\u914D\u3001\u524D\u7F00\u5339\u914D\u3001\u6B63\u5219\u5339\u914D\u3001\u8FB9\u7F18\u77ED\u8BED\u5339\u914D\u7B49\u9AD8\u7EA7\u641C\u7D22\u80FD\u529B\u3002\u7ED3\u5408\u5012\u6392\u7D22\u5F15\u52A0\u901F\u7B49\u503C\u3001\u8303\u56F4\u3001\u96C6\u5408\u3001\u6570\u7EC4\u7B49\u590D\u6742\u67E5\u8BE2\uFF0C\u663E\u8457\u63D0\u5347\u6587\u672C\u641C\u7D22\u548C\u7ED3\u6784\u5316\u6570\u636E\u8FC7\u6EE4\u6027\u80FD\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/ai/text-search/search-operators.md","sourceDirName":"ai/text-search","slug":"/ai/text-search/search-operators","permalink":"/zh-CN/docs/dev/ai/text-search/search-operators","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1770477659000,"frontMatter":{"title":"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301","language":"zh-CN","description":"Apache Doris\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u529F\u80FD\u8BE6\u89E3\uFF1A\u652F\u6301MATCH_ANY/ALL/PHRASE/REGEXP\u7B498\u79CD\u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF0C\u63D0\u4F9B\u77ED\u8BED\u5339\u914D\u3001\u524D\u7F00\u5339\u914D\u3001\u6B63\u5219\u5339\u914D\u3001\u8FB9\u7F18\u77ED\u8BED\u5339\u914D\u7B49\u9AD8\u7EA7\u641C\u7D22\u80FD\u529B\u3002\u7ED3\u5408\u5012\u6392\u7D22\u5F15\u52A0\u901F\u7B49\u503C\u3001\u8303\u56F4\u3001\u96C6\u5408\u3001\u6570\u7EC4\u7B49\u590D\u6742\u67E5\u8BE2\uFF0C\u663E\u8457\u63D0\u5347\u6587\u672C\u641C\u7D22\u548C\u7ED3\u6784\u5316\u6570\u636E\u8FC7\u6EE4\u6027\u80FD\u3002"},"sidebar":"docs","previous":{"title":"\u6982\u8FF0","permalink":"/zh-CN/docs/dev/ai/text-search/overview"},"next":{"title":"SEARCH \u51FD\u6570","permalink":"/zh-CN/docs/dev/ai/text-search/search-function"}}'),r=l("785893"),c=l("250065");let i={title:"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301",language:"zh-CN",description:"Apache Doris\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u529F\u80FD\u8BE6\u89E3\uFF1A\u652F\u6301MATCH_ANY/ALL/PHRASE/REGEXP\u7B498\u79CD\u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF0C\u63D0\u4F9B\u77ED\u8BED\u5339\u914D\u3001\u524D\u7F00\u5339\u914D\u3001\u6B63\u5219\u5339\u914D\u3001\u8FB9\u7F18\u77ED\u8BED\u5339\u914D\u7B49\u9AD8\u7EA7\u641C\u7D22\u80FD\u529B\u3002\u7ED3\u5408\u5012\u6392\u7D22\u5F15\u52A0\u901F\u7B49\u503C\u3001\u8303\u56F4\u3001\u96C6\u5408\u3001\u6570\u7EC4\u7B49\u590D\u6742\u67E5\u8BE2\uFF0C\u663E\u8457\u63D0\u5347\u6587\u672C\u641C\u7D22\u548C\u7ED3\u6784\u5316\u6570\u636E\u8FC7\u6EE4\u6027\u80FD\u3002"},d=void 0,a={},t=[{value:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",id:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",level:2},{value:"MATCH_ANY",id:"match_any",level:3},{value:"MATCH_ALL",id:"match_all",level:3},{value:"MATCH_PHRASE",id:"match_phrase",level:3},{value:"MATCH_PHRASE\uFF08\u5E26 slop\uFF09",id:"match_phrase\u5E26-slop",level:3},{value:"MATCH_PHRASE\uFF08\u4E25\u683C\u987A\u5E8F\uFF09",id:"match_phrase\u4E25\u683C\u987A\u5E8F",level:3},{value:"MATCH_PHRASE_PREFIX",id:"match_phrase_prefix",level:3},{value:"MATCH_REGEXP",id:"match_regexp",level:3},{value:"MATCH_PHRASE_EDGE",id:"match_phrase_edge",level:3},{value:"\u4F7F\u7528 USING ANALYZER \u6307\u5B9A\u5206\u8BCD\u5668",id:"\u4F7F\u7528-using-analyzer-\u6307\u5B9A\u5206\u8BCD\u5668",level:3},{value:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",id:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",level:2},{value:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",id:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",level:3}];function h(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",children:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50"}),"\n",(0,r.jsx)(n.h3,{id:"match_any",children:"MATCH_ANY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5339\u914D\u5305\u542B\u4EFB\u4E00\u5173\u952E\u8BCD\u7684\u884C\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ANY 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_all",children:"MATCH_ALL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5339\u914D\u540C\u65F6\u5305\u542B\u6240\u6709\u5173\u952E\u8BCD\u7684\u884C\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ALL 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase",children:"MATCH_PHRASE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u77ED\u8BED\u5339\u914D\uFF0C\u8981\u6C42\u8BCD\u9879\u76F8\u90BB\u4E14\u987A\u5E8F\u4E00\u81F4\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u9700\u7D22\u5F15\u52A0\u901F\uFF0C\u8BF7\u5728\u7D22\u5F15\u5C5E\u6027\u4E2D\u5F00\u542F ",(0,r.jsx)(n.code,{children:'"support_phrase" = "true"'}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase\u5E26-slop",children:"MATCH_PHRASE\uFF08\u5E26 slop\uFF09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5141\u8BB8\u5173\u952E\u8BCD\u4E4B\u95F4\u5B58\u5728\u6700\u591A ",(0,r.jsx)(n.code,{children:"slop"})," \u4E2A\u8BCD\u7684\u95F4\u9694\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u5141\u8BB8 keyword1 \u4E0E keyword2 \u4E4B\u95F4\u6700\u591A\u95F4\u9694 3 \u4E2A\u8BCD\nSELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase\u4E25\u683C\u987A\u5E8F",children:"MATCH_PHRASE\uFF08\u4E25\u683C\u987A\u5E8F\uFF09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7ED3\u5408 ",(0,r.jsx)(n.code,{children:"+"})," \u4E0E slop\uFF0C\u8981\u6C42\u8BCD\u5E8F\u56FA\u5B9A\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3+';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase_prefix",children:"MATCH_PHRASE_PREFIX"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u77ED\u8BED\u5339\u914D\uFF0C\u6700\u540E\u4E00\u4E2A\u8BCD\u6309\u524D\u7F00\u5339\u914D\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u5F53\u53EA\u7ED9\u51FA\u4E00\u4E2A\u8BCD\u65F6\uFF0C\u9000\u5316\u4E3A\u8BE5\u8BCD\u7684\u524D\u7F00\u5339\u914D\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u6700\u540E\u4E00\u4E2A\u8BCD\u524D\u7F00\u5339\u914D\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1 key';\n\n-- \u5355\u8BCD\u9000\u5316\u4E3A\u524D\u7F00\u5339\u914D\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_regexp",children:"MATCH_REGEXP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6B63\u5219\u5339\u914D\uFF08\u9488\u5BF9\u5206\u8BCD\u540E\u7684\u8BCD\u9879\u8FDB\u884C\u5339\u914D\uFF09\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_REGEXP '^key_word.*';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase_edge",children:"MATCH_PHRASE_EDGE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8FB9\u7F18\u77ED\u8BED\u5339\u914D\uFF1A\u9996\u8BCD\u6309\u540E\u7F00\u5339\u914D\uFF0C\u4E2D\u95F4\u8BCD\u7CBE\u786E\u5339\u914D\uFF0C\u672B\u8BCD\u6309\u524D\u7F00\u5339\u914D\uFF1B\u8BCD\u9879\u9700\u76F8\u90BB\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE_EDGE 'search engine optim';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4F7F\u7528-using-analyzer-\u6307\u5B9A\u5206\u8BCD\u5668",children:"\u4F7F\u7528 USING ANALYZER \u6307\u5B9A\u5206\u8BCD\u5668"}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53\u4E00\u4E2A\u5217\u4E0A\u521B\u5EFA\u4E86\u591A\u4E2A\u4F7F\u7528\u4E0D\u540C\u5206\u8BCD\u5668\u7684\u5012\u6392\u7D22\u5F15\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"USING ANALYZER"})," \u5B50\u53E5\u6307\u5B9A\u67E5\u8BE2\u65F6\u4F7F\u7528\u54EA\u4E2A\u5206\u8BCD\u5668\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8BED\u6CD5\uFF1A"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE column MATCH 'keywords' USING ANALYZER analyzer_name;\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u652F\u6301\u7684\u7B97\u5B50\uFF1A"}),"\n\u6240\u6709 MATCH \u7B97\u5B50\u90FD\u652F\u6301 ",(0,r.jsx)(n.code,{children:"USING ANALYZER"})," \u5B50\u53E5\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"MATCH / MATCH_ANY"}),"\n",(0,r.jsx)(n.li,{children:"MATCH_ALL"}),"\n",(0,r.jsx)(n.li,{children:"MATCH_PHRASE"}),"\n",(0,r.jsx)(n.li,{children:"MATCH_PHRASE_PREFIX"}),"\n",(0,r.jsx)(n.li,{children:"MATCH_PHRASE_EDGE"}),"\n",(0,r.jsx)(n.li,{children:"MATCH_REGEXP"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u4F7F\u7528\u6807\u51C6\u5206\u8BCD\u5668\uFF08\u5C06\u6587\u672C\u5206\u8BCD\uFF09\nSELECT * FROM articles WHERE content MATCH 'hello world' USING ANALYZER std_analyzer;\n\n-- \u4F7F\u7528\u5173\u952E\u8BCD\u5206\u8BCD\u5668\uFF08\u7CBE\u786E\u5339\u914D\uFF0C\u4E0D\u5206\u8BCD\uFF09\nSELECT * FROM articles WHERE content MATCH 'hello world' USING ANALYZER kw_analyzer;\n\n-- \u914D\u5408 MATCH_PHRASE \u4F7F\u7528\nSELECT * FROM articles WHERE content MATCH_PHRASE 'hello world' USING ANALYZER std_analyzer;\n\n-- \u4F7F\u7528\u5185\u7F6E\u5206\u8BCD\u5668\nSELECT * FROM articles WHERE content MATCH 'hello' USING ANALYZER standard;\nSELECT * FROM articles WHERE content MATCH 'hello' USING ANALYZER none;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6CE8\u610F\u4E8B\u9879\uFF1A"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u6307\u5B9A\u5206\u8BCD\u5668\u7684\u7D22\u5F15\u672A\u6784\u5EFA\uFF0C\u67E5\u8BE2\u4F1A\u81EA\u52A8\u964D\u7EA7\u5230\u975E\u7D22\u5F15\u8DEF\u5F84\uFF08\u7ED3\u679C\u6B63\u786E\uFF0C\u4F46\u6027\u80FD\u8F83\u6162\uFF09"}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u672A\u6307\u5B9A\u5206\u8BCD\u5668\uFF0C\u7CFB\u7EDF\u4F1A\u4F7F\u7528\u4EFB\u610F\u53EF\u7528\u7684\u7D22\u5F15"}),"\n",(0,r.jsxs)(n.li,{children:["\u5185\u7F6E\u5206\u8BCD\u5668\u540D\u79F0\uFF1A",(0,r.jsx)(n.code,{children:"none"}),"\uFF08\u7CBE\u786E\u5339\u914D\uFF09\u3001",(0,r.jsx)(n.code,{children:"standard"}),"\uFF08\u6807\u51C6\u5206\u8BCD\uFF09\u3001",(0,r.jsx)(n.code,{children:"chinese"}),"\uFF08\u4E2D\u6587\u5206\u8BCD\uFF09"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",children:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F"}),"\n",(0,r.jsx)(n.h3,{id:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",children:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7B49\u503C\u4E0E\u96C6\u5408\uFF1A",(0,r.jsx)(n.code,{children:"="}),", ",(0,r.jsx)(n.code,{children:"!="}),", ",(0,r.jsx)(n.code,{children:"IN"}),", ",(0,r.jsx)(n.code,{children:"NOT IN"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u8303\u56F4\uFF1A",(0,r.jsx)(n.code,{children:">"}),", ",(0,r.jsx)(n.code,{children:">="}),", ",(0,r.jsx)(n.code,{children:"<"}),", ",(0,r.jsx)(n.code,{children:"<="}),", ",(0,r.jsx)(n.code,{children:"BETWEEN"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u7A7A\u503C\u5224\u65AD\uFF1A",(0,r.jsx)(n.code,{children:"IS NULL"}),", ",(0,r.jsx)(n.code,{children:"IS NOT NULL"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6570\u7EC4\uFF1A",(0,r.jsx)(n.code,{children:"array_contains"}),", ",(0,r.jsx)(n.code,{children:"array_overlaps"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u793A\u4F8B\nSELECT * FROM t WHERE price >= 100 AND price < 200;            -- \u8303\u56F4\nSELECT * FROM t WHERE tags IN ('a','b','c');                    -- \u96C6\u5408\nSELECT * FROM t WHERE array_contains(attributes, 'color');      -- \u6570\u7EC4\n"})})]})}function o(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},250065:function(e,n,l){l.d(n,{Z:function(){return d},a:function(){return i}});var s=l(667294);let r={},c=s.createContext(r);function i(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);