"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["290926"],{610684:function(n,s,e){e.r(s),e.d(s,{default:()=>h,frontMatter:()=>i,metadata:()=>l,assets:()=>t,toc:()=>d,contentTitle:()=>a});var l=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/string-functions/concat-ws","title":"CONCAT_WS","description":"\u63CF\u8FF0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-3.x/sql-manual/sql-functions/scalar-functions/string-functions/concat-ws.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/string-functions","slug":"/sql-manual/sql-functions/scalar-functions/string-functions/concat-ws","permalink":"/zh-CN/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/concat-ws","draft":false,"unlisted":false,"tags":[],"version":"3.x","frontMatter":{"title":"CONCAT_WS","language":"zh-CN"},"sidebar":"docs","previous":{"title":"CONCAT","permalink":"/zh-CN/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/concat"},"next":{"title":"COUNT_SUBSTRINGS","permalink":"/zh-CN/docs/3.x/sql-manual/sql-functions/scalar-functions/string-functions/count_substrings"}}'),c=e("785893"),r=e("250065");let i={title:"CONCAT_WS",language:"zh-CN"},a=void 0,t={},d=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u4E3E\u4F8B",id:"\u4E3E\u4F8B",level:2}];function o(n){let s={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,c.jsx)(s.p,{children:"\u4F7F\u7528\u7B2C\u4E00\u4E2A\u53C2\u6570sep\u4F5C\u4E3A\u8FDE\u63A5\u7B26\uFF0C\u5C06\u7B2C\u4E8C\u4E2A\u53C2\u6570\u53CA\u540E\u7EED\u6240\u6709\u53C2\u6570\uFF08\u6216\u4E00\u4E2A\u6570\u7EC4\u3001\u591A\u4E2A\u6570\u7EC4\u4E2D\u7684\u6240\u6709\u5B57\u7B26\u4E32\uFF09\u62FC\u63A5\u6210\u4E00\u4E2A\u5B57\u7B26\u4E32\u3002\u7279\u6B8A\u60C5\u51B5\uFF1A"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:"\u82E5\u5206\u9694\u7B26\u4E3A NULL\uFF0C\u5219\u8FD4\u56DE NULL\u3002\u200B"}),"\n",(0,c.jsx)(s.li,{children:'CONCAT_WS\u51FD\u6570\u4E0D\u8DF3\u8FC7\u7A7A\u5B57\u7B26\u4E32\uFF08""\uFF09\uFF0C\u4F46\u4F1A\u8DF3\u8FC7 NULL \u503C\u3002\u200B'}),"\n",(0,c.jsx)(s.li,{children:"CONCAT_WS\u51FD\u6570\u4E0D\u8DF3\u8FC7\u4EFB\u4F55\u6570\u7EC4\u53C2\u6570\u4E2D\u7684\u7A7A\u5B57\u7B26\u4E32\uFF0C\u4F46\u4F1A\u8DF3\u8FC7\u6570\u7EC4\u4E2D\u7684 NULL \u503C\u3002"}),"\n",(0,c.jsx)(s.li,{children:"\u200BCONCAT_WS\u51FD\u6570\u4E0D\u4F1A\u8DF3\u8FC7NULL\u5982\u679C\u8F93\u5165\u591A\u4E2A\u6570\u7EC4\u53C2\u6570\uFF0C\u4F1A\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32\u3002"}),"\n",(0,c.jsx)(s.li,{children:"\u7B2C\u4E00\u4E2A\u53C2\u6570\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32\u7C7B\u578B\uFF08string \u6216 varchar\uFF09\uFF0C\u5176\u4ED6\u53C2\u6570\u5FC5\u987B\u4E3A\u76F8\u540C\u7C7B\u578B\uFF0C\u5373\u5747\u4E3A\u5B57\u7B26\u4E32\u7C7B\u578B\uFF08string \u6216 varchar\uFF09\u6216\u5747\u4E3A\u6570\u7EC4\u7C7B\u578B\uFF08ARRAY\uFF09\u3002"}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:"CONCAT_WS ( <sep> , <str> [ , <str> ] )\nCONCAT_WS ( <sep> , <array> [ , <array> ])\n"})}),"\n",(0,c.jsx)(s.h2,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"\u53C2\u6570"}),(0,c.jsx)(s.th,{children:"\u8BF4\u660E"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"<sep>"})}),(0,c.jsx)(s.td,{children:"\u7528\u4E8E\u62FC\u63A5\u5B57\u7B26\u4E32\u7684\u8FDE\u63A5\u7B26\uFF0C\u7C7B\u578B\u4E3A string \u6216 varchar"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"<str>"})}),(0,c.jsx)(s.td,{children:"\u5F85\u62FC\u63A5\u7684\u5B57\u7B26\u4E32\uFF0C\u7C7B\u578B\u4E3A string \u6216 varchar"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"<array>"})}),(0,c.jsx)(s.td,{children:"\u5F85\u62FC\u63A5\u7684\u6570\u7EC4\uFF0C\u7C7B\u578B\u4E3A ARRAY\uFF0C\u4E14\u6570\u7EC4\u5143\u7D20\u4E3A string \u6216 varchar"})]})]})]}),"\n",(0,c.jsx)(s.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,c.jsxs)(s.p,{children:["\u53C2\u6570 ",(0,c.jsx)(s.code,{children:"<sep>"})," \u6216\u8005 ",(0,c.jsx)(s.code,{children:"<array>"})," \u6570\u7EC4\u4F7F\u7528 ",(0,c.jsx)(s.code,{children:"<str>"})," \u62FC\u63A5\u540E\u5B57\u7B26\u4E32\u3002\u7279\u6B8A\u60C5\u51B5\uFF1A"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:"\u5982\u679C\u5206\u9694\u7B26\u662F NULL\uFF0C\u8FD4\u56DE NULL\u3002"}),"\n",(0,c.jsx)(s.li,{children:"\u5982\u679C\u591A\u4E2A\u6570\u7EC4\u53C2\u6570\u4E2D\u542B\u6709NULL\u53C2\u6570\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32"}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\u4E3E\u4F8B",children:"\u4E3E\u4F8B"}),"\n",(0,c.jsx)(s.p,{children:"\u5C06\u5B57\u7B26\u4E32\u901A\u8FC7 or \u62FC\u63A5\u5230\u4E00\u8D77"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'SELECT CONCAT_WS("or", "d", "is"),CONCAT_WS(NULL, "d", "is"),CONCAT_WS(\'or\', \'d\', NULL, \'is\')\n'})}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-text",children:"+----------------------------+----------------------------+------------------------------------------+\n| concat_ws('or', 'd', 'is') | concat_ws(NULL, 'd', 'is') | concat_ws('or', 'd', NULL, 'is') |\n+----------------------------+----------------------------+------------------------------------------+\n| doris                      | NULL                       | doris                              |\n+----------------------------+----------------------------+------------------------------------------+\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u5C06 array \u6570\u7EC4\u901A\u8FC7 or \u62FC\u63A5\u5230\u4E00\u8D77"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'SELECT CONCAT_WS("or", ["d", "is"]),CONCAT_WS(NULL, ["d", "is"]),CONCAT_WS("or", ["d", NULL,"is"])\n'})}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-text",children:"+------------------------------+------------------------------+------------------------------------+\n| concat_ws('or', ['d', 'is']) | concat_ws(NULL, ['d', 'is']) | concat_ws('or', ['d', NULL, 'is']) |\n+------------------------------+------------------------------+------------------------------------+\n| doris                        | NULL                         | doris                              |\n+------------------------------+------------------------------+------------------------------------+\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u62FC\u63A5\u591A\u4E2A\u6570\u7EC4"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'mysql> SELECT CONCAT_WS("-", ["a", "b"], ["c", NULL], ["d"]);\n\n+------------------------------------------------+\n| CONCAT_WS("-", ["a", "b"], ["c", NULL], ["d"]) |\n+------------------------------------------------+\n| a-b-c-d                                        |\n+------------------------------------------------+\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u5982\u679C\u5728\u591A\u4E2A\u6570\u7EC4\u53C2\u6570\u4E2D\u5305\u542BNULL\u53C2\u6570\uFF0C\u5219\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32;"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'mysql>  SELECT CONCAT_WS("-", ["a", "b"], null,["c", NULL], ["d"]);\n+-----------------------------------------------------+\n| CONCAT_WS("-", ["a", "b"], null,["c", NULL], ["d"]) |\n+-----------------------------------------------------+\n|                                                     |\n+-----------------------------------------------------+\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u5904\u7406\u7A7A\u5B57\u7B26\u4E32"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'mysql> SELECT CONCAT_WS("|", "hello", "", "world", NULL);\n\n+--------------------------------------------+\n| CONCAT_WS("|", "hello", "", "world", NULL) |\n+--------------------------------------------+\n| hello||world                               |\n+--------------------------------------------+\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u6DF7\u5408\u5B57\u7B26\u4E32\u548C\u6570\u7EC4\uFF08\u65E0\u6548\uFF09"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'mysql> SELECT CONCAT_WS(",", "a", ["b", "c"]);\n\nERROR 1105 (HY000): errCode = 2, detailMessage = can not cast from origin type ARRAY<VARCHAR(1)> to target type=VARCHAR(65533)\n\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u5168\u4E3A NULL \u7684\u8F93\u5165"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:'mysql> SELECT CONCAT_WS("x", NULL, NULL);\n\n+----------------------------+\n| CONCAT_WS("x", NULL, NULL) |\n+----------------------------+\n|                            |\n+----------------------------+\n'})}),"\n",(0,c.jsx)(s.p,{children:"Chiese Charactors concat"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:"mysql> SELECT CONCAT_WS(\"x\", '\u4E2D\u6587', '\u4E2D\u6587');\n\n+------------------------------------+\n| CONCAT_WS(\"x\", '\u4E2D\u6587', '\u4E2D\u6587')     |\n+------------------------------------+\n| \u4E2D\u6587x\u4E2D\u6587                          |\n+------------------------------------+\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u4E2D\u6587\u5B57\u7B26\u62FC\u63A5"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:"mysql> SELECT CONCAT_WS(\"x\", ['\u4E2D\u6587'], ['\u4E2D\u6587']);\n+----------------------------------------+\n| CONCAT_WS(\"x\", ['\u4E2D\u6587'], ['\u4E2D\u6587'])     |\n+----------------------------------------+\n| \u4E2D\u6587x\u4E2D\u6587                              |\n+----------------------------------------+\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u63D2\u5165\u6570\u636E\u5E76\u62FC\u63A5"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-sql",children:"DROP TABLE IF EXISTS test_concat_ws_1;\n\nCREATE TABLE test_concat_ws_1 (id INT, a ARRAY<VARCHAR>, b ARRAY<VARCHAR>) ENGINE=OLAP DISTRIBUTED BY HASH(id) BUCKETS 1 PROPERTIES ('replication_num' = '1')\n\nINSERT INTO test_concat_ws_1 VALUES (1, ['a','b'], ['css',null,'d']), (2, ['x',null], ['y','z']),(3,['\u4F60\u597D','\u4E16\u754C'],['Doris',null,'Nereids'])\n\nSELECT concat_ws('-', a, b) FROM test_concat_ws_1 ORDER BY id\n\n"})}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-text",children:"\n+-----------------------------+\n| concat_ws('-', a, b)        |\n+-----------------------------+\n| a-b-css-d                   |\n| x-y-z                       |\n| \u4F60\u597D-\u4E16\u754C-Doris-Nereids     |\n+-----------------------------+\n"})})]})}function h(n={}){let{wrapper:s}={...(0,r.a)(),...n.components};return s?(0,c.jsx)(s,{...n,children:(0,c.jsx)(o,{...n})}):o(n)}},250065:function(n,s,e){e.d(s,{Z:function(){return a},a:function(){return i}});var l=e(667294);let c={},r=l.createContext(c);function i(n){let s=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(s):{...s,...n}},[s,n])}function a(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),l.createElement(r.Provider,{value:s},n.children)}}}]);