"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["578317"],{789739:function(n,e,t){t.r(e),t.d(e,{default:()=>r,frontMatter:()=>i,metadata:()=>c,assets:()=>L,toc:()=>E,contentTitle:()=>a});var c=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/other-functions/default","title":"DEFAULT","description":"\u63CF\u8FF0","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/sql-manual/sql-functions/scalar-functions/other-functions/default.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/other-functions","slug":"/sql-manual/sql-functions/scalar-functions/other-functions/default","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/other-functions/default","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"DEFAULT","language":"zh-CN"},"sidebar":"docs","previous":{"title":"CONVERT_TO","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/other-functions/convert-to"},"next":{"title":"ESQUERY","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/other-functions/esquery"}}'),l=t("785893"),s=t("250065");let i={title:"DEFAULT",language:"zh-CN"},a=void 0,L={},E=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u4E3E\u4F8B",id:"\u4E3E\u4F8B",level:2}];function T(n){let e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD4\u56DE\u8868\u4E2D\u7279\u5B9A\u5217\u7684\u9ED8\u8BA4\u503C\u3002\u5982\u679C\u8BE5\u5217\u6CA1\u6709\u9ED8\u8BA4\u503C\uFF0C\u5219\u4F1A\u629B\u51FA\u9519\u8BEF\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u8BE5\u51FD\u6570\u4E0E MySQL \u4E2D\u7684 ",(0,l.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/8.4/en/miscellaneous-functions.html#function_default",children:"DEFAULT \u51FD\u6570"})," \u884C\u4E3A\u4E00\u81F4"]}),"\n",(0,l.jsx)(e.admonition,{type:"note",children:(0,l.jsx)(e.p,{children:"\u8BE5\u51FD\u6570\u4ECE4.0.4\u8D77\u5F00\u59CB\u652F\u6301"})}),"\n",(0,l.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"DEFAULT(<column>)\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u53C2\u6570"}),(0,l.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"<column>"})}),(0,l.jsx)(e.td,{children:"\u9700\u8981\u67E5\u8BE2\u9ED8\u8BA4\u503C\u7684\u5217\u3002\u4EC5\u63A5\u53D7\u5217\uFF0C\u5426\u5219\u4F1A\u629B\u51FA\u9519\u8BEF\u3002"})]})})]}),"\n",(0,l.jsx)(e.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,l.jsx)(e.p,{children:"\u8FD4\u56DE\u5217\u7684\u9ED8\u8BA4\u503C\uFF0C\u7C7B\u578B\u4E0E\u5217\u7C7B\u578B\u76F8\u540C"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u82E5\u6709\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u5219\u8FD4\u56DE\u5BF9\u5E94\u7684\u9ED8\u8BA4\u503C"}),"\n",(0,l.jsx)(e.li,{children:"\u82E5\u6CA1\u6709\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u4E14\u5217\u4E0D\u4E3A NOT NULL\uFF0C \u5219\u8FD4\u56DE NULL"}),"\n",(0,l.jsx)(e.li,{children:"\u82E5\u6CA1\u6709\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u4E14\u5217\u4E3A NOT NULL\uFF0C \u5219\u629B\u51FA\u9519\u8BEF"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u7279\u6B8A\u60C5\u51B5:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8F93\u5165\u53C2\u6570\u4EC5\u5141\u8BB8\u5217\uFF0C\u5F53\u8F93\u5165\u4E3A\u5E38\u91CF(\u5305\u62EC NULL)\u6216\u8868\u8FBE\u5F0F\u65F6\uFF0C\u629B\u51FA\u9519\u8BEF"}),"\n",(0,l.jsx)(e.li,{children:"\u8F93\u5165\u4E3A\u81EA\u589E\u5217\u6216\u751F\u6210\u5217\u65F6\uFF0C\u629B\u51FA\u9519\u8BEF"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"/zh-CN/docs/4.x/sql-manual/sql-statements/table-and-view/table/CREATE-TABLE#%E5%88%97%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0",children:"Doris \u652F\u6301\u7684\u9ED8\u8BA4\u503C\u76F8\u5173\u53C2\u6570"})}),"\n",(0,l.jsx)(e.h2,{id:"\u4E3E\u4F8B",children:"\u4E3E\u4F8B"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u975E\u805A\u5408\u7C7B\u578B\u5E38\u91CF\u9ED8\u8BA4\u503C\u4E3E\u4F8B"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"-- setup\n-- \u8868\u4E2D\u6CA1\u6709\u663E\u793A\u8868\u660EDEFAULT\u503C\u7684\u4EE3\u8868\u5176\u9ED8\u8BA4\u503C\u4EC5\u63A5\u53D7 NULL \u503C\n-- ARRAY \u7C7B\u578B\u7684\u9ED8\u8BA4\u503C\u4EC5\u63A5\u53D7 `[]` \u548C NULL\nCREATE TABLE test_default_scalar (\n    c_bool                   BOOLEAN                               NULL     DEFAULT 1,\n    c_tinyint                TINYINT                               NULL     DEFAULT 7,\n    c_smallint               SMALLINT                              NULL     DEFAULT 32000,\n    c_int                    INT                                   NULL     DEFAULT 2147483647,\n    c_bigint                 BIGINT                                NULL     DEFAULT 9223372036854775807,\n    c_largeint               LARGEINT                              NULL     DEFAULT '170141183460469231731687303715884105727',\n    c_float                  FLOAT                                 NULL     DEFAULT 3.125,\n    c_double                 DOUBLE                                NULL     DEFAULT 2.718281828,\n    c_decimal                DECIMAL(27, 9)                        NULL     DEFAULT '123456789.123456789',\n    c_decimal_compact        DECIMAL(18, 4)                        NULL     DEFAULT '99999.1234',\n    c_pi                     DOUBLE                                NULL     DEFAULT PI,\n    c_e                      DOUBLE                                NULL     DEFAULT E,\n    c_char                   CHAR(8)                               NULL     DEFAULT 'charDemo',\n    c_varchar                VARCHAR(32)                           NULL     DEFAULT '',\n    c_string                 STRING                                NULL     DEFAULT 'plain string',\n    c_datetime               DATETIME                              NULL     DEFAULT '2025-10-25 11:22:33',\n    c_date                   DATE                                  NULL     DEFAULT '2025-10-31',\n    c_json                   JSON                                  NULL,\n    c_ipv4                   IPV4                                  NULL     DEFAULT '192.168.1.1',\n    c_ipv6                   IPV6                                  NULL     DEFAULT '2001:db8::1',\n    c_array_int              ARRAY<INT>                            NULL     DEFAULT '[]',\n    c_array_string           ARRAY<STRING>                         NULL,\n    c_map_str_int            MAP<STRING, INT>                      NULL,\n    c_struct                 STRUCT<f1:INT,f2:STRING,f3:BOOLEAN>   NULL,\n    c_variant                VARIANT                               NULL\n) PROPERTIES ( 'replication_num' = '1');\n\n-- \u4F8B\u4E2D\u7701\u7565 INSERT \u8BED\u53E5\nSELECT\n    DEFAULT(c_bool),\n    DEFAULT(c_tinyint),\n    DEFAULT(c_smallint),\n    DEFAULT(c_int),\n    DEFAULT(c_bigint),\n    DEFAULT(c_largeint),\n    DEFAULT(c_float),\n    DEFAULT(c_double),\n    DEFAULT(c_decimal),\n    DEFAULT(c_decimal_compact),\n    DEFAULT(c_pi),\n    DEFAULT(c_e),\n    DEFAULT(c_char),\n    DEFAULT(c_varchar),\n    DEFAULT(c_string),\n    DEFAULT(c_datetime),\n    DEFAULT(c_date),\n    DEFAULT(c_json),\n    DEFAULT(c_ipv4),\n    DEFAULT(c_ipv6),\n    DEFAULT(c_array_int),\n    DEFAULT(c_array_string),\n    DEFAULT(c_map_str_int),\n    DEFAULT(c_struct),\n    DEFAULT(c_variant)\nFROM test_default_scalar\nLIMIT 1;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n| DEFAULT(c_bool) | DEFAULT(c_tinyint) | DEFAULT(c_smallint) | DEFAULT(c_int) | DEFAULT(c_bigint)   | DEFAULT(c_largeint)                     | DEFAULT(c_float) | DEFAULT(c_double) | DEFAULT(c_decimal)  | DEFAULT(c_decimal_compact) | DEFAULT(c_pi)     | DEFAULT(c_e)      | DEFAULT(c_char) | DEFAULT(c_varchar) | DEFAULT(c_string) | DEFAULT(c_datetime) | DEFAULT(c_date) | DEFAULT(c_json) | DEFAULT(c_ipv4) | DEFAULT(c_ipv6) | DEFAULT(c_array_int) | DEFAULT(c_array_string) | DEFAULT(c_map_str_int) | DEFAULT(c_struct) | DEFAULT(c_variant) |\n+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n|               1 |                  7 |               32000 |     2147483647 | 9223372036854775807 | 170141183460469231731687303715884105727 |            3.125 |       2.718281828 | 123456789.123456789 |                 99999.1234 | 3.141592653589793 | 2.718281828459045 | charDemo        |                    | plain string      | 2025-10-25 11:22:33 | 2025-10-31      | NULL            | 192.168.1.1     | 2001:db8::1     | []                   | NULL                    | NULL                   | NULL              | NULL               |\n+-----------------+--------------------+---------------------+----------------+---------------------+-----------------------------------------+------------------+-------------------+---------------------+----------------------------+-------------------+-------------------+-----------------+--------------------+-------------------+---------------------+-----------------+-----------------+-----------------+-----------------+----------------------+-------------------------+------------------------+-------------------+--------------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"\u805A\u5408\u7C7B\u578B\u4E3E\u4F8B"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_default_agg (\n    k_id          INT             NOT NULL COMMENT '\u805A\u5408\u952E',\n    bitmap_col    BITMAP          BITMAP_UNION,\n    hll_col       HLL             HLL_UNION,\n    quantile_col  QUANTILE_STATE QUANTILE_UNION\n) AGGREGATE KEY(k_id)\nPROPERTIES ( 'replication_num' = '1' );\n\nSELECT\n    default(bitmap_col),default(hll_col)\nFROM test_default_agg\nLIMIT 1;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------------------+------------------+\n| default(bitmap_col) | default(hll_col) |\n+---------------------+------------------+\n| NULL                | NULL             |\n+---------------------+------------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:["\u975E\u5E38\u91CF\u9ED8\u8BA4\u503C(",(0,l.jsx)(e.code,{children:"CURRENT_TIMESTAMP"}),", ",(0,l.jsx)(e.code,{children:"CURRENT_DATE"}),")\u4E3E\u4F8B\uFF1A"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_default_time(\n    tm DATETIME(5) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),\n    dt DATE DEFAULT CURRENT_DATE\n) PROPERTIES( 'replication_num' = '1' );\n\nSELECT DEFAULT(tm), DEFAULT(dt) FROM test_default_time;\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-text",children:"+---------------------------+-------------+\n| DEFAULT(tm)               | DEFAULT(dt) |\n+---------------------------+-------------+\n| 2026-01-23 17:32:10.90500 | 2026-01-23  |\n+---------------------------+-------------+\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"\u5E38\u91CF\u503C"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"SELECT DEFAULT('hello');\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = \n-- mismatched input ''hello'' expecting {'{', '}', 'ACTIONS', 'AFTER', 'AGG_STATE', 'AGGREGATE', 'ALIAS', 'ANALYZED', 'ARRAY', 'AT', 'AUTHORS', 'AUTO_INCREMENT', 'ALWAYS', 'BACKENDS', 'BACKUP', 'BEGIN', 'BELONG', 'BIN', 'BITAND', 'BITMAP', 'BITMAP_EMPTY', 'BITMAP_UNION', 'BITOR', 'BITXOR', 'BLOB', 'BOOLEAN', 'BRANCH', 'BRIEF', 'BROKER', 'BUCKETS', 'BUILD', 'BUILTIN', 'CACHE', 'CACHED', 'CALL', 'CATALOG', 'CATALOGS', 'CHAIN', CHAR, 'CHARSET', 'CHECK', 'CLUSTER', 'CLUSTERS', 'COLLA\n\nSELECT DEFAULT(NULL);\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = \n-- mismatched input 'NULL' expecting {'{', '}', 'ACTIONS', 'AFTER', 'AGG_STATE', 'AGGREGATE', 'ALIAS', 'ANALYZED', 'ARRAY', 'AT', 'AUTHORS', 'AUTO_INCREMENT', 'ALWAYS', 'BACKENDS', 'BACKUP', 'BEGIN', 'BELONG', 'BIN', 'BITAND', 'BITMAP', 'BITMAP_EMPTY', 'BITMAP_UNION', 'BITOR', 'BITXOR', 'BLOB', 'BOOLEAN', 'BRANCH', 'BRIEF', 'BROKER', 'BUCKETS', 'BUILD', 'BUILTIN', 'CACHE', 'CACHED', 'CALL', 'CATALOG', 'CATALOGS', 'CHAIN', CHAR, 'CHARSET', 'CHECK', 'CLUSTER', 'CLUSTERS', 'COLLATIO\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"\u81EA\u589E\u5217"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_auto_inc (\n      id BIGINT NULL AUTO_INCREMENT,\n      value BIGINT NOT NULL\n) PROPERTIES ('replication_num' = '1' );\n\nINSERT INTO test_auto_inc(value) VALUES (1), (2);\n--ERROR 1105 (HY000): errCode = 2, detailMessage = Column 'id' has no default value and does not allow NULL or column is auto-increment\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"\u751F\u6210\u5217"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test_gen_col (\n    a INT,\n    b INT AS (a + 10)\n) PROPERTIES ('replication_num' = '1' );\n\nSELECT DEFAULT(b) FROM test_gen_col;\n-- ERROR 1105 (HY000): errCode = 2, detailMessage = DEFAULT cannot be used on generated column 'b'\n"})})]})}function r(n={}){let{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(T,{...n})}):T(n)}},250065:function(n,e,t){t.d(e,{Z:function(){return a},a:function(){return i}});var c=t(667294);let l={},s=c.createContext(l);function i(n){let e=c.useContext(s);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),c.createElement(s.Provider,{value:e},n.children)}}}]);