"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["971553"],{578601:function(e,n,i){i.r(n),i.d(n,{default:()=>x,frontMatter:()=>c,metadata:()=>l,assets:()=>t,toc:()=>a,contentTitle:()=>r});var l=JSON.parse('{"id":"table-design/index/bitmap-index","title":"\u4F4D\u56FE\u7D22\u5F15","description":"\u4F4D\u56FE\u7D22\u5F15\uFF08Bitmap Index\uFF09\u5C31\u662F\u7528\u4F4D\u56FE\u8868\u793A\u7684\u7D22\u5F15\uFF0C\u5BF9\u5217\u7684\u6BCF\u4E2A\u952E\u503C\u5EFA\u7ACB\u4E00\u4E2A\u4F4D\u56FE\uFF0C\u76F8\u5BF9\u4E8E\u5176\u5B83\u7D22\u5F15\uFF0C\u5360\u7528\u7684\u5B58\u50A8\u7A7A\u95F4\u975E\u5E38\u5C0F\uFF0C\u521B\u5EFA\u548C\u4F7F\u7528\u975E\u5E38\u5FEB\uFF0C\u7F3A\u70B9\u662F\u4FEE\u6539\u64CD\u4F5C\u9501\u7C92\u5EA6\u5927\uFF0C\u4E0D\u9002\u5408\u9891\u7E41\u66F4\u65B0\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-2.0/table-design/index/bitmap-index.md","sourceDirName":"table-design/index","slug":"/table-design/index/bitmap-index","permalink":"/zh-CN/docs/2.0/table-design/index/bitmap-index","draft":false,"unlisted":false,"tags":[],"version":"2.0","frontMatter":{"title":"\u4F4D\u56FE\u7D22\u5F15","language":"zh-CN"}}'),d=i("785893"),s=i("250065");let c={title:"\u4F4D\u56FE\u7D22\u5F15",language:"zh-CN"},r=void 0,t={},a=[{value:"\u9002\u7528\u573A\u666F",id:"\u9002\u7528\u573A\u666F",level:2},{value:"\u4E0D\u9002\u7528\u573A\u666F",id:"\u4E0D\u9002\u7528\u573A\u666F",level:2},{value:"\u521B\u5EFA\u4F4D\u56FE\u7D22\u5F15",id:"\u521B\u5EFA\u4F4D\u56FE\u7D22\u5F15",level:2},{value:"\u67E5\u770B\u4F4D\u56FE\u7D22\u5F15",id:"\u67E5\u770B\u4F4D\u56FE\u7D22\u5F15",level:2},{value:"\u5220\u9664\u7D22\u5F15",id:"\u5220\u9664\u7D22\u5F15",level:2},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2}];function h(e){let n={code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"\u4F4D\u56FE\u7D22\u5F15\uFF08Bitmap Index\uFF09\u5C31\u662F\u7528\u4F4D\u56FE\u8868\u793A\u7684\u7D22\u5F15\uFF0C\u5BF9\u5217\u7684\u6BCF\u4E2A\u952E\u503C\u5EFA\u7ACB\u4E00\u4E2A\u4F4D\u56FE\uFF0C\u76F8\u5BF9\u4E8E\u5176\u5B83\u7D22\u5F15\uFF0C\u5360\u7528\u7684\u5B58\u50A8\u7A7A\u95F4\u975E\u5E38\u5C0F\uFF0C\u521B\u5EFA\u548C\u4F7F\u7528\u975E\u5E38\u5FEB\uFF0C\u7F3A\u70B9\u662F\u4FEE\u6539\u64CD\u4F5C\u9501\u7C92\u5EA6\u5927\uFF0C\u4E0D\u9002\u5408\u9891\u7E41\u66F4\u65B0\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u4E0B\u56FE\uFF0Cbitmap \u7D22\u5F15\u5C06\u6BCF\u4E2A\u88AB\u7D22\u5F15\u7684\u5217\u7684\u503C\u4F5C\u4E3A KEY\uFF0C\u4F7F\u7528\u6BCF\u4E2A BIT \u8868\u793A\u4E00\u884C\uFF0C\u5F53\u8FD9\u884C\u4E2D\u5305\u542B\u8FD9\u4E2A\u503C\u65F6\uFF0C\u8BBE\u7F6E\u4E3A 1\uFF0C\u5426\u5219\u8BBE\u7F6E\u4E3A 0\u3002"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"Bitmap Index",src:i(443574).Z+"",width:"2560",height:"896"})}),"\n",(0,d.jsx)(n.h2,{id:"\u9002\u7528\u573A\u666F",children:"\u9002\u7528\u573A\u666F"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u5EFA\u5728\u503C\u91CD\u590D\u5EA6\u9AD8\u7684\u5217\u4E0A\uFF0C\u5EFA\u8BAE\u5728 100 \u5230 100,000 \u4E4B\u95F4\uFF0C\u5982\uFF1A\u804C\u4E1A\u3001\u5730\u5E02\u7B49\u3002\u91CD\u590D\u5EA6\u8FC7\u9AD8\u5219\u5BF9\u6BD4\u5176\u4ED6\u7C7B\u578B\u7D22\u5F15\u6CA1\u6709\u660E\u663E\u4F18\u52BF\uFF1B\u91CD\u590D\u5EA6\u8FC7\u4F4E\uFF0C\u5219\u7A7A\u95F4\u6548\u7387\u548C\u6027\u80FD\u4F1A\u5927\u5927\u964D\u4F4E\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u7279\u5B9A\u7C7B\u578B\u7684\u67E5\u8BE2\u4F8B\u5982 count\u3001or\u3001and \u7B49\u903B\u8F91\u64CD\u4F5C\u53EA\u9700\u8981\u8FDB\u884C\u4F4D\u8FD0\u7B97\u3002\u5982\uFF1A\u901A\u8FC7\u591A\u4E2A\u6761\u4EF6\u7EC4\u5408\u67E5\u8BE2\uFF0C",(0,d.jsx)(n.code,{children:"select count(*) from table where city = \u2019\u5357\u4EAC\u5E02\u2019and job = \u2019\u533B\u751F\u2019 and phonetype = \u2018iphone\u2019and gender =\u2019\u7537\u2019"}),"\u3002\u7C7B\u4F3C\u8FD9\u79CD\u573A\u666F\uFF0C\u5982\u679C\u5728\u6BCF\u4E2A\u67E5\u8BE2\u6761\u4EF6\u5217\u4E0A\u90FD\u5EFA\u7ACB\u4E86 Bitmap \u7D22\u5F15\uFF0C\u5219\u6570\u636E\u5E93\u53EF\u4EE5\u8FDB\u884C\u9AD8\u6548\u7684 bit \u8FD0\u7B97\uFF0C\u7CBE\u786E\u5B9A\u4F4D\u5230\u9700\u8981\u7684\u6570\u636E\uFF0C\u51CF\u5C11\u78C1\u76D8 IO\uFF0C\u5E76\u4E14\u7B5B\u9009\u51FA\u7684\u7ED3\u679C\u96C6\u8D8A\u5C0F\uFF0CBitmap \u7D22\u5F15\u7684\u4F18\u52BF\u8D8A\u660E\u663E\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u9002\u7528\u4E8E\u5373\u5E2D\u67E5\u8BE2\u3001\u591A\u7EF4\u5206\u6790\u7B49\u5206\u6790\u573A\u666F\u3002\u5982\u679C\u6709\u4E00\u5F20\u8868\u6709 100 \u5217\uFF0C\u7528\u6237\u4F1A\u4F7F\u7528\u5176\u4E2D\u7684 20 \u4E2A\u5217\u4F5C\u4E3A\u67E5\u8BE2\u6761\u4EF6\uFF08\u4EFB\u610F\u4F7F\u7528\u8FD9 20 \u4E2A\u5217\u4E0A\u7684 N \u7684\u5217\uFF09\uFF0C\u5728\u8FD9\u4E9B\u5217\u4E0A\u521B\u5EFA 20 \u4E2A Bitmap \u7D22\u5F15\uFF0C\u90A3\u4E48\u6240\u6709\u7684\u67E5\u8BE2\u90FD\u53EF\u4EE5\u5E94\u7528\u5230\u7D22\u5F15\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u4E0D\u9002\u7528\u573A\u666F",children:"\u4E0D\u9002\u7528\u573A\u666F"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u503C\u91CD\u590D\u5EA6\u4F4E\u7684\u5217\uFF0C\u5982\uFF1A\u8EAB\u4EFD\u8BC1\u53F7\u3001\u624B\u673A\u53F7\u7801\u7B49\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u91CD\u590D\u5EA6\u8FC7\u9AD8\u7684\u5217\uFF0C\u5982\uFF1A\u6027\u522B\uFF0C\u53EF\u4EE5\u5EFA\u7ACB Bitmap \u7D22\u5F15\uFF0C\u4F46\u4E0D\u5EFA\u8BAE\u5355\u72EC\u4F5C\u4E3A\u67E5\u8BE2\u6761\u4EF6\u4F7F\u7528\uFF0C\u5EFA\u8BAE\u4E0E\u5176\u4ED6\u6761\u4EF6\u5171\u540C\u8FC7\u6EE4\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u7ECF\u5E38\u9700\u8981\u66F4\u65B0\u4FEE\u6539\u7684\u5217\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u521B\u5EFA\u4F4D\u56FE\u7D22\u5F15",children:"\u521B\u5EFA\u4F4D\u56FE\u7D22\u5F15"}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8868\u540D\u4E3A table_name \u4E0A\u4E3A siteid \u521B\u5EFA Bitmap \u7D22\u5F15"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX [IF NOT EXISTS] index_name ON table1 (siteid) USING BITMAP;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u67E5\u770B\u4F4D\u56FE\u7D22\u5F15",children:"\u67E5\u770B\u4F4D\u56FE\u7D22\u5F15"}),"\n",(0,d.jsx)(n.p,{children:"\u5C55\u793A\u6307\u5B9A table_name \u7684\u4E0B\u7D22\u5F15"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sql",children:"SHOW INDEX FROM table_name;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5220\u9664\u7D22\u5F15",children:"\u5220\u9664\u7D22\u5F15"}),"\n",(0,d.jsx)(n.p,{children:"\u5220\u9664\u6307\u5B9A table_name \u7684\u4E0B\u7D22\u5F15"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sql",children:"DROP INDEX [IF EXISTS] index_name ON table_name;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Bitmap \u7D22\u5F15\u4EC5\u5728\u5355\u5217\u4E0A\u521B\u5EFA\u3002"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Bitmap \u7D22\u5F15\u80FD\u591F\u5E94\u7528\u5728 ",(0,d.jsx)(n.code,{children:"Duplicate"}),"\u3001",(0,d.jsx)(n.code,{children:"Uniq"})," \u6570\u636E\u6A21\u578B\u7684\u6240\u6709\u5217\u548C ",(0,d.jsx)(n.code,{children:"Aggregate"}),"\u6A21\u578B\u7684 Key \u5217\u4E0A\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Bitmap \u7D22\u5F15\u652F\u6301\u7684\u6570\u636E\u7C7B\u578B\u5982\u4E0B\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"TINYINT"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"SMALLINT"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"INT"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BIGINT"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"CHAR"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"VARCHAR"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DATE"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DATETIME"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"LARGEINT"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DECIMAL"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BOOL"})}),"\n"]}),"\n"]}),"\n"]})]})}function x(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},443574:function(e,n,i){i.d(n,{Z:function(){return l}});let l=i.p+"assets/images/bitmap-index-example-692794948b22e3105c1171ed819766fc.png"},250065:function(e,n,i){i.d(n,{Z:function(){return r},a:function(){return c}});var l=i(667294);let d={},s=l.createContext(d);function c(e){let n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);