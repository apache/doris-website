"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["248238"],{188466:function(n,e,s){s.r(e),s.d(e,{default:()=>u,frontMatter:()=>c,metadata:()=>l,assets:()=>a,toc:()=>t,contentTitle:()=>r});var l=JSON.parse('{"id":"sql-manual/sql-functions/scalar-functions/json-functions/normalize-json-numbers-to-double","title":"NORMALIZE_JSON_NUMBERS_TO_DOUBLE","description":"NORMALIZEJSONNUMBERSTODOUBLE \u51FD\u6570\u7528\u4E8E\u5C06 JSON \u4E2D\u7684\u6240\u6709\u6570\u503C\u7C7B\u578B\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF08double\uFF09\u7C7B\u578B\u3002 \u8BE5\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A JSON \u503C\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 JSON \u503C\uFF0C\u5176\u4E2D\u6240\u6709\u6570\u503C\u7C7B\u578B\u90FD\u88AB\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/sql-manual/sql-functions/scalar-functions/json-functions/normalize-json-numbers-to-double.md","sourceDirName":"sql-manual/sql-functions/scalar-functions/json-functions","slug":"/sql-manual/sql-functions/scalar-functions/json-functions/normalize-json-numbers-to-double","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/json-functions/normalize-json-numbers-to-double","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"NORMALIZE_JSON_NUMBERS_TO_DOUBLE","language":"zh-CN","description":"NORMALIZEJSONNUMBERSTODOUBLE \u51FD\u6570\u7528\u4E8E\u5C06 JSON \u4E2D\u7684\u6240\u6709\u6570\u503C\u7C7B\u578B\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF08double\uFF09\u7C7B\u578B\u3002 \u8BE5\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A JSON \u503C\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 JSON \u503C\uFF0C\u5176\u4E2D\u6240\u6709\u6570\u503C\u7C7B\u578B\u90FD\u88AB\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u3002"},"sidebar":"docs","previous":{"title":"JSON_VALID","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/json-functions/json-valid"},"next":{"title":"SORT_JSON_OBJECT_KEYS","permalink":"/zh-CN/docs/4.x/sql-manual/sql-functions/scalar-functions/json-functions/sort-json-object-keys"}}'),i=s("785893"),o=s("250065");let c={title:"NORMALIZE_JSON_NUMBERS_TO_DOUBLE",language:"zh-CN",description:"NORMALIZEJSONNUMBERSTODOUBLE \u51FD\u6570\u7528\u4E8E\u5C06 JSON \u4E2D\u7684\u6240\u6709\u6570\u503C\u7C7B\u578B\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF08double\uFF09\u7C7B\u578B\u3002 \u8BE5\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A JSON \u503C\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 JSON \u503C\uFF0C\u5176\u4E2D\u6240\u6709\u6570\u503C\u7C7B\u578B\u90FD\u88AB\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u3002"},r=void 0,a={},t=[{value:"\u63CF\u8FF0",id:"\u63CF\u8FF0",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"\u522B\u540D",id:"\u522B\u540D",level:2},{value:"\u53C2\u6570",id:"\u53C2\u6570",level:2},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:2},{value:"\u7528\u9014",id:"\u7528\u9014",level:2},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2},{value:"\u57FA\u672C\u6570\u503C\u8F6C\u6362",id:"\u57FA\u672C\u6570\u503C\u8F6C\u6362",level:3},{value:"\u5904\u7406\u5D4C\u5957 JSON",id:"\u5904\u7406\u5D4C\u5957-json",level:3},{value:"\u5904\u7406 NULL \u503C",id:"\u5904\u7406-null-\u503C",level:3},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2}];function d(n){let e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u63CF\u8FF0",children:"\u63CF\u8FF0"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"NORMALIZE_JSON_NUMBERS_TO_DOUBLE"})," \u51FD\u6570\u7528\u4E8E\u5C06 JSON \u4E2D\u7684\u6240\u6709\u6570\u503C\u7C7B\u578B\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF08double\uFF09\u7C7B\u578B\u3002\n\u8BE5\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A JSON \u503C\u4F5C\u4E3A\u8F93\u5165\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 JSON \u503C\uFF0C\u5176\u4E2D\u6240\u6709\u6570\u503C\u7C7B\u578B\u90FD\u88AB\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"NORMALIZE_JSON_NUMBERS_TO_DOUBLE(json_value)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u522B\u540D",children:"\u522B\u540D"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:"NORMALIZE_JSONB_NUMBERS_TO_DOUBLE"})}),"\n",(0,i.jsx)(e.h2,{id:"\u53C2\u6570",children:"\u53C2\u6570"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"json_value"})," - \u9700\u8981\u5904\u7406\u7684 JSON \u503C\u3002\u5FC5\u987B\u662F JSON \u7C7B\u578B\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,i.jsx)(e.p,{children:"\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 JSON \u503C\uFF0C\u5176\u4E2D\u6240\u6709\u6570\u503C\u7C7B\u578B\u90FD\u88AB\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF08double\uFF09\u7C7B\u578B\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u5F53\u8F93\u5165\u4E3A NULL \u65F6\uFF0C\u51FD\u6570\u8FD4\u56DE NULL\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u7528\u9014",children:"\u7528\u9014"}),"\n",(0,i.jsx)(e.p,{children:"\u7531\u4E8E JSON \u6807\u51C6\u5E76\u6CA1\u6709\u89C4\u5B9A Number \u7684\u5E95\u5C42\u7C7B\u578B\uFF0C\u800C\u5927\u591A\u6570\u7CFB\u7EDF\u4E2D Number \u7C7B\u578B\u7684\u5B9E\u73B0\u57FA\u4E8E IEEE 754-2008 \u4E8C\u8FDB\u5236 64 \u4F4D\uFF08\u53CC\u7CBE\u5EA6\uFF09\u6D6E\u70B9\u6570\uFF08\u5982 C++ \u4E2D\u7684 double \u7C7B\u578B\uFF09\u3002\nDoris \u4E3A\u4E86\u4FDD\u8BC1\u6570\u636E\u51C6\u786E\u6027\uFF0C\u5BF9 Number \u7C7B\u578B\u8FDB\u884C\u4E86\u66F4\u7CBE\u7EC6\u7684\u6269\u5C55\u3002\u652F\u6301\u4E86 Int128\u3001DECIMAL \u7B49\u66F4\u7CBE\u786E\u7684\u7C7B\u578B\u3002\n\u4F46\u662F\u8FD9\u6837\u53EF\u80FD\u4F1A\u548C\u5176\u4ED6\u7CFB\u7EDF\u5B58\u5728\u5DEE\u5F02\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u4F8B\u5982\u5BF9\u4E8E\u8FD9\u6837\u7684 JSON \u5B57\u7B26\u4E32\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:"'{\"abc\": 18446744073709551616}'\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u4E00\u4E9B\u4F7F\u7528 Double \u4F5C\u4E3A JSON \u7684 Number \u5E95\u5C42\u7C7B\u578B\u7684\u7CFB\u7EDF\uFF0C\u4F8B\u5982 MySQL\uFF0C\u4F1A\u5F97\u5230\u8FD9\u6837\u7684\u7ED3\u679C\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------+\n| cast(\'{"abc": 18446744073709551616}\' as json) |\n+-----------------------------------------------+\n| {"abc": 1.8446744073709552e19}                |\n+-----------------------------------------------+\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u4F46\u662F\u56E0\u4E3A Doris \u7684 JSON \u7684 Number \u6709\u7CBE\u5EA6\u66F4\u9AD8\u7684\u7C7B\u578B\uFF0C\u6240\u4EE5\u4F1A\u5F97\u5230\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------+\n| cast(\'{"abc": 18446744073709551616}\' as json) |\n+-----------------------------------------------+\n| {"abc":18446744073709551616}                  |\n+-----------------------------------------------+\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u4E3A\u4E86\u548C\u5176\u4ED6\u7CFB\u7EDF\u517C\u5BB9\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"NORMALIZE_JSON_NUMBERS_TO_DOUBLE"}),"\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:'+---------------------------------------------------------------------------------+\n| normalize_json_numbers_to_double(cast(\'{"abc": 18446744073709551616}\' as json)) |\n+---------------------------------------------------------------------------------+\n| {"abc":1.8446744073709552e+19}                                                  |\n+---------------------------------------------------------------------------------+\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,i.jsx)(e.h3,{id:"\u57FA\u672C\u6570\u503C\u8F6C\u6362",children:"\u57FA\u672C\u6570\u503C\u8F6C\u6362"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:'SELECT normalize_json_numbers_to_double(cast(\'{"b":1234567890123456789,"b":456,"a":789}\' as json));\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:'+---------------------------------------------------------------------------------------------+\n| normalize_json_numbers_to_double(cast(\'{"b":1234567890123456789,"b":456,"a":789}\' as json)) |\n+---------------------------------------------------------------------------------------------+\n| {"b":1.2345678901234568e+18,"b":456,"a":789}                                                |\n+---------------------------------------------------------------------------------------------+\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u5904\u7406\u5D4C\u5957-json",children:"\u5904\u7406\u5D4C\u5957 JSON"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:'SELECT normalize_json_numbers_to_double(cast(\'{"object":{"int":123,"bigint":1234567890123456789},"array":[123,456,789]}\' as json));\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:'+-----------------------------------------------------------------------------------------------------------------------------+\n| normalize_json_numbers_to_double(cast(\'{"object":{"int":123,"bigint":1234567890123456789},"array":[123,456,789]}\' as json)) |\n+-----------------------------------------------------------------------------------------------------------------------------+\n| {"object":{"int":123,"bigint":1.2345678901234568e+18},"array":[123,456,789]}                                                |\n+-----------------------------------------------------------------------------------------------------------------------------+\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u5904\u7406-null-\u503C",children:"\u5904\u7406 NULL \u503C"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"SELECT normalize_json_numbers_to_double(null);\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:"+----------------------------------------+\n| normalize_json_numbers_to_double(null) |\n+----------------------------------------+\n| NULL                                   |\n+----------------------------------------+\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"NORMALIZE_JSON_NUMBERS_TO_DOUBLE"})," \u51FD\u6570\u6709\u4E00\u4E2A\u522B\u540D ",(0,i.jsx)(e.code,{children:"NORMALIZE_JSONB_NUMBERS_TO_DOUBLE"}),"\uFF0C\u4E24\u8005\u529F\u80FD\u5B8C\u5168\u76F8\u540C\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6B64\u51FD\u6570\u5C06 JSON \u4E2D\u7684\u6240\u6709\u6570\u503C\u7C7B\u578B\uFF08\u5305\u62EC\u6574\u6570\u3001\u6D6E\u70B9\u6570\u3001DECIMAL\uFF09\u90FD\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u8868\u793A\u5F62\u5F0F\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5BF9\u4E8E\u7279\u522B\u5927\u7684\u6574\u6570\uFF0C\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7CBE\u5EA6\u635F\u5931\uFF0C\u5982\u793A\u4F8B\u4E2D\u7684 1234567890123456789 \u88AB\u8F6C\u6362\u4E3A 1.2345678901234568e+18\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6B64\u51FD\u6570\u4E0D\u4F1A\u6539\u53D8 JSON \u7684\u7ED3\u6784\uFF0C\u53EA\u4F1A\u4FEE\u6539\u5176\u4E2D\u7684\u6570\u503C\u8868\u793A\u5F62\u5F0F\u3002"}),"\n"]}),"\n"]})]})}function u(n={}){let{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},250065:function(n,e,s){s.d(e,{Z:function(){return r},a:function(){return c}});var l=s(667294);let i={},o=l.createContext(i);function c(n){let e=l.useContext(o);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),l.createElement(o.Provider,{value:e},n.children)}}}]);