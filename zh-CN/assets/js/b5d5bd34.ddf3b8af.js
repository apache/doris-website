"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["305169"],{861517:function(e,n,l){l.r(n),l.d(n,{default:()=>o,frontMatter:()=>i,metadata:()=>s,assets:()=>d,toc:()=>t,contentTitle:()=>a});var s=JSON.parse('{"id":"ai/text-search/search-operators","title":"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301","description":"\u4ECB\u7ECD Apache Doris \u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF08MATCH_ANY\u3001MATCH_ALL\u3001MATCH_PHRASE \u7B49\uFF09\u53CA\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F\u80FD\u529B\uFF0C\u5305\u542B\u5178\u578B SQL \u793A\u4F8B\u548C\u9002\u7528\u573A\u666F\u8BF4\u660E\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-4.x/ai/text-search/search-operators.md","sourceDirName":"ai/text-search","slug":"/ai/text-search/search-operators","permalink":"/zh-CN/docs/4.x/ai/text-search/search-operators","draft":false,"unlisted":false,"tags":[],"version":"4.x","lastUpdatedAt":1770477659000,"frontMatter":{"title":"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301","language":"zh-CN","description":"\u4ECB\u7ECD Apache Doris \u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF08MATCH_ANY\u3001MATCH_ALL\u3001MATCH_PHRASE \u7B49\uFF09\u53CA\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F\u80FD\u529B\uFF0C\u5305\u542B\u5178\u578B SQL \u793A\u4F8B\u548C\u9002\u7528\u573A\u666F\u8BF4\u660E\u3002"},"sidebar":"docs","previous":{"title":"\u6982\u8FF0","permalink":"/zh-CN/docs/4.x/ai/text-search/overview"},"next":{"title":"SEARCH \u51FD\u6570","permalink":"/zh-CN/docs/4.x/ai/text-search/search-function"}}'),r=l("785893"),c=l("250065");let i={title:"\u5168\u6587\u68C0\u7D22\u4E0E\u67E5\u8BE2\u52A0\u901F\u652F\u6301",language:"zh-CN",description:"\u4ECB\u7ECD Apache Doris \u5168\u6587\u68C0\u7D22\u7B97\u5B50\uFF08MATCH_ANY\u3001MATCH_ALL\u3001MATCH_PHRASE \u7B49\uFF09\u53CA\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F\u80FD\u529B\uFF0C\u5305\u542B\u5178\u578B SQL \u793A\u4F8B\u548C\u9002\u7528\u573A\u666F\u8BF4\u660E\u3002"},a=void 0,d={},t=[{value:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",id:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",level:2},{value:"MATCH_ANY",id:"match_any",level:3},{value:"MATCH_ALL",id:"match_all",level:3},{value:"MATCH_PHRASE",id:"match_phrase",level:3},{value:"MATCH_PHRASE\uFF08\u5E26 slop\uFF09",id:"match_phrase\u5E26-slop",level:3},{value:"MATCH_PHRASE\uFF08\u4E25\u683C\u987A\u5E8F\uFF09",id:"match_phrase\u4E25\u683C\u987A\u5E8F",level:3},{value:"MATCH_PHRASE_PREFIX",id:"match_phrase_prefix",level:3},{value:"MATCH_REGEXP",id:"match_regexp",level:3},{value:"MATCH_PHRASE_EDGE",id:"match_phrase_edge",level:3},{value:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",id:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",level:2},{value:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",id:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",level:3}];function h(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50",children:"\u5168\u6587\u68C0\u7D22\u7B97\u5B50"}),"\n",(0,r.jsx)(n.h3,{id:"match_any",children:"MATCH_ANY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5339\u914D\u5305\u542B\u4EFB\u4E00\u5173\u952E\u8BCD\u7684\u884C\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ANY 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_all",children:"MATCH_ALL"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5339\u914D\u540C\u65F6\u5305\u542B\u6240\u6709\u5173\u952E\u8BCD\u7684\u884C\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_ALL 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase",children:"MATCH_PHRASE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u77ED\u8BED\u5339\u914D\uFF0C\u8981\u6C42\u8BCD\u9879\u76F8\u90BB\u4E14\u987A\u5E8F\u4E00\u81F4\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u9700\u7D22\u5F15\u52A0\u901F\uFF0C\u8BF7\u5728\u7D22\u5F15\u5C5E\u6027\u4E2D\u5F00\u542F ",(0,r.jsx)(n.code,{children:'"support_phrase" = "true"'}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase\u5E26-slop",children:"MATCH_PHRASE\uFF08\u5E26 slop\uFF09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5141\u8BB8\u5173\u952E\u8BCD\u4E4B\u95F4\u5B58\u5728\u6700\u591A ",(0,r.jsx)(n.code,{children:"slop"})," \u4E2A\u8BCD\u7684\u95F4\u9694\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u5141\u8BB8 keyword1 \u4E0E keyword2 \u4E4B\u95F4\u6700\u591A\u95F4\u9694 3 \u4E2A\u8BCD\nSELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase\u4E25\u683C\u987A\u5E8F",children:"MATCH_PHRASE\uFF08\u4E25\u683C\u987A\u5E8F\uFF09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7ED3\u5408 ",(0,r.jsx)(n.code,{children:"+"})," \u4E0E slop\uFF0C\u8981\u6C42\u8BCD\u5E8F\u56FA\u5B9A\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE 'keyword1 keyword2 ~3+';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase_prefix",children:"MATCH_PHRASE_PREFIX"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u77ED\u8BED\u5339\u914D\uFF0C\u6700\u540E\u4E00\u4E2A\u8BCD\u6309\u524D\u7F00\u5339\u914D\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u5F53\u53EA\u7ED9\u51FA\u4E00\u4E2A\u8BCD\u65F6\uFF0C\u9000\u5316\u4E3A\u8BE5\u8BCD\u7684\u524D\u7F00\u5339\u914D\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u6700\u540E\u4E00\u4E2A\u8BCD\u524D\u7F00\u5339\u914D\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1 key';\n\n-- \u5355\u8BCD\u9000\u5316\u4E3A\u524D\u7F00\u5339\u914D\nSELECT * FROM table_name WHERE content MATCH_PHRASE_PREFIX 'keyword1';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_regexp",children:"MATCH_REGEXP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6B63\u5219\u5339\u914D\uFF08\u9488\u5BF9\u5206\u8BCD\u540E\u7684\u8BCD\u9879\u8FDB\u884C\u5339\u914D\uFF09\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_REGEXP '^key_word.*';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"match_phrase_edge",children:"MATCH_PHRASE_EDGE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8FB9\u7F18\u77ED\u8BED\u5339\u914D\uFF1A\u9996\u8BCD\u6309\u540E\u7F00\u5339\u914D\uFF0C\u4E2D\u95F4\u8BCD\u7CBE\u786E\u5339\u914D\uFF0C\u672B\u8BCD\u6309\u524D\u7F00\u5339\u914D\uFF1B\u8BCD\u9879\u9700\u76F8\u90BB\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM table_name WHERE content MATCH_PHRASE_EDGE 'search engine optim';\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F",children:"\u5012\u6392\u7D22\u5F15\u67E5\u8BE2\u52A0\u901F"}),"\n",(0,r.jsx)(n.h3,{id:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570",children:"\u652F\u6301\u7684\u8FD0\u7B97\u7B26\u548C\u51FD\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7B49\u503C\u4E0E\u96C6\u5408\uFF1A",(0,r.jsx)(n.code,{children:"="}),", ",(0,r.jsx)(n.code,{children:"!="}),", ",(0,r.jsx)(n.code,{children:"IN"}),", ",(0,r.jsx)(n.code,{children:"NOT IN"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u8303\u56F4\uFF1A",(0,r.jsx)(n.code,{children:">"}),", ",(0,r.jsx)(n.code,{children:">="}),", ",(0,r.jsx)(n.code,{children:"<"}),", ",(0,r.jsx)(n.code,{children:"<="}),", ",(0,r.jsx)(n.code,{children:"BETWEEN"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u7A7A\u503C\u5224\u65AD\uFF1A",(0,r.jsx)(n.code,{children:"IS NULL"}),", ",(0,r.jsx)(n.code,{children:"IS NOT NULL"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6570\u7EC4\uFF1A",(0,r.jsx)(n.code,{children:"array_contains"}),", ",(0,r.jsx)(n.code,{children:"array_overlaps"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- \u793A\u4F8B\nSELECT * FROM t WHERE price >= 100 AND price < 200;            -- \u8303\u56F4\nSELECT * FROM t WHERE tags IN ('a','b','c');                    -- \u96C6\u5408\nSELECT * FROM t WHERE array_contains(attributes, 'color');      -- \u6570\u7EC4\n"})})]})}function o(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},250065:function(e,n,l){l.d(n,{Z:function(){return a},a:function(){return i}});var s=l(667294);let r={},c=s.createContext(r);function i(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);